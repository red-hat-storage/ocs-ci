

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Stable Branch &mdash; OCS-CI  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Config directory" href="readmefiles/conf.README.html" />
    <link rel="prev" title="Writing tests" href="writing_tests.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> OCS-CI
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Package documentations:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="apidoc/modules.html">ocs_ci modules</a></li>
</ul>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="code_review.html">Code review/contribution best practices in OCS-CI</a></li>
<li class="toctree-l1"><a class="reference internal" href="coding_guidelines.html">Coding guidelines for OCS-CI project</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="supported_platforms.html">Supported platforms</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage.html#usage-for-getting-various-ocs-image-versions">usage for getting various ocs image versions</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage.html#usage-for-cleanup">usage for cleanup</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage.html#usage-to-shutdown-aws-nodes-when-nodes-are-not-in-use">usage to shutdown AWS nodes when nodes are not in use</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage.html#usage-for-ocs-build-tool">Usage for ocs-build tool</a></li>
<li class="toctree-l1"><a class="reference internal" href="upgrade.html">Upgrade</a></li>
<li class="toctree-l1"><a class="reference internal" href="results.html">Results</a></li>
<li class="toctree-l1"><a class="reference internal" href="writing_tests.html">Writing tests</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Stable Branch</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="#definition-of-stable">Definition of Stable</a></li>
<li class="toctree-l2"><a class="reference internal" href="#impact-on-the-development-process">Impact on the Development Process</a></li>
<li class="toctree-l2"><a class="reference internal" href="#automation">Automation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#resolving-failed-tests">Resolving failed tests</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="readmefiles/conf.README.html">Config directory</a></li>
<li class="toctree-l1"><a class="reference internal" href="fixture_usage.html">Guidelines for fixtures usage in OCS-CI</a></li>
<li class="toctree-l1"><a class="reference internal" href="debugging.html">Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="unit_tests.html">Unit tests</a></li>
<li class="toctree-l1"><a class="reference internal" href="workarounds.html">Tracking of workarounds</a></li>
<li class="toctree-l1"><a class="reference internal" href="release_guidelines.html">OCS-CI Release Branches</a></li>
<li class="toctree-l1"><a class="reference internal" href="usecases/index.html">Common Use cases and FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="multicluster_test_example.html">Multi-cluster test example</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">OCS-CI</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Stable Branch</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/stable_branch.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="stable-branch">
<h1>Stable Branch<a class="headerlink" href="#stable-branch" title="Permalink to this headline">¶</a></h1>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>The OCS-CI team has adopted the use of a stable branch for ocs-ci. The intention
here is to perform additional testing on code changes that are merged to our master branch
before they are deemed stable. Once testing has passed, the new changes will be propagated
to our stable branch and can be used for production testing or any other testing that
requires the use of our stable branch.</p>
<p>The initial proposal, discussion, and implementation details can be found in a
<a class="reference external" href="https://docs.google.com/document/d/15rqGVDEWFTFsg6FOOBeWUYYrwBa9wi0rZtdfOYi_-zg/edit">shared google doc</a>.
Note this document is only available to Red Hat internal accounts.</p>
</div>
<div class="section" id="definition-of-stable">
<h2>Definition of Stable<a class="headerlink" href="#definition-of-stable" title="Permalink to this headline">¶</a></h2>
<p>Before we can start accepting code to our stable branch, we need to determine what “stable”
means to us. This definition is certainly subject to change as we identify gaps or
redundancies in our testing. That said, we have determined that the following level of
testing will qualify our code as stable:</p>
<ul class="simple">
<li><p>Acceptance tests on AWS</p></li>
<li><p>Acceptance tests on VSphere</p></li>
</ul>
<p>Acceptance tests are all tests defined in ocs-ci that are decorated with the <code class="docutils literal notranslate"><span class="pre">&#64;acceptance</span></code>
marker.</p>
</div>
<div class="section" id="impact-on-the-development-process">
<h2>Impact on the Development Process<a class="headerlink" href="#impact-on-the-development-process" title="Permalink to this headline">¶</a></h2>
<p>There should really be no difference in how changes to our codebase are introduced.
Developers will still create their own forks and merge requests to our master branch.
The only real differences will be the following:</p>
<ul class="simple">
<li><p>Developers will have to troubleshoot and fix issues that cause acceptance testing
to fail.</p></li>
<li><p>New contributions will need to pass our stable testing before those changes will reflect
in our production testing.</p></li>
</ul>
</div>
<div class="section" id="automation">
<h2>Automation<a class="headerlink" href="#automation" title="Permalink to this headline">¶</a></h2>
<p>Testing new changes to master branch and qualifying them for promotion to the stable
branch is done through scheduled automation. The current schedule is to run tests twice
weekly and automatically promote changes that pass testing. Automation is done via a
<a class="reference external" href="https://ocs4-jenkins-csb-ocsqe.apps.ocp4.prod.psi.redhat.com/job/qe-ocs-ci-stable-branch-pipeline/">jenkins pipeline</a>.</p>
<p>If all tests pass, a fast-forward merge is performed to update the stable branch with
the latest changes to master and a new <a class="reference external" href="https://github.com/red-hat-storage/ocs-ci/tags">tag</a>
is created which includes the OCS version and a timestamp (e.g. <code class="docutils literal notranslate"><span class="pre">stable-ocs-4.7-202103021622</span></code>).
An email is also sent out stating that the promotion was successful and listing the commits
that have been merged to the stable branch. If any tests fail, an email is sent out describing
the failed tests and notifying the team that action is required to resolve the failures.</p>
</div>
<div class="section" id="resolving-failed-tests">
<h2>Resolving failed tests<a class="headerlink" href="#resolving-failed-tests" title="Permalink to this headline">¶</a></h2>
<p>When our automation does not pass, manual intervention is required to troubleshoot the
failure(s), determine which changes to the master branch caused them, and coordinate
with the original developer of the change to implement a fix. If a fix is not able to
be merged to master in a timely manner then the original commit(s) may be reverted to
get stable branch testing back to a passing state.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="readmefiles/conf.README.html" class="btn btn-neutral float-right" title="Config directory" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="writing_tests.html" class="btn btn-neutral float-left" title="Writing tests" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2019, OCS-QE

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>