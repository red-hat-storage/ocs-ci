

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>ocs_ci.ocs package &mdash; OCS-CI  documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="ocs_ci.ocs.acm package" href="ocs_ci.ocs.acm.html" />
    <link rel="prev" title="ocs_ci.helpers package" href="ocs_ci.helpers.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> OCS-CI
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Package documentations:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">ocs_ci modules</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="ocs_ci.html">ocs_ci package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="ocs_ci.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="ocs_ci.deployment.html">ocs_ci.deployment package</a></li>
<li class="toctree-l4"><a class="reference internal" href="ocs_ci.framework.html">ocs_ci.framework package</a></li>
<li class="toctree-l4"><a class="reference internal" href="ocs_ci.helpers.html">ocs_ci.helpers package</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">ocs_ci.ocs package</a></li>
<li class="toctree-l4"><a class="reference internal" href="ocs_ci.tests.html">ocs_ci.tests package</a></li>
<li class="toctree-l4"><a class="reference internal" href="ocs_ci.utility.html">ocs_ci.utility package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="ocs_ci.html#module-ocs_ci">Module contents</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../code_review.html">Code review/contribution best practices in OCS-CI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coding_guidelines.html">Coding guidelines for OCS-CI project</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../supported_platforms.html">Supported platforms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage.html#usage-for-getting-various-ocs-image-versions">usage for getting various ocs image versions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage.html#usage-for-cleanup">usage for cleanup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage.html#usage-to-shutdown-aws-nodes-when-nodes-are-not-in-use">usage to shutdown AWS nodes when nodes are not in use</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage.html#usage-for-ocs-build-tool">Usage for ocs-build tool</a></li>
<li class="toctree-l1"><a class="reference internal" href="../upgrade.html">Upgrade</a></li>
<li class="toctree-l1"><a class="reference internal" href="../results.html">Results</a></li>
<li class="toctree-l1"><a class="reference internal" href="../writing_tests.html">Writing tests</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stable_branch.html">Stable Branch</a></li>
<li class="toctree-l1"><a class="reference internal" href="../readmefiles/conf.README.html">Config directory</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fixture_usage.html">Guidelines for fixtures usage in OCS-CI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../debugging.html">Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../unit_tests.html">Unit tests</a></li>
<li class="toctree-l1"><a class="reference internal" href="../workarounds.html">Tracking of workarounds</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release_guidelines.html">OCS-CI Release Branches</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usecases/index.html">Common Use cases and FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../multicluster_test_example.html">Multi-cluster test example</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">OCS-CI</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="modules.html">ocs_ci</a> &raquo;</li>
        
          <li><a href="ocs_ci.html">ocs_ci package</a> &raquo;</li>
        
      <li>ocs_ci.ocs package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/apidoc/ocs_ci.ocs.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="ocs-ci-ocs-package">
<h1>ocs_ci.ocs package<a class="headerlink" href="#ocs-ci-ocs-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="ocs_ci.ocs.acm.html">ocs_ci.ocs.acm package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="ocs_ci.ocs.acm.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="ocs_ci.ocs.acm.html#module-ocs_ci.ocs.acm.acm">ocs_ci.ocs.acm.acm module</a></li>
<li class="toctree-l2"><a class="reference internal" href="ocs_ci.ocs.acm.html#module-ocs_ci.ocs.acm.acm_constants">ocs_ci.ocs.acm.acm_constants module</a></li>
<li class="toctree-l2"><a class="reference internal" href="ocs_ci.ocs.acm.html#module-ocs_ci.ocs.acm">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="ocs_ci.ocs.must_gather.html">ocs_ci.ocs.must_gather package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="ocs_ci.ocs.must_gather.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="ocs_ci.ocs.must_gather.html#module-ocs_ci.ocs.must_gather.const_must_gather">ocs_ci.ocs.must_gather.const_must_gather module</a></li>
<li class="toctree-l2"><a class="reference internal" href="ocs_ci.ocs.must_gather.html#module-ocs_ci.ocs.must_gather.must_gather">ocs_ci.ocs.must_gather.must_gather module</a></li>
<li class="toctree-l2"><a class="reference internal" href="ocs_ci.ocs.must_gather.html#module-ocs_ci.ocs.must_gather">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="ocs_ci.ocs.resources.html">ocs_ci.ocs.resources package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="ocs_ci.ocs.resources.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="ocs_ci.ocs.resources.html#module-ocs_ci.ocs.resources.backingstore">ocs_ci.ocs.resources.backingstore module</a></li>
<li class="toctree-l2"><a class="reference internal" href="ocs_ci.ocs.resources.html#module-ocs_ci.ocs.resources.bucket_policy">ocs_ci.ocs.resources.bucket_policy module</a></li>
<li class="toctree-l2"><a class="reference internal" href="ocs_ci.ocs.resources.html#module-ocs_ci.ocs.resources.bucketclass">ocs_ci.ocs.resources.bucketclass module</a></li>
<li class="toctree-l2"><a class="reference internal" href="ocs_ci.ocs.resources.html#module-ocs_ci.ocs.resources.cache_drop">ocs_ci.ocs.resources.cache_drop module</a></li>
<li class="toctree-l2"><a class="reference internal" href="ocs_ci.ocs.resources.html#module-ocs_ci.ocs.resources.catalog_source">ocs_ci.ocs.resources.catalog_source module</a></li>
<li class="toctree-l2"><a class="reference internal" href="ocs_ci.ocs.resources.html#module-ocs_ci.ocs.resources.cloud_manager">ocs_ci.ocs.resources.cloud_manager module</a></li>
<li class="toctree-l2"><a class="reference internal" href="ocs_ci.ocs.resources.html#module-ocs_ci.ocs.resources.cloud_uls">ocs_ci.ocs.resources.cloud_uls module</a></li>
<li class="toctree-l2"><a class="reference internal" href="ocs_ci.ocs.resources.html#module-ocs_ci.ocs.resources.csv">ocs_ci.ocs.resources.csv module</a></li>
<li class="toctree-l2"><a class="reference internal" href="ocs_ci.ocs.resources.html#module-ocs_ci.ocs.resources.deployment">ocs_ci.ocs.resources.deployment module</a></li>
<li class="toctree-l2"><a class="reference internal" href="ocs_ci.ocs.resources.html#module-ocs_ci.ocs.resources.drpc">ocs_ci.ocs.resources.drpc module</a></li>
<li class="toctree-l2"><a class="reference internal" href="ocs_ci.ocs.resources.html#module-ocs_ci.ocs.resources.fips">ocs_ci.ocs.resources.fips module</a></li>
<li class="toctree-l2"><a class="reference internal" href="ocs_ci.ocs.resources.html#module-ocs_ci.ocs.resources.install_plan">ocs_ci.ocs.resources.install_plan module</a></li>
<li class="toctree-l2"><a class="reference internal" href="ocs_ci.ocs.resources.html#module-ocs_ci.ocs.resources.job">ocs_ci.ocs.resources.job module</a></li>
<li class="toctree-l2"><a class="reference internal" href="ocs_ci.ocs.resources.html#module-ocs_ci.ocs.resources.machineconfig">ocs_ci.ocs.resources.machineconfig module</a></li>
<li class="toctree-l2"><a class="reference internal" href="ocs_ci.ocs.resources.html#module-ocs_ci.ocs.resources.mcg">ocs_ci.ocs.resources.mcg module</a></li>
<li class="toctree-l2"><a class="reference internal" href="ocs_ci.ocs.resources.html#module-ocs_ci.ocs.resources.mcg_params">ocs_ci.ocs.resources.mcg_params module</a></li>
<li class="toctree-l2"><a class="reference internal" href="ocs_ci.ocs.resources.html#module-ocs_ci.ocs.resources.namespacestore">ocs_ci.ocs.resources.namespacestore module</a></li>
<li class="toctree-l2"><a class="reference internal" href="ocs_ci.ocs.resources.html#module-ocs_ci.ocs.resources.objectbucket">ocs_ci.ocs.resources.objectbucket module</a></li>
<li class="toctree-l2"><a class="reference internal" href="ocs_ci.ocs.resources.html#module-ocs_ci.ocs.resources.objectconfigfile">ocs_ci.ocs.resources.objectconfigfile module</a></li>
<li class="toctree-l2"><a class="reference internal" href="ocs_ci.ocs.resources.html#module-ocs_ci.ocs.resources.ocs">ocs_ci.ocs.resources.ocs module</a></li>
<li class="toctree-l2"><a class="reference internal" href="ocs_ci.ocs.resources.html#module-ocs_ci.ocs.resources.packagemanifest">ocs_ci.ocs.resources.packagemanifest module</a></li>
<li class="toctree-l2"><a class="reference internal" href="ocs_ci.ocs.resources.html#module-ocs_ci.ocs.resources.pod">ocs_ci.ocs.resources.pod module</a></li>
<li class="toctree-l2"><a class="reference internal" href="ocs_ci.ocs.resources.html#module-ocs_ci.ocs.resources.pv">ocs_ci.ocs.resources.pv module</a></li>
<li class="toctree-l2"><a class="reference internal" href="ocs_ci.ocs.resources.html#module-ocs_ci.ocs.resources.pvc">ocs_ci.ocs.resources.pvc module</a></li>
<li class="toctree-l2"><a class="reference internal" href="ocs_ci.ocs.resources.html#module-ocs_ci.ocs.resources.rgw">ocs_ci.ocs.resources.rgw module</a></li>
<li class="toctree-l2"><a class="reference internal" href="ocs_ci.ocs.resources.html#module-ocs_ci.ocs.resources.storage_cluster">ocs_ci.ocs.resources.storage_cluster module</a></li>
<li class="toctree-l2"><a class="reference internal" href="ocs_ci.ocs.resources.html#module-ocs_ci.ocs.resources.storageclassclaim">ocs_ci.ocs.resources.storageclassclaim module</a></li>
<li class="toctree-l2"><a class="reference internal" href="ocs_ci.ocs.resources.html#module-ocs_ci.ocs.resources.test_packagemanifest">ocs_ci.ocs.resources.test_packagemanifest module</a></li>
<li class="toctree-l2"><a class="reference internal" href="ocs_ci.ocs.resources.html#module-ocs_ci.ocs.resources.topology">ocs_ci.ocs.resources.topology module</a></li>
<li class="toctree-l2"><a class="reference internal" href="ocs_ci.ocs.resources.html#module-ocs_ci.ocs.resources">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="ocs_ci.ocs.tests.html">ocs_ci.ocs.tests package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="ocs_ci.ocs.tests.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="ocs_ci.ocs.tests.html#module-ocs_ci.ocs.tests.test_defaults">ocs_ci.ocs.tests.test_defaults module</a></li>
<li class="toctree-l2"><a class="reference internal" href="ocs_ci.ocs.tests.html#module-ocs_ci.ocs.tests.test_fiojob">ocs_ci.ocs.tests.test_fiojob module</a></li>
<li class="toctree-l2"><a class="reference internal" href="ocs_ci.ocs.tests.html#module-ocs_ci.ocs.tests">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="ocs_ci.ocs.ui.html">ocs_ci.ocs.ui package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="ocs_ci.ocs.ui.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="ocs_ci.ocs.ui.html#module-ocs_ci.ocs.ui.acm_ui">ocs_ci.ocs.ui.acm_ui module</a></li>
<li class="toctree-l2"><a class="reference internal" href="ocs_ci.ocs.ui.html#module-ocs_ci.ocs.ui.add_replace_device_ui">ocs_ci.ocs.ui.add_replace_device_ui module</a></li>
<li class="toctree-l2"><a class="reference internal" href="ocs_ci.ocs.ui.html#module-ocs_ci.ocs.ui.base_ui">ocs_ci.ocs.ui.base_ui module</a></li>
<li class="toctree-l2"><a class="reference internal" href="ocs_ci.ocs.ui.html#module-ocs_ci.ocs.ui.block_pool">ocs_ci.ocs.ui.block_pool module</a></li>
<li class="toctree-l2"><a class="reference internal" href="ocs_ci.ocs.ui.html#module-ocs_ci.ocs.ui.deployment_ui">ocs_ci.ocs.ui.deployment_ui module</a></li>
<li class="toctree-l2"><a class="reference internal" href="ocs_ci.ocs.ui.html#module-ocs_ci.ocs.ui.helpers_ui">ocs_ci.ocs.ui.helpers_ui module</a></li>
<li class="toctree-l2"><a class="reference internal" href="ocs_ci.ocs.ui.html#module-ocs_ci.ocs.ui.mcg_ui">ocs_ci.ocs.ui.mcg_ui module</a></li>
<li class="toctree-l2"><a class="reference internal" href="ocs_ci.ocs.ui.html#module-ocs_ci.ocs.ui.odf_topology">ocs_ci.ocs.ui.odf_topology module</a></li>
<li class="toctree-l2"><a class="reference internal" href="ocs_ci.ocs.ui.html#module-ocs_ci.ocs.ui.pvc_ui">ocs_ci.ocs.ui.pvc_ui module</a></li>
<li class="toctree-l2"><a class="reference internal" href="ocs_ci.ocs.ui.html#module-ocs_ci.ocs.ui.storageclass">ocs_ci.ocs.ui.storageclass module</a></li>
<li class="toctree-l2"><a class="reference internal" href="ocs_ci.ocs.ui.html#module-ocs_ci.ocs.ui.validation_ui">ocs_ci.ocs.ui.validation_ui module</a></li>
<li class="toctree-l2"><a class="reference internal" href="ocs_ci.ocs.ui.html#module-ocs_ci.ocs.ui.views">ocs_ci.ocs.ui.views module</a></li>
<li class="toctree-l2"><a class="reference internal" href="ocs_ci.ocs.ui.html#module-ocs_ci.ocs.ui">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-ocs_ci.ocs.amq">
<span id="ocs-ci-ocs-amq-module"></span><h2>ocs_ci.ocs.amq module<a class="headerlink" href="#module-ocs_ci.ocs.amq" title="Permalink to this headline">¶</a></h2>
<p>AMQ Class to run amq specific tests</p>
<dl class="class">
<dt id="ocs_ci.ocs.amq.AMQ">
<em class="property">class </em><code class="sig-prename descclassname">ocs_ci.ocs.amq.</code><code class="sig-name descname">AMQ</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.amq.AMQ" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Workload operation using AMQ</p>
<dl class="method">
<dt id="ocs_ci.ocs.amq.AMQ.cleanup">
<code class="sig-name descname">cleanup</code><span class="sig-paren">(</span><em class="sig-param">kafka_namespace='myproject'</em>, <em class="sig-param">tiller_namespace='tiller'</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.amq.AMQ.cleanup" title="Permalink to this definition">¶</a></dt>
<dd><p>Clean up function,
will start to delete from amq cluster operator
then amq-connector, persistent, bridge, at the end it will delete the created namespace</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kafka_namespace</strong> (<em>str</em>) – Created namespace for amq</p></li>
<li><p><strong>tiller_namespace</strong> (<em>str</em>) – Created namespace for benchmark</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.amq.AMQ.create_consumer_pod">
<code class="sig-name descname">create_consumer_pod</code><span class="sig-paren">(</span><em class="sig-param">num_of_pods=1</em>, <em class="sig-param">value='10000'</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.amq.AMQ.create_consumer_pod" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates producer pods</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_of_pods</strong> (<em>int</em>) – Number of consumer pods to be created</p></li>
<li><p><strong>value</strong> (<em>str</em>) – Number of messages to be received</p></li>
</ul>
</dd>
</dl>
<p>Returns: consumer pod object</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.amq.AMQ.create_kafka_topic">
<code class="sig-name descname">create_kafka_topic</code><span class="sig-paren">(</span><em class="sig-param">name='my-topic'</em>, <em class="sig-param">partitions=1</em>, <em class="sig-param">replicas=1</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.amq.AMQ.create_kafka_topic" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates kafka topic</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Name of the kafka topic</p></li>
<li><p><strong>partitions</strong> (<em>int</em>) – Number of partitions</p></li>
<li><p><strong>replicas</strong> (<em>int</em>) – Number of replicas</p></li>
</ul>
</dd>
</dl>
<p>Return: kafka_topic object</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.amq.AMQ.create_kafka_user">
<code class="sig-name descname">create_kafka_user</code><span class="sig-paren">(</span><em class="sig-param">name='my-user'</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.amq.AMQ.create_kafka_user" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates kafka user</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em>) – Name of the kafka user</p>
</dd>
</dl>
<p>Return: kafka_user object</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.amq.AMQ.create_kafkadrop">
<code class="sig-name descname">create_kafkadrop</code><span class="sig-paren">(</span><em class="sig-param">wait=True</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.amq.AMQ.create_kafkadrop" title="Permalink to this definition">¶</a></dt>
<dd><p>Create kafkadrop pod, service and routes</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>wait</strong> (<em>bool</em>) – If true waits till kafkadrop pod running</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Contains objects of kafkadrop pod, service and route</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.amq.AMQ.create_messaging_on_amq">
<code class="sig-name descname">create_messaging_on_amq</code><span class="sig-paren">(</span><em class="sig-param">topic_name='my-topic'</em>, <em class="sig-param">user_name='my-user'</em>, <em class="sig-param">partitions=1</em>, <em class="sig-param">replicas=1</em>, <em class="sig-param">num_of_producer_pods=1</em>, <em class="sig-param">num_of_consumer_pods=1</em>, <em class="sig-param">value='10000'</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.amq.AMQ.create_messaging_on_amq" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates workload using Open Messaging tool on amq cluster</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>topic_name</strong> (<em>str</em>) – Name of the topic to be created</p></li>
<li><p><strong>user_name</strong> (<em>str</em>) – Name of the user to be created</p></li>
<li><p><strong>partitions</strong> (<em>int</em>) – Number of partitions of topic</p></li>
<li><p><strong>replicas</strong> (<em>int</em>) – Number of replicas of topic</p></li>
<li><p><strong>num_of_producer_pods</strong> (<em>int</em>) – Number of producer pods to be created</p></li>
<li><p><strong>num_of_consumer_pods</strong> (<em>int</em>) – Number of consumer pods to be created</p></li>
<li><p><strong>value</strong> (<em>str</em>) – Number of messages to be sent and received</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.amq.AMQ.create_namespace">
<code class="sig-name descname">create_namespace</code><span class="sig-paren">(</span><em class="sig-param">namespace</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.amq.AMQ.create_namespace" title="Permalink to this definition">¶</a></dt>
<dd><p>create namespace for amq</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>namespace</strong> (<em>str</em>) – Namespace for amq pods</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.amq.AMQ.create_producer_pod">
<code class="sig-name descname">create_producer_pod</code><span class="sig-paren">(</span><em class="sig-param">num_of_pods=1</em>, <em class="sig-param">value='10000'</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.amq.AMQ.create_producer_pod" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates producer pods</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_of_pods</strong> (<em>int</em>) – Number of producer pods to be created</p></li>
<li><p><strong>value</strong> (<em>str</em>) – Number of the messages to be sent</p></li>
</ul>
</dd>
</dl>
<p>Returns: producer pod object</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.amq.AMQ.export_amq_output_to_gsheet">
<code class="sig-name descname">export_amq_output_to_gsheet</code><span class="sig-paren">(</span><em class="sig-param">amq_output</em>, <em class="sig-param">sheet_name</em>, <em class="sig-param">sheet_index</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.amq.AMQ.export_amq_output_to_gsheet" title="Permalink to this definition">¶</a></dt>
<dd><p>Collect amq data to google spreadsheet</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>amq_output</strong> (<em>dict</em>) – amq output in dict</p></li>
<li><p><strong>sheet_name</strong> (<em>str</em>) – Name of the sheet</p></li>
<li><p><strong>sheet_index</strong> (<em>int</em>) – Index of sheet</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.amq.AMQ.is_amq_pod_running">
<code class="sig-name descname">is_amq_pod_running</code><span class="sig-paren">(</span><em class="sig-param">pod_pattern</em>, <em class="sig-param">expected_pods</em>, <em class="sig-param">namespace='myproject'</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.amq.AMQ.is_amq_pod_running" title="Permalink to this definition">¶</a></dt>
<dd><p>The function checks if provided pod_pattern finds a pod and if the status is running or not</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pod_pattern</strong> (<em>str</em>) – the pattern for pod</p></li>
<li><p><strong>expected_pods</strong> (<em>int</em>) – Number of pods</p></li>
<li><p><strong>namespace</strong> (<em>str</em>) – Namespace for amq pods</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>status of pod: True if found pod is running</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.amq.AMQ.run_amq_benchmark">
<code class="sig-name descname">run_amq_benchmark</code><span class="sig-paren">(</span><em class="sig-param">benchmark_pod_name='benchmark'</em>, <em class="sig-param">kafka_namespace='myproject'</em>, <em class="sig-param">tiller_namespace='tiller'</em>, <em class="sig-param">num_of_clients=8</em>, <em class="sig-param">worker=None</em>, <em class="sig-param">timeout=1800</em>, <em class="sig-param">amq_workload_yaml=None</em>, <em class="sig-param">run_in_bg=False</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.amq.AMQ.run_amq_benchmark" title="Permalink to this definition">¶</a></dt>
<dd><p>Run benchmark pod and get the results</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>benchmark_pod_name</strong> (<em>str</em>) – Name of the benchmark pod</p></li>
<li><p><strong>kafka_namespace</strong> (<em>str</em>) – Namespace where kafka cluster created</p></li>
<li><p><strong>tiller_namespace</strong> (<em>str</em>) – Namespace where tiller pod needs to be created</p></li>
<li><p><strong>num_of_clients</strong> (<em>int</em>) – Number of clients to be created</p></li>
<li><p><strong>worker</strong> (<em>str</em>) – Loads to create on workloads separated with commas
e.g <a class="reference external" href="http://benchmark-worker-0.benchmark-worker:8080">http://benchmark-worker-0.benchmark-worker:8080</a>,
<a class="reference external" href="http://benchmark-worker-1.benchmark-worker:8080">http://benchmark-worker-1.benchmark-worker:8080</a></p></li>
<li><p><strong>timeout</strong> (<em>int</em>) – Time to complete the run</p></li>
<li><p><strong>amq_workload_yaml</strong> (<em>dict</em>) – Contains amq workloads information keys and values
:name (str): Name of the workloads
:topics (int): Number of topics created
:partitions_per_topic (int): Number of partitions per topic
:message_size (int): Message size
:payload_file (str): Load to run on workload
:subscriptions_per_topic (int): Number of subscriptions per topic
:consumer_per_subscription (int): Number of consumers per subscription
:producers_per_topic (int): Number of producers per topic
:producer_rate (int): Producer rate
:consumer_backlog_sizegb (int): Size of block in gb
:test_duration_minutes (int): Time to run the workloads</p></li>
<li><p><strong>run_in_bg</strong> (<em>bool</em>) – On true the workload will run in background</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>Returns benchmark run information if run_in_bg is False.</dt><dd><p>Otherwise a thread of the amq workload execution</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>result (str/Thread obj)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.amq.AMQ.run_amq_workload">
<code class="sig-name descname">run_amq_workload</code><span class="sig-paren">(</span><em class="sig-param">command</em>, <em class="sig-param">benchmark_pod_name</em>, <em class="sig-param">tiller_namespace</em>, <em class="sig-param">timeout</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.amq.AMQ.run_amq_workload" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs amq workload in bg</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>command</strong> (<em>str</em>) – Command to run on pod</p></li>
<li><p><strong>benchmark_pod_name</strong> (<em>str</em>) – Pod name</p></li>
<li><p><strong>tiller_namespace</strong> (<em>str</em>) – Namespace of pod</p></li>
<li><p><strong>timeout</strong> (<em>int</em>) – Time to complete the run</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Returns benchmark run information</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>result (str)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.amq.AMQ.run_in_bg">
<code class="sig-name descname">run_in_bg</code><span class="sig-paren">(</span><em class="sig-param">namespace='myproject'</em>, <em class="sig-param">value='10000'</em>, <em class="sig-param">since_time=1800</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.amq.AMQ.run_in_bg" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate messages are produced and consumed in bg</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>namespace</strong> (<em>str</em>) – Namespace of the pod</p></li>
<li><p><strong>value</strong> (<em>str</em>) – Number of messages to be sent and received</p></li>
<li><p><strong>since_time</strong> (<em>int</em>) – Number of seconds to required to sent and receive msg</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.amq.AMQ.setup_amq_cluster">
<code class="sig-name descname">setup_amq_cluster</code><span class="sig-paren">(</span><em class="sig-param">sc_name</em>, <em class="sig-param">namespace='myproject'</em>, <em class="sig-param">size=100</em>, <em class="sig-param">replicas=3</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.amq.AMQ.setup_amq_cluster" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates amq cluster with persistent storage.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sc_name</strong> (<em>str</em>) – Name of sc</p></li>
<li><p><strong>namespace</strong> (<em>str</em>) – Namespace for amq cluster</p></li>
<li><p><strong>size</strong> (<em>int</em>) – Size of the storage</p></li>
<li><p><strong>replicas</strong> (<em>int</em>) – Number of kafka and zookeeper pods to be created</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.amq.AMQ.setup_amq_cluster_operator">
<code class="sig-name descname">setup_amq_cluster_operator</code><span class="sig-paren">(</span><em class="sig-param">namespace='myproject'</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.amq.AMQ.setup_amq_cluster_operator" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to setup amq-cluster_operator,
the file is pulling from github
it will make sure cluster-operator pod is running</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>namespace</strong> (<em>str</em>) – Namespace for AMQ pods</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.amq.AMQ.setup_amq_kafka_bridge">
<code class="sig-name descname">setup_amq_kafka_bridge</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.amq.AMQ.setup_amq_kafka_bridge" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to setup amq-kafka, the file file is pulling from github
it will make kind: KafkaBridge and will make sure the pod status is running</p>
<p>Return: kafka_bridge object</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.amq.AMQ.setup_amq_kafka_connect">
<code class="sig-name descname">setup_amq_kafka_connect</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.amq.AMQ.setup_amq_kafka_connect" title="Permalink to this definition">¶</a></dt>
<dd><p>The function is to setup amq-kafka-connect, the yaml file is pulling from github
it will make kind: KafkaConnect and will make sure the status is running</p>
<p>Returns: kafka_connect object</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.amq.AMQ.setup_amq_kafka_persistent">
<code class="sig-name descname">setup_amq_kafka_persistent</code><span class="sig-paren">(</span><em class="sig-param">sc_name</em>, <em class="sig-param">size=100</em>, <em class="sig-param">replicas=3</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.amq.AMQ.setup_amq_kafka_persistent" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to setup amq-kafka-persistent, the file is pulling from github
it will make kind: Kafka and will make sure the status is running</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sc_name</strong> (<em>str</em>) – Name of sc</p></li>
<li><p><strong>size</strong> (<em>int</em>) – Size of the storage in Gi</p></li>
<li><p><strong>replicas</strong> (<em>int</em>) – Number of kafka and zookeeper pods to be created</p></li>
</ul>
</dd>
</dl>
<p>return : kafka_persistent</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.amq.AMQ.validate_amq_benchmark">
<code class="sig-name descname">validate_amq_benchmark</code><span class="sig-paren">(</span><em class="sig-param">result</em>, <em class="sig-param">amq_workload_yaml</em>, <em class="sig-param">benchmark_pod_name='benchmark'</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.amq.AMQ.validate_amq_benchmark" title="Permalink to this definition">¶</a></dt>
<dd><p>Validates amq benchmark run</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>result</strong> (<em>str</em>) – Benchmark run information</p></li>
<li><p><strong>amq_workload_yaml</strong> (<em>dict</em>) – AMQ workload information</p></li>
<li><p><strong>benchmark_pod_name</strong> (<em>str</em>) – Name of the benchmark pod</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Returns the dict output on success, Otherwise none</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>res_dict (dict)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.amq.AMQ.validate_messages_are_consumed">
<code class="sig-name descname">validate_messages_are_consumed</code><span class="sig-paren">(</span><em class="sig-param">namespace='myproject'</em>, <em class="sig-param">value='10000'</em>, <em class="sig-param">since_time=1800</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.amq.AMQ.validate_messages_are_consumed" title="Permalink to this definition">¶</a></dt>
<dd><p>Validates if all messages are received in consumer pod</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>namespace</strong> (<em>str</em>) – Namespace of the pod</p></li>
<li><p><strong>value</strong> (<em>str</em>) – Number of messages are recieved</p></li>
<li><p><strong>since_time</strong> (<em>int</em>) – Number of seconds to required to receive the msg</p></li>
</ul>
</dd>
</dl>
<p>Raises exception on failures</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.amq.AMQ.validate_messages_are_produced">
<code class="sig-name descname">validate_messages_are_produced</code><span class="sig-paren">(</span><em class="sig-param">namespace='myproject'</em>, <em class="sig-param">value='10000'</em>, <em class="sig-param">since_time=1800</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.amq.AMQ.validate_messages_are_produced" title="Permalink to this definition">¶</a></dt>
<dd><p>Validates if all messages are sent in producer pod</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>namespace</strong> (<em>str</em>) – Namespace of the pod</p></li>
<li><p><strong>value</strong> (<em>str</em>) – Number of messages are sent</p></li>
<li><p><strong>since_time</strong> (<em>int</em>) – Number of seconds to required to sent the msg</p></li>
</ul>
</dd>
</dl>
<p>Raises exception on failures</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.amq.AMQ.validate_msg">
<code class="sig-name descname">validate_msg</code><span class="sig-paren">(</span><em class="sig-param">pod</em>, <em class="sig-param">namespace='myproject'</em>, <em class="sig-param">value='10000'</em>, <em class="sig-param">since_time=1800</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.amq.AMQ.validate_msg" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate if messages are sent or received</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pod</strong> (<em>str</em>) – Name of the pod</p></li>
<li><p><strong>namespace</strong> (<em>str</em>) – Namespace of the pod</p></li>
<li><p><strong>value</strong> (<em>str</em>) – Number of messages are sent</p></li>
<li><p><strong>since_time</strong> (<em>int</em>) – Number of seconds to required to sent the msg</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if all messages are sent/received</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-ocs_ci.ocs.api_client">
<span id="ocs-ci-ocs-api-client-module"></span><h2>ocs_ci.ocs.api_client module<a class="headerlink" href="#module-ocs_ci.ocs.api_client" title="Permalink to this headline">¶</a></h2>
<p>A module for implementing specific api client for interacting with openshift or
kubernetes cluster</p>
<p>APIClientBase is an abstract base class which imposes a contract on
methods to be implemented in derived classes which are specific to api client</p>
<dl class="class">
<dt id="ocs_ci.ocs.api_client.APIClientBase">
<em class="property">class </em><code class="sig-prename descclassname">ocs_ci.ocs.api_client.</code><code class="sig-name descname">APIClientBase</code><a class="headerlink" href="#ocs_ci.ocs.api_client.APIClientBase" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Abstract base class for all api-client classes</p>
<p>This is an abstract base class and api-client specific classes
should implement all the methods for interacting with openshift cluster</p>
<dl class="method">
<dt id="ocs_ci.ocs.api_client.APIClientBase.api_create">
<em class="property">abstract </em><code class="sig-name descname">api_create</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.api_client.APIClientBase.api_create" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.api_client.APIClientBase.api_delete">
<em class="property">abstract </em><code class="sig-name descname">api_delete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.api_client.APIClientBase.api_delete" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.api_client.APIClientBase.api_get">
<em class="property">abstract </em><code class="sig-name descname">api_get</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.api_client.APIClientBase.api_get" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.api_client.APIClientBase.api_patch">
<em class="property">abstract </em><code class="sig-name descname">api_patch</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.api_client.APIClientBase.api_patch" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.api_client.APIClientBase.api_post">
<em class="property">abstract </em><code class="sig-name descname">api_post</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.api_client.APIClientBase.api_post" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.api_client.APIClientBase.create_service">
<em class="property">abstract </em><code class="sig-name descname">create_service</code><span class="sig-paren">(</span><em class="sig-param">**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.api_client.APIClientBase.create_service" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an openshift service</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>**kw</strong> – ex body=”content”, namespace=’ocnamespace’</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p>Response from api server</p>
<p>Note: Returns could be tricky because it varies from client to
client. If its oc-cli then extra work needs to be done in the
specific implementation.</p>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.api_client.APIClientBase.get_labels">
<em class="property">abstract </em><code class="sig-name descname">get_labels</code><span class="sig-paren">(</span><em class="sig-param">pod_name</em>, <em class="sig-param">pod_namespace</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.api_client.APIClientBase.get_labels" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the openshift labels on a given pod</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pod_name</strong> (<em>str</em>) – Name of pod for which labels to be fetched</p></li>
<li><p><strong>pod_namespace</strong> (<em>str</em>) – namespace of pod where this pod lives</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>NotImplementedError</strong> – if function not implemented by client</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Labels associated with pod</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.api_client.APIClientBase.get_pods">
<em class="property">abstract </em><code class="sig-name descname">get_pods</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.api_client.APIClientBase.get_pods" title="Permalink to this definition">¶</a></dt>
<dd><p>Because of discrepancies in IO format of each client api
leaving this to be implemented by specific client</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>**kwargs</strong> – ex: namespace=’namespace’,openshift namespace from
which we need pods</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>NotImplementedError</strong> – if client has not implemented this function.</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A list of pod names</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>pod_names (list)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.api_client.APIClientBase.name">
<em class="property">abstract property </em><code class="sig-name descname">name</code><a class="headerlink" href="#ocs_ci.ocs.api_client.APIClientBase.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Concrete class will have respective api-client name</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="ocs_ci.ocs.api_client.KubeClient">
<em class="property">class </em><code class="sig-prename descclassname">ocs_ci.ocs.api_client.</code><code class="sig-name descname">KubeClient</code><a class="headerlink" href="#ocs_ci.ocs.api_client.KubeClient" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ocs_ci.ocs.api_client.APIClientBase" title="ocs_ci.ocs.api_client.APIClientBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">ocs_ci.ocs.api_client.APIClientBase</span></code></a></p>
<p>All activities using upstream kubernetes python client</p>
<dl class="method">
<dt id="ocs_ci.ocs.api_client.KubeClient.name">
<em class="property">property </em><code class="sig-name descname">name</code><a class="headerlink" href="#ocs_ci.ocs.api_client.KubeClient.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Concrete class will have respective api-client name</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="ocs_ci.ocs.api_client.OCCLIClient">
<em class="property">class </em><code class="sig-prename descclassname">ocs_ci.ocs.api_client.</code><code class="sig-name descname">OCCLIClient</code><a class="headerlink" href="#ocs_ci.ocs.api_client.OCCLIClient" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ocs_ci.ocs.api_client.APIClientBase" title="ocs_ci.ocs.api_client.APIClientBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">ocs_ci.ocs.api_client.APIClientBase</span></code></a></p>
<p>All activities using oc-cli.</p>
<p>This implements all functionalities like create, patch, delete using
oc commands.</p>
<dl class="method">
<dt id="ocs_ci.ocs.api_client.OCCLIClient.name">
<em class="property">property </em><code class="sig-name descname">name</code><a class="headerlink" href="#ocs_ci.ocs.api_client.OCCLIClient.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Concrete class will have respective api-client name</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="ocs_ci.ocs.api_client.OCRESTClient">
<em class="property">class </em><code class="sig-prename descclassname">ocs_ci.ocs.api_client.</code><code class="sig-name descname">OCRESTClient</code><a class="headerlink" href="#ocs_ci.ocs.api_client.OCRESTClient" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ocs_ci.ocs.api_client.APIClientBase" title="ocs_ci.ocs.api_client.APIClientBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">ocs_ci.ocs.api_client.APIClientBase</span></code></a></p>
<p>All activities using openshift REST client</p>
<dl class="method">
<dt id="ocs_ci.ocs.api_client.OCRESTClient.api_create">
<code class="sig-name descname">api_create</code><span class="sig-paren">(</span><em class="sig-param">**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.api_client.OCRESTClient.api_create" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.api_client.OCRESTClient.api_delete">
<code class="sig-name descname">api_delete</code><span class="sig-paren">(</span><em class="sig-param">**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.api_client.OCRESTClient.api_delete" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.api_client.OCRESTClient.api_get">
<code class="sig-name descname">api_get</code><span class="sig-paren">(</span><em class="sig-param">**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.api_client.OCRESTClient.api_get" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.api_client.OCRESTClient.api_patch">
<code class="sig-name descname">api_patch</code><span class="sig-paren">(</span><em class="sig-param">**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.api_client.OCRESTClient.api_patch" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.api_client.OCRESTClient.api_post">
<code class="sig-name descname">api_post</code><span class="sig-paren">(</span><em class="sig-param">**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.api_client.OCRESTClient.api_post" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.api_client.OCRESTClient.create_service">
<code class="sig-name descname">create_service</code><span class="sig-paren">(</span><em class="sig-param">**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.api_client.OCRESTClient.create_service" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>kw</strong> – ex: body={body} for the request which has service spec</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ResourceInstance</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.api_client.OCRESTClient.get_labels">
<code class="sig-name descname">get_labels</code><span class="sig-paren">(</span><em class="sig-param">pod_name</em>, <em class="sig-param">pod_namespace</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.api_client.OCRESTClient.get_labels" title="Permalink to this definition">¶</a></dt>
<dd><p>Get labels from a specific pod</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pod_name</strong> (<em>str</em>) – Name of the pod</p></li>
<li><p><strong>pod_namespace</strong> (<em>str</em>) – namespace where this pod lives</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="#ocs_ci.ocs.exceptions.NotFoundError" title="ocs_ci.ocs.exceptions.NotFoundError"><strong>NotFoundError</strong></a> – If resource not found</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>All the labels on a pod</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.api_client.OCRESTClient.get_pods">
<code class="sig-name descname">get_pods</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.api_client.OCRESTClient.get_pods" title="Permalink to this definition">¶</a></dt>
<dd><p>Get pods in specific namespace or across oc cluster</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>**kwargs</strong> – ex: namespace=rook-ceph, label_selector=’x==y’</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>of pods names,if no namespace provided then this function</dt><dd><p>returns all pods across openshift cluster</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.api_client.OCRESTClient.name">
<em class="property">property </em><code class="sig-name descname">name</code><a class="headerlink" href="#ocs_ci.ocs.api_client.OCRESTClient.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Concrete class will have respective api-client name</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.api_client.get_api_client">
<code class="sig-prename descclassname">ocs_ci.ocs.api_client.</code><code class="sig-name descname">get_api_client</code><span class="sig-paren">(</span><em class="sig-param">client_name</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.api_client.get_api_client" title="Permalink to this definition">¶</a></dt>
<dd><p>Get instance of corresponding api-client object with given name</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>client_name</strong> (<em>str</em>) – name of the api client to be instantiated</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>api client object</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-ocs_ci.ocs.benchmark_operator">
<span id="ocs-ci-ocs-benchmark-operator-module"></span><h2>ocs_ci.ocs.benchmark_operator module<a class="headerlink" href="#module-ocs_ci.ocs.benchmark_operator" title="Permalink to this headline">¶</a></h2>
<dl class="simple">
<dt>Benchmark Operator Class to run various workloads, performance  and scale tests</dt><dd><dl class="simple">
<dt>previously known as Ripsaw and implemented from :</dt><dd><p><a class="reference external" href="https://github.com/cloud-bulldozer/benchmark-operator">https://github.com/cloud-bulldozer/benchmark-operator</a></p>
</dd>
</dl>
</dd>
</dl>
<p>This operator can be used as an object or as a fixture</p>
<dl class="class">
<dt id="ocs_ci.ocs.benchmark_operator.BenchmarkOperator">
<em class="property">class </em><code class="sig-prename descclassname">ocs_ci.ocs.benchmark_operator.</code><code class="sig-name descname">BenchmarkOperator</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.benchmark_operator.BenchmarkOperator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Workload operation using Benchmark-Operator</p>
<dl class="method">
<dt id="ocs_ci.ocs.benchmark_operator.BenchmarkOperator.cleanup">
<code class="sig-name descname">cleanup</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.benchmark_operator.BenchmarkOperator.cleanup" title="Permalink to this definition">¶</a></dt>
<dd><p>Clean up the cluster from the benchmark operator project</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.benchmark_operator.BenchmarkOperator.deploy">
<code class="sig-name descname">deploy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.benchmark_operator.BenchmarkOperator.deploy" title="Permalink to this definition">¶</a></dt>
<dd><p>Deploy the benchmark-operator</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.benchmark_operator.BenchmarkOperator.get_uuid">
<code class="sig-name descname">get_uuid</code><span class="sig-paren">(</span><em class="sig-param">benchmark</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.benchmark_operator.BenchmarkOperator.get_uuid" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Getting the UUID of the test.</dt><dd><p>when benchmark-operator used for running a benchmark tests,
each run get its own UUID, so the results in the elastic-search
server can be sorted.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>benchmark</strong> (<em>str</em>) – the name of the main pod in the test</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the UUID of the test or ‘’ if UUID not found in the benchmark pod</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.benchmark_operator.benchmark_operator">
<code class="sig-prename descclassname">ocs_ci.ocs.benchmark_operator.</code><code class="sig-name descname">benchmark_operator</code><span class="sig-paren">(</span><em class="sig-param">request</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.benchmark_operator.benchmark_operator" title="Permalink to this definition">¶</a></dt>
<dd><p>Use the benchmark operator as fixture</p>
</dd></dl>

</div>
<div class="section" id="module-ocs_ci.ocs.benchmark_operator_fio">
<span id="ocs-ci-ocs-benchmark-operator-fio-module"></span><h2>ocs_ci.ocs.benchmark_operator_fio module<a class="headerlink" href="#module-ocs_ci.ocs.benchmark_operator_fio" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ocs_ci.ocs.benchmark_operator_fio.BenchmarkOperatorFIO">
<em class="property">class </em><code class="sig-prename descclassname">ocs_ci.ocs.benchmark_operator_fio.</code><code class="sig-name descname">BenchmarkOperatorFIO</code><a class="headerlink" href="#ocs_ci.ocs.benchmark_operator_fio.BenchmarkOperatorFIO" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Benchmark Operator FIO Class</p>
<dl class="method">
<dt id="ocs_ci.ocs.benchmark_operator_fio.BenchmarkOperatorFIO.calc_number_servers_file_size">
<code class="sig-name descname">calc_number_servers_file_size</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.benchmark_operator_fio.BenchmarkOperatorFIO.calc_number_servers_file_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Calc the number of fio server based on file-size</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.benchmark_operator_fio.BenchmarkOperatorFIO.cleanup">
<code class="sig-name descname">cleanup</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.benchmark_operator_fio.BenchmarkOperatorFIO.cleanup" title="Permalink to this definition">¶</a></dt>
<dd><p>Clean up the cluster from the benchmark operator project</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.benchmark_operator_fio.BenchmarkOperatorFIO.clone_benchmark_operator">
<code class="sig-name descname">clone_benchmark_operator</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.benchmark_operator_fio.BenchmarkOperatorFIO.clone_benchmark_operator" title="Permalink to this definition">¶</a></dt>
<dd><p>Clone benchmark-operator</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.benchmark_operator_fio.BenchmarkOperatorFIO.create_benchmark_operator">
<code class="sig-name descname">create_benchmark_operator</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.benchmark_operator_fio.BenchmarkOperatorFIO.create_benchmark_operator" title="Permalink to this definition">¶</a></dt>
<dd><p>Create benchmark-operator</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.benchmark_operator_fio.BenchmarkOperatorFIO.deploy">
<code class="sig-name descname">deploy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.benchmark_operator_fio.BenchmarkOperatorFIO.deploy" title="Permalink to this definition">¶</a></dt>
<dd><p>Deploy the benchmark-operator</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.benchmark_operator_fio.BenchmarkOperatorFIO.label_worker_nodes">
<code class="sig-name descname">label_worker_nodes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.benchmark_operator_fio.BenchmarkOperatorFIO.label_worker_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Label Worker nodes for cache-dropping enable</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.benchmark_operator_fio.BenchmarkOperatorFIO.pods_expected_status">
<code class="sig-name descname">pods_expected_status</code><span class="sig-paren">(</span><em class="sig-param">pattern</em>, <em class="sig-param">expected_num_pods</em>, <em class="sig-param">expected_status</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.benchmark_operator_fio.BenchmarkOperatorFIO.pods_expected_status" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.benchmark_operator_fio.BenchmarkOperatorFIO.run_fio_benchmark_operator">
<code class="sig-name descname">run_fio_benchmark_operator</code><span class="sig-paren">(</span><em class="sig-param">is_completed=True</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.benchmark_operator_fio.BenchmarkOperatorFIO.run_fio_benchmark_operator" title="Permalink to this definition">¶</a></dt>
<dd><p>Run FIO on benchmark-operator</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>is_completed</strong> (<em>bool</em>) – if True, verify client pod move completed state.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.benchmark_operator_fio.BenchmarkOperatorFIO.setup_benchmark_fio">
<code class="sig-name descname">setup_benchmark_fio</code><span class="sig-paren">(</span><em class="sig-param">total_size=2</em>, <em class="sig-param">jobs='read'</em>, <em class="sig-param">read_runtime=30</em>, <em class="sig-param">bs='4096KiB'</em>, <em class="sig-param">storageclass='ocs-storagecluster-ceph-rbd'</em>, <em class="sig-param">timeout_completed=2400</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.benchmark_operator_fio.BenchmarkOperatorFIO.setup_benchmark_fio" title="Permalink to this definition">¶</a></dt>
<dd><p>Setup of benchmark fio</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>total_size</strong> (<em>int</em>) – </p></li>
<li><p><strong>jobs</strong> (<em>str</em>) – fio job types to run, for example the readwrite option</p></li>
<li><p><strong>read_runtime</strong> (<em>int</em>) – Amount of time in seconds to run read workloads</p></li>
<li><p><strong>bs</strong> (<em>str</em>) – the Block size that need to used for the prefill</p></li>
<li><p><strong>storageclass</strong> (<em>str</em>) – StorageClass to use for PVC per server pod</p></li>
<li><p><strong>timeout_completed</strong> (<em>int</em>) – timeout client pod move to completed state</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.benchmark_operator_fio.BenchmarkOperatorFIO.wait_for_wl_to_complete">
<code class="sig-name descname">wait_for_wl_to_complete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.benchmark_operator_fio.BenchmarkOperatorFIO.wait_for_wl_to_complete" title="Permalink to this definition">¶</a></dt>
<dd><p>Wait client pod move to completed state</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.benchmark_operator_fio.BenchmarkOperatorFIO.wait_for_wl_to_start">
<code class="sig-name descname">wait_for_wl_to_start</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.benchmark_operator_fio.BenchmarkOperatorFIO.wait_for_wl_to_start" title="Permalink to this definition">¶</a></dt>
<dd><p>Wait fio-servers move to Running state</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.benchmark_operator_fio.get_file_size">
<code class="sig-prename descclassname">ocs_ci.ocs.benchmark_operator_fio.</code><code class="sig-name descname">get_file_size</code><span class="sig-paren">(</span><em class="sig-param">expected_used_capacity_percent</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.benchmark_operator_fio.get_file_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the file size based on expected used capacity percent</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>expected_used_capacity_percent</strong> (<em>int</em>) – expected used capacity percent</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-ocs_ci.ocs.bucket_utils">
<span id="ocs-ci-ocs-bucket-utils-module"></span><h2>ocs_ci.ocs.bucket_utils module<a class="headerlink" href="#module-ocs_ci.ocs.bucket_utils" title="Permalink to this headline">¶</a></h2>
<p>Helper functions file for working with object buckets</p>
<dl class="function">
<dt id="ocs_ci.ocs.bucket_utils.abort_all_multipart_upload">
<code class="sig-prename descclassname">ocs_ci.ocs.bucket_utils.</code><code class="sig-name descname">abort_all_multipart_upload</code><span class="sig-paren">(</span><em class="sig-param">s3_obj</em>, <em class="sig-param">bucketname</em>, <em class="sig-param">object_key</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.bucket_utils.abort_all_multipart_upload" title="Permalink to this definition">¶</a></dt>
<dd><p>Abort all Multipart Uploads for this Bucket</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>s3_obj</strong> (<em>obj</em>) – MCG or OBC object</p></li>
<li><p><strong>bucketname</strong> (<em>str</em>) – Name of the bucket</p></li>
<li><p><strong>object_key</strong> (<em>str</em>) – Unique object Identifier</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of aborted upload ids</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.bucket_utils.abort_multipart">
<code class="sig-prename descclassname">ocs_ci.ocs.bucket_utils.</code><code class="sig-name descname">abort_multipart</code><span class="sig-paren">(</span><em class="sig-param">s3_obj</em>, <em class="sig-param">bucketname</em>, <em class="sig-param">object_key</em>, <em class="sig-param">upload_id</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.bucket_utils.abort_multipart" title="Permalink to this definition">¶</a></dt>
<dd><p>Aborts a Multipart Upload for this Bucket</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>s3_obj</strong> (<em>obj</em>) – MCG or OBC object</p></li>
<li><p><strong>bucketname</strong> (<em>str</em>) – Name of the bucket</p></li>
<li><p><strong>object_key</strong> (<em>str</em>) – Unique object Identifier</p></li>
<li><p><strong>upload_id</strong> (<em>str</em>) – Multipart Upload-ID</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>aborted upload id</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.bucket_utils.bucket_read_api">
<code class="sig-prename descclassname">ocs_ci.ocs.bucket_utils.</code><code class="sig-name descname">bucket_read_api</code><span class="sig-paren">(</span><em class="sig-param">mcg_obj</em>, <em class="sig-param">bucket_name</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.bucket_utils.bucket_read_api" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetches the bucket metadata like size, tiers etc</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mcg_obj</strong> (<em>obj</em>) – MCG object</p></li>
<li><p><strong>bucket_name</strong> (<em>str</em>) – Name of the bucket</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Bucket policy response</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.bucket_utils.check_cached_objects_by_name">
<code class="sig-prename descclassname">ocs_ci.ocs.bucket_utils.</code><code class="sig-name descname">check_cached_objects_by_name</code><span class="sig-paren">(</span><em class="sig-param">mcg_obj</em>, <em class="sig-param">bucket_name</em>, <em class="sig-param">expected_objects_names=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.bucket_utils.check_cached_objects_by_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if the names of cached objects in a cache bucket are as expected using rpc call</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mcg_obj</strong> (<a class="reference internal" href="ocs_ci.ocs.resources.html#ocs_ci.ocs.resources.mcg.MCG" title="ocs_ci.ocs.resources.mcg.MCG"><em>MCG</em></a>) – An MCG object containing the MCG S3 connection credentials</p></li>
<li><p><strong>bucket_name</strong> (<em>str</em>) – Name of the cache bucket</p></li>
<li><p><strong>expected_objects_names</strong> (<em>list</em>) – Expected objects to be cached</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if all the objects exist in the cache as expected, False otherwise</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.bucket_utils.check_pv_backingstore_status">
<code class="sig-prename descclassname">ocs_ci.ocs.bucket_utils.</code><code class="sig-name descname">check_pv_backingstore_status</code><span class="sig-paren">(</span><em class="sig-param">backingstore_name, namespace=None, desired_status=['`OPTIMAL`', '`LOW_CAPACITY`']</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.bucket_utils.check_pv_backingstore_status" title="Permalink to this definition">¶</a></dt>
<dd><p>check if existing pv backing store is in OPTIMAL state</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>backingstore_name</strong> (<em>str</em>) – backingstore name</p></li>
<li><p><strong>namespace</strong> (<em>str</em>) – backing store’s namespace</p></li>
<li><p><strong>desired_status</strong> (<em>str</em>) – desired state for the backing store, if None is given then desired</p></li>
<li><p><strong>the Healthy status</strong> (<em>is</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if backing store is in the desired state</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.bucket_utils.cli_create_aws_backingstore">
<code class="sig-prename descclassname">ocs_ci.ocs.bucket_utils.</code><code class="sig-name descname">cli_create_aws_backingstore</code><span class="sig-paren">(</span><em class="sig-param">mcg_obj</em>, <em class="sig-param">cld_mgr</em>, <em class="sig-param">backingstore_name</em>, <em class="sig-param">uls_name</em>, <em class="sig-param">region</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.bucket_utils.cli_create_aws_backingstore" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new backingstore with aws underlying storage using noobaa cli command</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mcg_obj</strong> (<a class="reference internal" href="ocs_ci.ocs.resources.html#ocs_ci.ocs.resources.mcg.MCG" title="ocs_ci.ocs.resources.mcg.MCG"><em>MCG</em></a>) – Used for execution for the NooBaa CLI command</p></li>
<li><p><strong>cld_mgr</strong> (<a class="reference internal" href="ocs_ci.ocs.resources.html#ocs_ci.ocs.resources.cloud_manager.CloudManager" title="ocs_ci.ocs.resources.cloud_manager.CloudManager"><em>CloudManager</em></a>) – holds secret for backingstore creation</p></li>
<li><p><strong>backingstore_name</strong> (<em>str</em>) – backingstore name</p></li>
<li><p><strong>uls_name</strong> (<em>str</em>) – underlying storage name</p></li>
<li><p><strong>region</strong> (<em>str</em>) – which region to create backingstore (should be the same as uls)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.bucket_utils.cli_create_azure_backingstore">
<code class="sig-prename descclassname">ocs_ci.ocs.bucket_utils.</code><code class="sig-name descname">cli_create_azure_backingstore</code><span class="sig-paren">(</span><em class="sig-param">mcg_obj</em>, <em class="sig-param">cld_mgr</em>, <em class="sig-param">backingstore_name</em>, <em class="sig-param">uls_name</em>, <em class="sig-param">region</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.bucket_utils.cli_create_azure_backingstore" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new backingstore with aws underlying storage using noobaa cli command</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cld_mgr</strong> (<a class="reference internal" href="ocs_ci.ocs.resources.html#ocs_ci.ocs.resources.cloud_manager.CloudManager" title="ocs_ci.ocs.resources.cloud_manager.CloudManager"><em>CloudManager</em></a>) – holds secret for backingstore creation</p></li>
<li><p><strong>backingstore_name</strong> (<em>str</em>) – backingstore name</p></li>
<li><p><strong>uls_name</strong> (<em>str</em>) – underlying storage name</p></li>
<li><p><strong>region</strong> (<em>str</em>) – which region to create backingstore (should be the same as uls)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.bucket_utils.cli_create_google_backingstore">
<code class="sig-prename descclassname">ocs_ci.ocs.bucket_utils.</code><code class="sig-name descname">cli_create_google_backingstore</code><span class="sig-paren">(</span><em class="sig-param">mcg_obj</em>, <em class="sig-param">cld_mgr</em>, <em class="sig-param">backingstore_name</em>, <em class="sig-param">uls_name</em>, <em class="sig-param">region</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.bucket_utils.cli_create_google_backingstore" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new backingstore with GCP underlying storage using a NooBaa CLI command</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mcg_obj</strong> (<a class="reference internal" href="ocs_ci.ocs.resources.html#ocs_ci.ocs.resources.mcg.MCG" title="ocs_ci.ocs.resources.mcg.MCG"><em>MCG</em></a>) – Used for execution for the NooBaa CLI command</p></li>
<li><p><strong>cld_mgr</strong> (<a class="reference internal" href="ocs_ci.ocs.resources.html#ocs_ci.ocs.resources.cloud_manager.CloudManager" title="ocs_ci.ocs.resources.cloud_manager.CloudManager"><em>CloudManager</em></a>) – holds secret for backingstore creation</p></li>
<li><p><strong>backingstore_name</strong> (<em>str</em>) – backingstore name</p></li>
<li><p><strong>uls_name</strong> (<em>str</em>) – underlying storage name</p></li>
<li><p><strong>region</strong> (<em>str</em>) – which region to create backingstore (should be the same as uls)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.bucket_utils.cli_create_ibmcos_backingstore">
<code class="sig-prename descclassname">ocs_ci.ocs.bucket_utils.</code><code class="sig-name descname">cli_create_ibmcos_backingstore</code><span class="sig-paren">(</span><em class="sig-param">mcg_obj</em>, <em class="sig-param">cld_mgr</em>, <em class="sig-param">backingstore_name</em>, <em class="sig-param">uls_name</em>, <em class="sig-param">region</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.bucket_utils.cli_create_ibmcos_backingstore" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new backingstore with IBM COS underlying storage using a NooBaa CLI command</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cld_mgr</strong> (<a class="reference internal" href="ocs_ci.ocs.resources.html#ocs_ci.ocs.resources.cloud_manager.CloudManager" title="ocs_ci.ocs.resources.cloud_manager.CloudManager"><em>CloudManager</em></a>) – holds secret for backingstore creation</p></li>
<li><p><strong>backingstore_name</strong> (<em>str</em>) – backingstore name</p></li>
<li><p><strong>uls_name</strong> (<em>str</em>) – underlying storage name</p></li>
<li><p><strong>region</strong> (<em>str</em>) – which region to create backingstore (should be the same as uls)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.bucket_utils.cli_create_pv_backingstore">
<code class="sig-prename descclassname">ocs_ci.ocs.bucket_utils.</code><code class="sig-name descname">cli_create_pv_backingstore</code><span class="sig-paren">(</span><em class="sig-param">mcg_obj</em>, <em class="sig-param">backingstore_name</em>, <em class="sig-param">vol_num</em>, <em class="sig-param">size</em>, <em class="sig-param">storage_class</em>, <em class="sig-param">req_cpu=None</em>, <em class="sig-param">req_mem=None</em>, <em class="sig-param">lim_cpu=None</em>, <em class="sig-param">lim_mem=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.bucket_utils.cli_create_pv_backingstore" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new backingstore with pv underlying storage using noobaa cli command</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>backingstore_name</strong> (<em>str</em>) – backingstore name</p></li>
<li><p><strong>vol_num</strong> (<em>int</em>) – number of pv volumes</p></li>
<li><p><strong>size</strong> (<em>int</em>) – each volume size in GB</p></li>
<li><p><strong>storage_class</strong> (<em>str</em>) – which storage class to use</p></li>
<li><p><strong>req_cpu</strong> (<em>str</em>) – requested cpu value</p></li>
<li><p><strong>req_mem</strong> (<em>str</em>) – requested memory value</p></li>
<li><p><strong>lim_cpu</strong> (<em>str</em>) – limit cpu value</p></li>
<li><p><strong>lim_mem</strong> (<em>str</em>) – limit memory value</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.bucket_utils.cli_create_s3comp_backingstore">
<code class="sig-prename descclassname">ocs_ci.ocs.bucket_utils.</code><code class="sig-name descname">cli_create_s3comp_backingstore</code><span class="sig-paren">(</span><em class="sig-param">cld_mgr</em>, <em class="sig-param">backingstore_name</em>, <em class="sig-param">uls_name</em>, <em class="sig-param">region</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.bucket_utils.cli_create_s3comp_backingstore" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.bucket_utils.compare_bucket_object_list">
<code class="sig-prename descclassname">ocs_ci.ocs.bucket_utils.</code><code class="sig-name descname">compare_bucket_object_list</code><span class="sig-paren">(</span><em class="sig-param">mcg_obj</em>, <em class="sig-param">first_bucket_name</em>, <em class="sig-param">second_bucket_name</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.bucket_utils.compare_bucket_object_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Compares the object lists of two given buckets</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mcg_obj</strong> (<a class="reference internal" href="ocs_ci.ocs.resources.html#ocs_ci.ocs.resources.mcg.MCG" title="ocs_ci.ocs.resources.mcg.MCG"><em>MCG</em></a>) – An initialized MCG object</p></li>
<li><p><strong>first_bucket_name</strong> (<em>str</em>) – The name of the first bucket to compare</p></li>
<li><p><strong>second_bucket_name</strong> (<em>str</em>) – The name of the second bucket to compare</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if both buckets contain the same object names in all objects,
False otherwise</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.bucket_utils.compare_directory">
<code class="sig-prename descclassname">ocs_ci.ocs.bucket_utils.</code><code class="sig-name descname">compare_directory</code><span class="sig-paren">(</span><em class="sig-param">awscli_pod</em>, <em class="sig-param">original_dir</em>, <em class="sig-param">result_dir</em>, <em class="sig-param">amount=2</em>, <em class="sig-param">pattern='ObjKey-'</em>, <em class="sig-param">result_pod=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.bucket_utils.compare_directory" title="Permalink to this definition">¶</a></dt>
<dd><p>Compares object checksums on original and result directories</p>
<blockquote>
<div><dl class="simple">
<dt>Args:</dt><dd><p>awscli_pod (pod): A pod running the AWS CLI tools
original_dir (str): original directory name
result_dir (str): result directory name
amount (int): Number of test objects to create</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.bucket_utils.compare_object_checksums_between_bucket_and_local">
<code class="sig-prename descclassname">ocs_ci.ocs.bucket_utils.</code><code class="sig-name descname">compare_object_checksums_between_bucket_and_local</code><span class="sig-paren">(</span><em class="sig-param">io_pod</em>, <em class="sig-param">mcg_obj</em>, <em class="sig-param">bucket_name</em>, <em class="sig-param">local_dir</em>, <em class="sig-param">amount=1</em>, <em class="sig-param">pattern='ObjKey-'</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.bucket_utils.compare_object_checksums_between_bucket_and_local" title="Permalink to this definition">¶</a></dt>
<dd><p>Compares the checksums of the objects in a bucket and a local directory</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>io_pod</strong> (<a class="reference internal" href="#ocs_ci.ocs.ocp.OCP" title="ocs_ci.ocs.ocp.OCP"><em>ocs_ci.ocs.ocp.OCP</em></a>) – The pod object in which the check will take place</p></li>
<li><p><strong>mcg_obj</strong> (<a class="reference internal" href="ocs_ci.ocs.resources.html#ocs_ci.ocs.resources.mcg.MCG" title="ocs_ci.ocs.resources.mcg.MCG"><em>MCG</em></a>) – An MCG class instance</p></li>
<li><p><strong>bucket_name</strong> (<em>str</em>) – The name of the bucket to compare the objects from</p></li>
<li><p><strong>local_dir</strong> (<em>str</em>) – A string containing the path to the local directory</p></li>
<li><p><strong>amount</strong> (<em>int</em><em>, </em><em>optional</em>) – The amount of objects to use for the verification. Defaults to 1.</p></li>
<li><p><strong>pattern</strong> (<em>str</em><em>, </em><em>optional</em>) – A string defining the object naming pattern. Defaults to “ObjKey-“.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if the checksums are the same, False otherwise</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.bucket_utils.complete_multipart_upload">
<code class="sig-prename descclassname">ocs_ci.ocs.bucket_utils.</code><code class="sig-name descname">complete_multipart_upload</code><span class="sig-paren">(</span><em class="sig-param">s3_obj</em>, <em class="sig-param">bucketname</em>, <em class="sig-param">object_key</em>, <em class="sig-param">upload_id</em>, <em class="sig-param">parts</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.bucket_utils.complete_multipart_upload" title="Permalink to this definition">¶</a></dt>
<dd><p>Completes the Multipart Upload</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>s3_obj</strong> (<em>obj</em>) – MCG or OBC object</p></li>
<li><p><strong>bucketname</strong> (<em>str</em>) – Name of the bucket</p></li>
<li><p><strong>object_key</strong> (<em>str</em>) – Unique object Identifier</p></li>
<li><p><strong>upload_id</strong> (<em>str</em>) – Multipart Upload-ID</p></li>
<li><p><strong>parts</strong> (<em>list</em>) – List containing the uploaded parts which includes ETag and part number</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dictionary containing the completed multipart upload details</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.bucket_utils.copy_objects">
<code class="sig-prename descclassname">ocs_ci.ocs.bucket_utils.</code><code class="sig-name descname">copy_objects</code><span class="sig-paren">(</span><em class="sig-param">podobj</em>, <em class="sig-param">src_obj</em>, <em class="sig-param">target</em>, <em class="sig-param">s3_obj=None</em>, <em class="sig-param">signed_request_creds=None</em>, <em class="sig-param">recursive=False</em>, <em class="sig-param">timeout=600</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.bucket_utils.copy_objects" title="Permalink to this definition">¶</a></dt>
<dd><p>Copies a object onto a bucket using s3 cp command</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>podobj</strong> – Pod object that is used to perform copy operation</p></li>
<li><p><strong>src_obj</strong> – full path to object</p></li>
<li><p><strong>target</strong> – target bucket</p></li>
<li><p><strong>s3_obj</strong> – obc/mcg object</p></li>
<li><p><strong>recursive</strong> – On true, copy directories and their contents/files. False otherwise</p></li>
<li><p><strong>timeout</strong> – timeout for the exec_oc_cmd, defaults to 600 seconds</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.bucket_utils.copy_random_individual_objects">
<code class="sig-prename descclassname">ocs_ci.ocs.bucket_utils.</code><code class="sig-name descname">copy_random_individual_objects</code><span class="sig-paren">(</span><em class="sig-param">podobj</em>, <em class="sig-param">file_dir</em>, <em class="sig-param">target</em>, <em class="sig-param">amount</em>, <em class="sig-param">pattern='test-obj-'</em>, <em class="sig-param">s3_obj=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.bucket_utils.copy_random_individual_objects" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates random objects and then copies them individually one after the other</p>
<p>podobj: Pod object used to perform the operation
file_dir: file directory name where the generated objects are placed
pattern: pattern to follow for objects naming
target: target bucket name
amount: number of objects to generate
s3_obj: MCG/OBC object</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.bucket_utils.craft_s3_command">
<code class="sig-prename descclassname">ocs_ci.ocs.bucket_utils.</code><code class="sig-name descname">craft_s3_command</code><span class="sig-paren">(</span><em class="sig-param">cmd</em>, <em class="sig-param">mcg_obj=None</em>, <em class="sig-param">api=False</em>, <em class="sig-param">signed_request_creds=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.bucket_utils.craft_s3_command" title="Permalink to this definition">¶</a></dt>
<dd><p>Crafts the AWS CLI S3 command including the
login credentials and command to be ran</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mcg_obj</strong> – An MCG class instance</p></li>
<li><p><strong>cmd</strong> – The AWSCLI command to run</p></li>
<li><p><strong>api</strong> – True if the call is for s3api, false if s3</p></li>
<li><p><strong>signed_request_creds</strong> – a dictionary containing AWS S3 creds for a signed request</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The crafted command, ready to be executed on the pod</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.bucket_utils.create_aws_bs_using_cli">
<code class="sig-prename descclassname">ocs_ci.ocs.bucket_utils.</code><code class="sig-name descname">create_aws_bs_using_cli</code><span class="sig-paren">(</span><em class="sig-param">mcg_obj</em>, <em class="sig-param">access_key</em>, <em class="sig-param">secret_key</em>, <em class="sig-param">backingstore_name</em>, <em class="sig-param">uls_name</em>, <em class="sig-param">region</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.bucket_utils.create_aws_bs_using_cli" title="Permalink to this definition">¶</a></dt>
<dd><p>create AWS backingstore through CLI using access_key, secret_key
:param mcg_obj: MCG object
:param access_key: access key
:param secret_key: secret key
:param backingstore_name: unique name to the backingstore
:param uls_name: underlying storage name
:param region: region</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.bucket_utils.create_multipart_upload">
<code class="sig-prename descclassname">ocs_ci.ocs.bucket_utils.</code><code class="sig-name descname">create_multipart_upload</code><span class="sig-paren">(</span><em class="sig-param">s3_obj</em>, <em class="sig-param">bucketname</em>, <em class="sig-param">object_key</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.bucket_utils.create_multipart_upload" title="Permalink to this definition">¶</a></dt>
<dd><p>Initiates Multipart Upload</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>s3_obj</strong> (<em>obj</em>) – MCG or OBC object</p></li>
<li><p><strong>bucketname</strong> (<em>str</em>) – Name of the bucket on which multipart upload to be initiated on</p></li>
<li><p><strong>object_key</strong> (<em>str</em>) – Unique object Identifier</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Multipart Upload-ID</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.bucket_utils.del_objects">
<code class="sig-prename descclassname">ocs_ci.ocs.bucket_utils.</code><code class="sig-name descname">del_objects</code><span class="sig-paren">(</span><em class="sig-param">uploaded_objects_paths</em>, <em class="sig-param">awscli_pod</em>, <em class="sig-param">mcg_obj</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.bucket_utils.del_objects" title="Permalink to this definition">¶</a></dt>
<dd><p>Deleting objects from bucket</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>uploaded_objects_paths</strong> (<em>list</em>) – List of object paths</p></li>
<li><p><strong>awscli_pod</strong> (<em>pod</em>) – A pod running the AWSCLI tools</p></li>
<li><p><strong>mcg_obj</strong> (<em>obj</em>) – An MCG object containing the MCG S3 connection credentials</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.bucket_utils.delete_bucket_policy">
<code class="sig-prename descclassname">ocs_ci.ocs.bucket_utils.</code><code class="sig-name descname">delete_bucket_policy</code><span class="sig-paren">(</span><em class="sig-param">s3_obj</em>, <em class="sig-param">bucketname</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.bucket_utils.delete_bucket_policy" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes bucket policy</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>s3_obj</strong> (<em>obj</em>) – MCG or OBC object</p></li>
<li><p><strong>bucketname</strong> (<em>str</em>) – Name of the bucket</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Delete Bucket policy response</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.bucket_utils.get_bucket_available_size">
<code class="sig-prename descclassname">ocs_ci.ocs.bucket_utils.</code><code class="sig-name descname">get_bucket_available_size</code><span class="sig-paren">(</span><em class="sig-param">mcg_obj</em>, <em class="sig-param">bucket_name</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.bucket_utils.get_bucket_available_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to get the bucket available size</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mcg_obj</strong> (<em>obj</em>) – MCG object</p></li>
<li><p><strong>bucket_name</strong> (<em>str</em>) – Name of the bucket</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Available size in the bucket</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.bucket_utils.get_bucket_policy">
<code class="sig-prename descclassname">ocs_ci.ocs.bucket_utils.</code><code class="sig-name descname">get_bucket_policy</code><span class="sig-paren">(</span><em class="sig-param">s3_obj</em>, <em class="sig-param">bucketname</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.bucket_utils.get_bucket_policy" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets bucket policy from a bucket</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>s3_obj</strong> (<em>obj</em>) – MCG or OBC object</p></li>
<li><p><strong>bucketname</strong> (<em>str</em>) – Name of the bucket</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Get Bucket policy response</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.bucket_utils.get_full_path_object">
<code class="sig-prename descclassname">ocs_ci.ocs.bucket_utils.</code><code class="sig-name descname">get_full_path_object</code><span class="sig-paren">(</span><em class="sig-param">downloaded_files</em>, <em class="sig-param">bucket_name</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.bucket_utils.get_full_path_object" title="Permalink to this definition">¶</a></dt>
<dd><p>Getting full of object in the bucket</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>downloaded_files</strong> (<em>list</em>) – List of downloaded files</p></li>
<li><p><strong>bucket_name</strong> (<em>str</em>) – Name of the bucket</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of full paths of objects</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>uploaded_objects_paths (list)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.bucket_utils.get_rgw_restart_counts">
<code class="sig-prename descclassname">ocs_ci.ocs.bucket_utils.</code><code class="sig-name descname">get_rgw_restart_counts</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.bucket_utils.get_rgw_restart_counts" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the restart count of the RGW pods</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>restart counts of RGW pods</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.bucket_utils.list_multipart_upload">
<code class="sig-prename descclassname">ocs_ci.ocs.bucket_utils.</code><code class="sig-name descname">list_multipart_upload</code><span class="sig-paren">(</span><em class="sig-param">s3_obj</em>, <em class="sig-param">bucketname</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.bucket_utils.list_multipart_upload" title="Permalink to this definition">¶</a></dt>
<dd><p>Lists the multipart upload details on a bucket</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>s3_obj</strong> (<em>obj</em>) – MCG or OBC object</p></li>
<li><p><strong>bucketname</strong> (<em>str</em>) – Name of the bucket</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dictionary containing the multipart upload details</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.bucket_utils.list_objects_from_bucket">
<code class="sig-prename descclassname">ocs_ci.ocs.bucket_utils.</code><code class="sig-name descname">list_objects_from_bucket</code><span class="sig-paren">(</span><em class="sig-param">pod_obj</em>, <em class="sig-param">target</em>, <em class="sig-param">prefix=None</em>, <em class="sig-param">s3_obj=None</em>, <em class="sig-param">signed_request_creds=None</em>, <em class="sig-param">timeout=600</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.bucket_utils.list_objects_from_bucket" title="Permalink to this definition">¶</a></dt>
<dd><p>Lists objects in a bucket using s3 ls command</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>podobj</strong> – Pod object that is used to perform copy operation</p></li>
<li><p><strong>src_obj</strong> – full path to object</p></li>
<li><p><strong>target</strong> – target bucket</p></li>
<li><p><strong>prefix</strong> – prefix</p></li>
<li><p><strong>s3_obj</strong> – obc/mcg object</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of objects in a bucket</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.bucket_utils.list_uploaded_parts">
<code class="sig-prename descclassname">ocs_ci.ocs.bucket_utils.</code><code class="sig-name descname">list_uploaded_parts</code><span class="sig-paren">(</span><em class="sig-param">s3_obj</em>, <em class="sig-param">bucketname</em>, <em class="sig-param">object_key</em>, <em class="sig-param">upload_id</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.bucket_utils.list_uploaded_parts" title="Permalink to this definition">¶</a></dt>
<dd><p>Lists uploaded parts and their ETags</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>s3_obj</strong> (<em>obj</em>) – MCG or OBC object</p></li>
<li><p><strong>bucketname</strong> (<em>str</em>) – Name of the bucket</p></li>
<li><p><strong>object_key</strong> (<em>str</em>) – Unique object Identifier</p></li>
<li><p><strong>upload_id</strong> (<em>str</em>) – Multipart Upload-ID</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dictionary containing the multipart upload details</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.bucket_utils.namespace_bucket_update">
<code class="sig-prename descclassname">ocs_ci.ocs.bucket_utils.</code><code class="sig-name descname">namespace_bucket_update</code><span class="sig-paren">(</span><em class="sig-param">mcg_obj</em>, <em class="sig-param">bucket_name</em>, <em class="sig-param">read_resource</em>, <em class="sig-param">write_resource</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.bucket_utils.namespace_bucket_update" title="Permalink to this definition">¶</a></dt>
<dd><p>Edits MCG namespace bucket resources</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mcg_obj</strong> (<em>obj</em>) – An MCG object containing the MCG S3 connection credentials</p></li>
<li><p><strong>bucket_name</strong> (<em>str</em>) – Name of the bucket</p></li>
<li><p><strong>read_resource</strong> (<em>list</em>) – Resource names to provide read access</p></li>
<li><p><strong>write_resource</strong> (<em>str</em>) – Resource name to provide write access</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.bucket_utils.obc_io_create_delete">
<code class="sig-prename descclassname">ocs_ci.ocs.bucket_utils.</code><code class="sig-name descname">obc_io_create_delete</code><span class="sig-paren">(</span><em class="sig-param">mcg_obj</em>, <em class="sig-param">awscli_pod</em>, <em class="sig-param">bucket_factory</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.bucket_utils.obc_io_create_delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Running IOs on OBC interface
:param mcg_obj: An MCG object containing the MCG S3 connection credentials
:type mcg_obj: obj
:param awscli_pod: A pod running the AWSCLI tools
:type awscli_pod: pod
:param bucket_factory: Calling this fixture creates a new bucket(s)</p>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.bucket_utils.oc_create_aws_backingstore">
<code class="sig-prename descclassname">ocs_ci.ocs.bucket_utils.</code><code class="sig-name descname">oc_create_aws_backingstore</code><span class="sig-paren">(</span><em class="sig-param">cld_mgr</em>, <em class="sig-param">backingstore_name</em>, <em class="sig-param">uls_name</em>, <em class="sig-param">region</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.bucket_utils.oc_create_aws_backingstore" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new backingstore with aws underlying storage using oc create command</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cld_mgr</strong> (<a class="reference internal" href="ocs_ci.ocs.resources.html#ocs_ci.ocs.resources.cloud_manager.CloudManager" title="ocs_ci.ocs.resources.cloud_manager.CloudManager"><em>CloudManager</em></a>) – holds secret for backingstore creation</p></li>
<li><p><strong>backingstore_name</strong> (<em>str</em>) – backingstore name</p></li>
<li><p><strong>uls_name</strong> (<em>str</em>) – underlying storage name</p></li>
<li><p><strong>region</strong> (<em>str</em>) – which region to create backingstore (should be the same as uls)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.bucket_utils.oc_create_azure_backingstore">
<code class="sig-prename descclassname">ocs_ci.ocs.bucket_utils.</code><code class="sig-name descname">oc_create_azure_backingstore</code><span class="sig-paren">(</span><em class="sig-param">cld_mgr</em>, <em class="sig-param">backingstore_name</em>, <em class="sig-param">uls_name</em>, <em class="sig-param">region</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.bucket_utils.oc_create_azure_backingstore" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new backingstore with Azure underlying storage using oc create command</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cld_mgr</strong> (<a class="reference internal" href="ocs_ci.ocs.resources.html#ocs_ci.ocs.resources.cloud_manager.CloudManager" title="ocs_ci.ocs.resources.cloud_manager.CloudManager"><em>CloudManager</em></a>) – holds secret for backingstore creation</p></li>
<li><p><strong>backingstore_name</strong> (<em>str</em>) – backingstore name</p></li>
<li><p><strong>uls_name</strong> (<em>str</em>) – underlying storage name</p></li>
<li><p><strong>region</strong> (<em>str</em>) – which region to create backingstore (should be the same as uls)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.bucket_utils.oc_create_google_backingstore">
<code class="sig-prename descclassname">ocs_ci.ocs.bucket_utils.</code><code class="sig-name descname">oc_create_google_backingstore</code><span class="sig-paren">(</span><em class="sig-param">cld_mgr</em>, <em class="sig-param">backingstore_name</em>, <em class="sig-param">uls_name</em>, <em class="sig-param">region</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.bucket_utils.oc_create_google_backingstore" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new backingstore with GCP underlying storage using oc create command</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cld_mgr</strong> (<a class="reference internal" href="ocs_ci.ocs.resources.html#ocs_ci.ocs.resources.cloud_manager.CloudManager" title="ocs_ci.ocs.resources.cloud_manager.CloudManager"><em>CloudManager</em></a>) – holds secret for backingstore creation</p></li>
<li><p><strong>backingstore_name</strong> (<em>str</em>) – backingstore name</p></li>
<li><p><strong>uls_name</strong> (<em>str</em>) – underlying storage name</p></li>
<li><p><strong>region</strong> (<em>str</em>) – which region to create backingstore (should be the same as uls)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.bucket_utils.oc_create_ibmcos_backingstore">
<code class="sig-prename descclassname">ocs_ci.ocs.bucket_utils.</code><code class="sig-name descname">oc_create_ibmcos_backingstore</code><span class="sig-paren">(</span><em class="sig-param">cld_mgr</em>, <em class="sig-param">backingstore_name</em>, <em class="sig-param">uls_name</em>, <em class="sig-param">region</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.bucket_utils.oc_create_ibmcos_backingstore" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new backingstore with IBM COS underlying storage using oc create command</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cld_mgr</strong> (<a class="reference internal" href="ocs_ci.ocs.resources.html#ocs_ci.ocs.resources.cloud_manager.CloudManager" title="ocs_ci.ocs.resources.cloud_manager.CloudManager"><em>CloudManager</em></a>) – holds secret for backingstore creation</p></li>
<li><p><strong>backingstore_name</strong> (<em>str</em>) – backingstore name</p></li>
<li><p><strong>uls_name</strong> (<em>str</em>) – underlying storage name</p></li>
<li><p><strong>region</strong> (<em>str</em>) – which region to create backingstore (should be the same as uls)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.bucket_utils.oc_create_pv_backingstore">
<code class="sig-prename descclassname">ocs_ci.ocs.bucket_utils.</code><code class="sig-name descname">oc_create_pv_backingstore</code><span class="sig-paren">(</span><em class="sig-param">backingstore_name</em>, <em class="sig-param">vol_num</em>, <em class="sig-param">size</em>, <em class="sig-param">storage_class</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.bucket_utils.oc_create_pv_backingstore" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new backingstore with pv underlying storage using oc create command</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>backingstore_name</strong> (<em>str</em>) – backingstore name</p></li>
<li><p><strong>vol_num</strong> (<em>int</em>) – number of pv volumes</p></li>
<li><p><strong>size</strong> (<em>int</em>) – each volume size in GB</p></li>
<li><p><strong>storage_class</strong> (<em>str</em>) – which storage class to use</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.bucket_utils.oc_create_s3comp_backingstore">
<code class="sig-prename descclassname">ocs_ci.ocs.bucket_utils.</code><code class="sig-name descname">oc_create_s3comp_backingstore</code><span class="sig-paren">(</span><em class="sig-param">cld_mgr</em>, <em class="sig-param">backingstore_name</em>, <em class="sig-param">uls_name</em>, <em class="sig-param">region</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.bucket_utils.oc_create_s3comp_backingstore" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.bucket_utils.patch_replication_policy_to_bucket">
<code class="sig-prename descclassname">ocs_ci.ocs.bucket_utils.</code><code class="sig-name descname">patch_replication_policy_to_bucket</code><span class="sig-paren">(</span><em class="sig-param">bucket_name</em>, <em class="sig-param">rule_id</em>, <em class="sig-param">destination_bucket_name</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.bucket_utils.patch_replication_policy_to_bucket" title="Permalink to this definition">¶</a></dt>
<dd><p>Patches replication policy to a bucket</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bucket_name</strong> (<em>str</em>) – The name of the bucket to patch</p></li>
<li><p><strong>rule_id</strong> (<em>str</em>) – The ID of the replication rule</p></li>
<li><p><strong>destination_bucket_name</strong> (<em>str</em>) – The name of the replication destination bucket</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.bucket_utils.put_bucket_policy">
<code class="sig-prename descclassname">ocs_ci.ocs.bucket_utils.</code><code class="sig-name descname">put_bucket_policy</code><span class="sig-paren">(</span><em class="sig-param">s3_obj</em>, <em class="sig-param">bucketname</em>, <em class="sig-param">policy</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.bucket_utils.put_bucket_policy" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds bucket policy to a bucket</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>s3_obj</strong> (<em>obj</em>) – MCG or OBC object</p></li>
<li><p><strong>bucketname</strong> (<em>str</em>) – Name of the bucket</p></li>
<li><p><strong>policy</strong> (<em>str</em>) – Bucket policy in Json format</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Bucket policy response</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.bucket_utils.random_object_round_trip_verification">
<code class="sig-prename descclassname">ocs_ci.ocs.bucket_utils.</code><code class="sig-name descname">random_object_round_trip_verification</code><span class="sig-paren">(</span><em class="sig-param">io_pod</em>, <em class="sig-param">bucket_name</em>, <em class="sig-param">upload_dir</em>, <em class="sig-param">download_dir</em>, <em class="sig-param">amount=1</em>, <em class="sig-param">pattern='RandomObject-'</em>, <em class="sig-param">wait_for_replication=False</em>, <em class="sig-param">second_bucket_name=None</em>, <em class="sig-param">mcg_obj=None</em>, <em class="sig-param">s3_creds=None</em>, <em class="sig-param">cleanup=False</em>, <em class="sig-param">result_pod=None</em>, <em class="sig-param">result_pod_path=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.bucket_utils.random_object_round_trip_verification" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes random objects in a pod, uploads them to a bucket,
downloads them from the bucket and then compares them.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>io_pod</strong> (<a class="reference internal" href="#ocs_ci.ocs.ocp.OCP" title="ocs_ci.ocs.ocp.OCP"><em>ocs_ci.ocs.ocp.OCP</em></a>) – The pod object in which the files should be</p></li>
<li><p><strong>and written</strong> (<em>generated</em>) – </p></li>
<li><p><strong>bucket_name</strong> (<em>str</em>) – The bucket name to perform the round trip verification on</p></li>
<li><p><strong>upload_dir</strong> (<em>str</em>) – A string containing the path to the directory where the files</p></li>
<li><p><strong>be generated and uploaded from</strong> (<em>will</em>) – </p></li>
<li><p><strong>download_dir</strong> (<em>str</em>) – A string containing the path to the directory where the objects</p></li>
<li><p><strong>be downloaded to</strong> (<em>will</em>) – </p></li>
<li><p><strong>amount</strong> (<em>int</em><em>, </em><em>optional</em>) – The amount of objects to use for the verification. Defaults to 1.</p></li>
<li><p><strong>pattern</strong> (<em>str</em><em>, </em><em>optional</em>) – A string defining the object naming pattern. Defaults to “RandomObject-“.</p></li>
<li><p><strong>wait_for_replication</strong> (<em>bool</em><em>, </em><em>optional</em>) – A boolean defining whether the replication should be waited for. Defaults to False.</p></li>
<li><p><strong>second_bucket_name</strong> (<em>str</em><em>, </em><em>optional</em>) – The name of the second bucket in case of waiting for object replication. Defaults to None.</p></li>
<li><p><strong>mcg_obj</strong> (<a class="reference internal" href="ocs_ci.ocs.resources.html#ocs_ci.ocs.resources.mcg.MCG" title="ocs_ci.ocs.resources.mcg.MCG"><em>MCG</em></a><em>, </em><em>optional</em>) – An MCG class instance. Defaults to None.</p></li>
<li><p><strong>s3_creds</strong> (<em>dict</em><em>, </em><em>optional</em>) – A dictionary containing S3-compatible credentials</p></li>
<li><p><strong>writing objects directly to buckets outside of the MCG. Defaults to None.</strong> (<em>for</em>) – </p></li>
<li><p><strong>cleanup</strong> (<em>bool</em><em>, </em><em>optional</em>) – A boolean defining whether the files should be cleaned up</p></li>
<li><p><strong>the verification.</strong> (<em>after</em>) – </p></li>
<li><p><strong>result_pod</strong> (<a class="reference internal" href="#ocs_ci.ocs.ocp.OCP" title="ocs_ci.ocs.ocp.OCP"><em>ocs_ci.ocs.ocp.OCP</em></a><em>, </em><em>optional</em>) – A second pod contianing files for comparison</p></li>
<li><p><strong>result_pod_path</strong> (<em>str</em><em>, </em><em>optional</em>) – A string containing the path to the directory where the files reside in on the result pod</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.bucket_utils.retrieve_anon_s3_resource">
<code class="sig-prename descclassname">ocs_ci.ocs.bucket_utils.</code><code class="sig-name descname">retrieve_anon_s3_resource</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.bucket_utils.retrieve_anon_s3_resource" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an anonymous boto3 S3 resource by creating one and disabling signing</p>
<p>Disabling signing isn’t documented anywhere, and this solution is based on
a comment by an AWS developer:
<a class="reference external" href="https://github.com/boto/boto3/issues/134#issuecomment-116766812">https://github.com/boto/boto3/issues/134#issuecomment-116766812</a></p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>An anonymous S3 resource</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>boto3.resource()</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.bucket_utils.retrieve_test_objects_to_pod">
<code class="sig-prename descclassname">ocs_ci.ocs.bucket_utils.</code><code class="sig-name descname">retrieve_test_objects_to_pod</code><span class="sig-paren">(</span><em class="sig-param">podobj</em>, <em class="sig-param">target_dir</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.bucket_utils.retrieve_test_objects_to_pod" title="Permalink to this definition">¶</a></dt>
<dd><p>Downloads all the test objects to a given directory in a given pod.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>podobj</strong> (<a class="reference internal" href="ocs_ci.ocs.resources.html#ocs_ci.ocs.resources.ocs.OCS" title="ocs_ci.ocs.resources.ocs.OCS"><em>OCS</em></a>) – The pod object to download the objects to</p></li>
<li><p><strong>target_dir</strong> – The fully qualified path of the download target folder</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of the downloaded objects’ names</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.bucket_utils.retrieve_verification_mode">
<code class="sig-prename descclassname">ocs_ci.ocs.bucket_utils.</code><code class="sig-name descname">retrieve_verification_mode</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.bucket_utils.retrieve_verification_mode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.bucket_utils.rm_object_recursive">
<code class="sig-prename descclassname">ocs_ci.ocs.bucket_utils.</code><code class="sig-name descname">rm_object_recursive</code><span class="sig-paren">(</span><em class="sig-param">podobj</em>, <em class="sig-param">target</em>, <em class="sig-param">mcg_obj</em>, <em class="sig-param">option=''</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.bucket_utils.rm_object_recursive" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove bucket objects with –recursive option</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>podobj</strong> (<a class="reference internal" href="ocs_ci.ocs.resources.html#ocs_ci.ocs.resources.ocs.OCS" title="ocs_ci.ocs.resources.ocs.OCS"><em>OCS</em></a>) – The pod on which to execute the commands and download
the objects to</p></li>
<li><p><strong>target</strong> (<em>str</em>) – Fully qualified bucket target path</p></li>
<li><p><strong>mcg_obj</strong> (<a class="reference internal" href="ocs_ci.ocs.resources.html#ocs_ci.ocs.resources.mcg.MCG" title="ocs_ci.ocs.resources.mcg.MCG"><em>MCG</em></a><em>, </em><em>optional</em>) – The MCG object to use in case the target or
source are in an MCG</p></li>
<li><p><strong>option</strong> (<em>str</em>) – Extra s3 remove command option</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.bucket_utils.s3_copy_object">
<code class="sig-prename descclassname">ocs_ci.ocs.bucket_utils.</code><code class="sig-name descname">s3_copy_object</code><span class="sig-paren">(</span><em class="sig-param">s3_obj</em>, <em class="sig-param">bucketname</em>, <em class="sig-param">source</em>, <em class="sig-param">object_key</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.bucket_utils.s3_copy_object" title="Permalink to this definition">¶</a></dt>
<dd><p>Boto3 client based copy object</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>s3_obj</strong> (<em>obj</em>) – MCG or OBC object</p></li>
<li><p><strong>bucketname</strong> (<em>str</em>) – Name of the bucket</p></li>
<li><p><strong>source</strong> (<em>str</em>) – Source object key. eg: ‘&lt;bucket&gt;/&lt;key&gt;</p></li>
<li><p><strong>object_key</strong> (<em>str</em>) – Unique object Identifier for copied object</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Copy object response</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.bucket_utils.s3_delete_bucket_website">
<code class="sig-prename descclassname">ocs_ci.ocs.bucket_utils.</code><code class="sig-name descname">s3_delete_bucket_website</code><span class="sig-paren">(</span><em class="sig-param">s3_obj</em>, <em class="sig-param">bucketname</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.bucket_utils.s3_delete_bucket_website" title="Permalink to this definition">¶</a></dt>
<dd><p>Boto3 client based Delete bucket website function</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>s3_obj</strong> (<em>obj</em>) – MCG or OBC object</p></li>
<li><p><strong>bucketname</strong> (<em>str</em>) – Name of the bucket</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>DeleteBucketWebsite response</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.bucket_utils.s3_delete_object">
<code class="sig-prename descclassname">ocs_ci.ocs.bucket_utils.</code><code class="sig-name descname">s3_delete_object</code><span class="sig-paren">(</span><em class="sig-param">s3_obj</em>, <em class="sig-param">bucketname</em>, <em class="sig-param">object_key</em>, <em class="sig-param">versionid=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.bucket_utils.s3_delete_object" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple Boto3 client based Delete object</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>s3_obj</strong> (<em>obj</em>) – MCG or OBC object</p></li>
<li><p><strong>bucketname</strong> (<em>str</em>) – Name of the bucket</p></li>
<li><p><strong>object_key</strong> (<em>str</em>) – Unique object Identifier</p></li>
<li><p><strong>versionid</strong> (<em>str</em>) – Unique version number of an object</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Delete object response</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.bucket_utils.s3_delete_objects">
<code class="sig-prename descclassname">ocs_ci.ocs.bucket_utils.</code><code class="sig-name descname">s3_delete_objects</code><span class="sig-paren">(</span><em class="sig-param">s3_obj</em>, <em class="sig-param">bucketname</em>, <em class="sig-param">object_keys</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.bucket_utils.s3_delete_objects" title="Permalink to this definition">¶</a></dt>
<dd><p>Boto3 client based delete objects</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>s3_obj</strong> (<em>obj</em>) – MCG or OBC object</p></li>
<li><p><strong>bucketname</strong> (<em>str</em>) – Name of the bucket</p></li>
<li><p><strong>object_keys</strong> (<em>list</em>) – The objects to delete. Format: {‘Key’: ‘object_key’, ‘VersionId’: ‘’}</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>delete objects response</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.bucket_utils.s3_get_bucket_versioning">
<code class="sig-prename descclassname">ocs_ci.ocs.bucket_utils.</code><code class="sig-name descname">s3_get_bucket_versioning</code><span class="sig-paren">(</span><em class="sig-param">s3_obj</em>, <em class="sig-param">bucketname</em>, <em class="sig-param">s3_client=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.bucket_utils.s3_get_bucket_versioning" title="Permalink to this definition">¶</a></dt>
<dd><p>Boto3 client based Get Bucket Versioning function</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>s3_obj</strong> (<em>obj</em>) – MCG or OBC object</p></li>
<li><p><strong>bucketname</strong> (<em>str</em>) – Name of the bucket</p></li>
<li><p><strong>s3_client</strong> – Any s3 client resource</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>GetBucketVersioning response</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.bucket_utils.s3_get_bucket_website">
<code class="sig-prename descclassname">ocs_ci.ocs.bucket_utils.</code><code class="sig-name descname">s3_get_bucket_website</code><span class="sig-paren">(</span><em class="sig-param">s3_obj</em>, <em class="sig-param">bucketname</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.bucket_utils.s3_get_bucket_website" title="Permalink to this definition">¶</a></dt>
<dd><p>Boto3 client based Get bucket website function</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>s3_obj</strong> (<em>obj</em>) – MCG or OBC object</p></li>
<li><p><strong>bucketname</strong> (<em>str</em>) – Name of the bucket</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>GetBucketWebsite response</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.bucket_utils.s3_get_object">
<code class="sig-prename descclassname">ocs_ci.ocs.bucket_utils.</code><code class="sig-name descname">s3_get_object</code><span class="sig-paren">(</span><em class="sig-param">s3_obj</em>, <em class="sig-param">bucketname</em>, <em class="sig-param">object_key</em>, <em class="sig-param">versionid=''</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.bucket_utils.s3_get_object" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple Boto3 client based Get object</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>s3_obj</strong> (<em>obj</em>) – MCG or OBC object</p></li>
<li><p><strong>bucketname</strong> (<em>str</em>) – Name of the bucket</p></li>
<li><p><strong>object_key</strong> (<em>str</em>) – Unique object Identifier</p></li>
<li><p><strong>versionid</strong> (<em>str</em>) – Unique version number of an object</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Get object response</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.bucket_utils.s3_get_object_acl">
<code class="sig-prename descclassname">ocs_ci.ocs.bucket_utils.</code><code class="sig-name descname">s3_get_object_acl</code><span class="sig-paren">(</span><em class="sig-param">s3_obj</em>, <em class="sig-param">bucketname</em>, <em class="sig-param">object_key</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.bucket_utils.s3_get_object_acl" title="Permalink to this definition">¶</a></dt>
<dd><p>Boto3 client based get_object_acl operation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>s3_obj</strong> (<em>obj</em>) – MCG or OBC object</p></li>
<li><p><strong>bucketname</strong> (<em>str</em>) – Name of the bucket</p></li>
<li><p><strong>object_key</strong> (<em>str</em>) – Unique object Identifier for copied object</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>get object acl response</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.bucket_utils.s3_head_object">
<code class="sig-prename descclassname">ocs_ci.ocs.bucket_utils.</code><code class="sig-name descname">s3_head_object</code><span class="sig-paren">(</span><em class="sig-param">s3_obj</em>, <em class="sig-param">bucketname</em>, <em class="sig-param">object_key</em>, <em class="sig-param">if_match=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.bucket_utils.s3_head_object" title="Permalink to this definition">¶</a></dt>
<dd><p>Boto3 client based head_object operation to retrieve only metadata</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>s3_obj</strong> (<em>obj</em>) – MCG or OBC object</p></li>
<li><p><strong>bucketname</strong> (<em>str</em>) – Name of the bucket</p></li>
<li><p><strong>object_key</strong> (<em>str</em>) – Unique object Identifier for copied object</p></li>
<li><p><strong>if_match</strong> (<em>str</em>) – Return the object only if its entity tag (ETag)
is the same as the one specified,</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>head object response</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.bucket_utils.s3_io_create_delete">
<code class="sig-prename descclassname">ocs_ci.ocs.bucket_utils.</code><code class="sig-name descname">s3_io_create_delete</code><span class="sig-paren">(</span><em class="sig-param">mcg_obj</em>, <em class="sig-param">awscli_pod</em>, <em class="sig-param">bucket_factory</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.bucket_utils.s3_io_create_delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Running IOs on s3 bucket
:param mcg_obj: An MCG object containing the MCG S3 connection credentials
:type mcg_obj: obj
:param awscli_pod: A pod running the AWSCLI tools
:type awscli_pod: pod
:param bucket_factory: Calling this fixture creates a new bucket(s)</p>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.bucket_utils.s3_list_object_versions">
<code class="sig-prename descclassname">ocs_ci.ocs.bucket_utils.</code><code class="sig-name descname">s3_list_object_versions</code><span class="sig-paren">(</span><em class="sig-param">s3_obj</em>, <em class="sig-param">bucketname</em>, <em class="sig-param">prefix=''</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.bucket_utils.s3_list_object_versions" title="Permalink to this definition">¶</a></dt>
<dd><p>Boto3 client based list object Versionfunction</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>s3_obj</strong> (<em>obj</em>) – MCG or OBC object</p></li>
<li><p><strong>bucketname</strong> (<em>str</em>) – Name of the bucket</p></li>
<li><p><strong>prefix</strong> (<em>str</em>) – Object key prefix</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List object version response</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.bucket_utils.s3_list_objects_v1">
<code class="sig-prename descclassname">ocs_ci.ocs.bucket_utils.</code><code class="sig-name descname">s3_list_objects_v1</code><span class="sig-paren">(</span><em class="sig-param">s3_obj</em>, <em class="sig-param">bucketname</em>, <em class="sig-param">prefix=''</em>, <em class="sig-param">delimiter=''</em>, <em class="sig-param">max_keys=1000</em>, <em class="sig-param">marker=''</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.bucket_utils.s3_list_objects_v1" title="Permalink to this definition">¶</a></dt>
<dd><p>Boto3 client based list object version1</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>s3_obj</strong> (<em>obj</em>) – MCG or OBC object</p></li>
<li><p><strong>bucketname</strong> (<em>str</em>) – Name of the bucket</p></li>
<li><p><strong>prefix</strong> (<em>str</em>) – Limits the response to keys that begin with the specified prefix.</p></li>
<li><p><strong>delimiter</strong> (<em>str</em>) – Character used to group keys.</p></li>
<li><p><strong>max_keys</strong> (<em>int</em>) – Maximum number of keys returned in the response. Default 1,000 keys.</p></li>
<li><p><strong>marker</strong> (<em>str</em>) – key to start with when listing objects in a bucket.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list object v1 response</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.bucket_utils.s3_list_objects_v2">
<code class="sig-prename descclassname">ocs_ci.ocs.bucket_utils.</code><code class="sig-name descname">s3_list_objects_v2</code><span class="sig-paren">(</span><em class="sig-param">s3_obj</em>, <em class="sig-param">bucketname</em>, <em class="sig-param">prefix=''</em>, <em class="sig-param">delimiter=''</em>, <em class="sig-param">max_keys=1000</em>, <em class="sig-param">con_token=''</em>, <em class="sig-param">fetch_owner=False</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.bucket_utils.s3_list_objects_v2" title="Permalink to this definition">¶</a></dt>
<dd><p>Boto3 client based list object version2</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>s3_obj</strong> (<em>obj</em>) – MCG or OBC object</p></li>
<li><p><strong>bucketname</strong> (<em>str</em>) – Name of the bucket</p></li>
<li><p><strong>prefix</strong> (<em>str</em>) – Limits the response to keys that begin with the specified prefix.</p></li>
<li><p><strong>delimiter</strong> (<em>str</em>) – Character used to group keys.</p></li>
<li><p><strong>max_keys</strong> (<em>int</em>) – Maximum number of keys returned in the response. Default 1,000 keys.</p></li>
<li><p><strong>con_token</strong> (<em>str</em>) – Token used to continue the list</p></li>
<li><p><strong>fetch_owner</strong> (<em>bool</em>) – Unique object Identifier</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list object v2 response</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.bucket_utils.s3_put_bucket_versioning">
<code class="sig-prename descclassname">ocs_ci.ocs.bucket_utils.</code><code class="sig-name descname">s3_put_bucket_versioning</code><span class="sig-paren">(</span><em class="sig-param">s3_obj</em>, <em class="sig-param">bucketname</em>, <em class="sig-param">status='Enabled'</em>, <em class="sig-param">s3_client=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.bucket_utils.s3_put_bucket_versioning" title="Permalink to this definition">¶</a></dt>
<dd><p>Boto3 client based Put Bucket Versioning function</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>s3_obj</strong> (<em>obj</em>) – MCG or OBC object</p></li>
<li><p><strong>bucketname</strong> (<em>str</em>) – Name of the bucket</p></li>
<li><p><strong>status</strong> (<em>str</em>) – ‘Enabled’ or ‘Suspended’. Default ‘Enabled’</p></li>
<li><p><strong>s3_client</strong> – Any s3 client resource</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>PutBucketVersioning response</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.bucket_utils.s3_put_bucket_website">
<code class="sig-prename descclassname">ocs_ci.ocs.bucket_utils.</code><code class="sig-name descname">s3_put_bucket_website</code><span class="sig-paren">(</span><em class="sig-param">s3_obj</em>, <em class="sig-param">bucketname</em>, <em class="sig-param">website_config</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.bucket_utils.s3_put_bucket_website" title="Permalink to this definition">¶</a></dt>
<dd><p>Boto3 client based Put bucket website function</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>s3_obj</strong> (<em>obj</em>) – MCG or OBC object</p></li>
<li><p><strong>bucketname</strong> (<em>str</em>) – Name of the bucket</p></li>
<li><p><strong>website_config</strong> (<em>dict</em>) – Website configuration info</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>PutBucketWebsite response</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.bucket_utils.s3_put_object">
<code class="sig-prename descclassname">ocs_ci.ocs.bucket_utils.</code><code class="sig-name descname">s3_put_object</code><span class="sig-paren">(</span><em class="sig-param">s3_obj</em>, <em class="sig-param">bucketname</em>, <em class="sig-param">object_key</em>, <em class="sig-param">data</em>, <em class="sig-param">content_type=''</em>, <em class="sig-param">content_encoding=''</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.bucket_utils.s3_put_object" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple Boto3 client based Put object</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>s3_obj</strong> (<em>obj</em>) – MCG or OBC object</p></li>
<li><p><strong>bucketname</strong> (<em>str</em>) – Name of the bucket</p></li>
<li><p><strong>object_key</strong> (<em>str</em>) – Unique object Identifier</p></li>
<li><p><strong>data</strong> (<em>str</em>) – string content to write to a new S3 object</p></li>
<li><p><strong>content_type</strong> (<em>str</em>) – Type of object data. eg: html, txt etc,</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Put object response</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.bucket_utils.s3_upload_part_copy">
<code class="sig-prename descclassname">ocs_ci.ocs.bucket_utils.</code><code class="sig-name descname">s3_upload_part_copy</code><span class="sig-paren">(</span><em class="sig-param">s3_obj</em>, <em class="sig-param">bucketname</em>, <em class="sig-param">copy_source</em>, <em class="sig-param">object_key</em>, <em class="sig-param">part_number</em>, <em class="sig-param">upload_id</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.bucket_utils.s3_upload_part_copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Boto3 client based upload_part_copy operation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>s3_obj</strong> (<em>obj</em>) – MCG or OBC object</p></li>
<li><p><strong>bucketname</strong> (<em>str</em>) – Name of the bucket</p></li>
<li><p><strong>copy_source</strong> (<em>str</em>) – Name of the source bucket and key name. {bucket}/{key}</p></li>
<li><p><strong>part_number</strong> (<em>int</em>) – Part number</p></li>
<li><p><strong>upload_id</strong> (<em>str</em>) – Upload Id</p></li>
<li><p><strong>object_key</strong> (<em>str</em>) – Unique object Identifier for copied object</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>upload_part_copy response</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.bucket_utils.setup_base_objects">
<code class="sig-prename descclassname">ocs_ci.ocs.bucket_utils.</code><code class="sig-name descname">setup_base_objects</code><span class="sig-paren">(</span><em class="sig-param">awscli_pod</em>, <em class="sig-param">original_dir</em>, <em class="sig-param">amount=2</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.bucket_utils.setup_base_objects" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a directory and populates it with random objects</p>
<blockquote>
<div><dl class="simple">
<dt>Args:</dt><dd><p>awscli_pod (Pod): A pod running the AWS CLI tools
original_dir (str): original directory name
amount (Int): Number of test objects to create</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.bucket_utils.sync_object_directory">
<code class="sig-prename descclassname">ocs_ci.ocs.bucket_utils.</code><code class="sig-name descname">sync_object_directory</code><span class="sig-paren">(</span><em class="sig-param">podobj</em>, <em class="sig-param">src</em>, <em class="sig-param">target</em>, <em class="sig-param">s3_obj=None</em>, <em class="sig-param">signed_request_creds=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.bucket_utils.sync_object_directory" title="Permalink to this definition">¶</a></dt>
<dd><p>Syncs objects between a target and source directories</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>podobj</strong> (<a class="reference internal" href="ocs_ci.ocs.resources.html#ocs_ci.ocs.resources.ocs.OCS" title="ocs_ci.ocs.resources.ocs.OCS"><em>OCS</em></a>) – The pod on which to execute the commands and download the objects to</p></li>
<li><p><strong>src</strong> (<em>str</em>) – Fully qualified object source path</p></li>
<li><p><strong>target</strong> (<em>str</em>) – Fully qualified object target path</p></li>
<li><p><strong>s3_obj</strong> (<a class="reference internal" href="ocs_ci.ocs.resources.html#ocs_ci.ocs.resources.mcg.MCG" title="ocs_ci.ocs.resources.mcg.MCG"><em>MCG</em></a><em>, </em><em>optional</em>) – The MCG object to use in case the target or source
are in an MCG</p></li>
<li><p><strong>signed_request_creds</strong> (<em>dictionary</em><em>, </em><em>optional</em>) – the access_key, secret_key,
endpoint and region to use when willing to send signed aws s3 requests</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.bucket_utils.upload_objects_with_javasdk">
<code class="sig-prename descclassname">ocs_ci.ocs.bucket_utils.</code><code class="sig-name descname">upload_objects_with_javasdk</code><span class="sig-paren">(</span><em class="sig-param">javas3_pod</em>, <em class="sig-param">s3_obj</em>, <em class="sig-param">bucket_name</em>, <em class="sig-param">is_multipart=False</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.bucket_utils.upload_objects_with_javasdk" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs upload operation using java s3 pod</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>javas3_pod</strong> – java s3 sdk pod session</p></li>
<li><p><strong>s3_obj</strong> – MCG object</p></li>
<li><p><strong>bucket_name</strong> – bucket on which objects are uploaded</p></li>
<li><p><strong>is_multipart</strong> – By default False, set to True if you want
to perform multipart upload</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Output of the command execution</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.bucket_utils.upload_parts">
<code class="sig-prename descclassname">ocs_ci.ocs.bucket_utils.</code><code class="sig-name descname">upload_parts</code><span class="sig-paren">(</span><em class="sig-param">mcg_obj</em>, <em class="sig-param">awscli_pod</em>, <em class="sig-param">bucketname</em>, <em class="sig-param">object_key</em>, <em class="sig-param">body_path</em>, <em class="sig-param">upload_id</em>, <em class="sig-param">uploaded_parts</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.bucket_utils.upload_parts" title="Permalink to this definition">¶</a></dt>
<dd><p>Uploads individual parts to a bucket</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mcg_obj</strong> (<em>obj</em>) – An MCG object containing the MCG S3 connection credentials</p></li>
<li><p><strong>awscli_pod</strong> (<em>pod</em>) – A pod running the AWSCLI tools</p></li>
<li><p><strong>bucketname</strong> (<em>str</em>) – Name of the bucket to upload parts on</p></li>
<li><p><strong>object_key</strong> (<em>list</em>) – Unique object Identifier</p></li>
<li><p><strong>body_path</strong> (<em>str</em>) – Path of the directory on the aws pod which contains the parts to be uploaded</p></li>
<li><p><strong>upload_id</strong> (<em>str</em>) – Multipart Upload-ID</p></li>
<li><p><strong>uploaded_parts</strong> (<em>list</em>) – list containing the name of the parts to be uploaded</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List containing the ETag of the parts</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.bucket_utils.verify_s3_object_integrity">
<code class="sig-prename descclassname">ocs_ci.ocs.bucket_utils.</code><code class="sig-name descname">verify_s3_object_integrity</code><span class="sig-paren">(</span><em class="sig-param">original_object_path</em>, <em class="sig-param">result_object_path</em>, <em class="sig-param">awscli_pod</em>, <em class="sig-param">result_pod=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.bucket_utils.verify_s3_object_integrity" title="Permalink to this definition">¶</a></dt>
<dd><p>Verifies checksum between original object and result object on an awscli pod</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>original_object_path</strong> (<em>str</em>) – The Object that is uploaded to the s3 bucket</p></li>
<li><p><strong>result_object_path</strong> (<em>str</em>) – The Object that is downloaded from the s3 bucket</p></li>
<li><p><strong>awscli_pod</strong> (<em>pod</em>) – A pod running the AWSCLI tools</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if checksum matches, False otherwise</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.bucket_utils.wait_for_cache">
<code class="sig-prename descclassname">ocs_ci.ocs.bucket_utils.</code><code class="sig-name descname">wait_for_cache</code><span class="sig-paren">(</span><em class="sig-param">mcg_obj</em>, <em class="sig-param">bucket_name</em>, <em class="sig-param">expected_objects_names=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.bucket_utils.wait_for_cache" title="Permalink to this definition">¶</a></dt>
<dd><p>wait for existing cache bucket to cache all required objects</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mcg_obj</strong> (<a class="reference internal" href="ocs_ci.ocs.resources.html#ocs_ci.ocs.resources.mcg.MCG" title="ocs_ci.ocs.resources.mcg.MCG"><em>MCG</em></a>) – An MCG object containing the MCG S3 connection credentials</p></li>
<li><p><strong>bucket_name</strong> (<em>str</em>) – Name of the cache bucket</p></li>
<li><p><strong>expected_objects_names</strong> (<em>list</em>) – Expected objects to be cached</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.bucket_utils.wait_for_pv_backingstore">
<code class="sig-prename descclassname">ocs_ci.ocs.bucket_utils.</code><code class="sig-name descname">wait_for_pv_backingstore</code><span class="sig-paren">(</span><em class="sig-param">backingstore_name</em>, <em class="sig-param">namespace=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.bucket_utils.wait_for_pv_backingstore" title="Permalink to this definition">¶</a></dt>
<dd><p>wait for existing pv backing store to reach OPTIMAL state</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>backingstore_name</strong> (<em>str</em>) – backingstore name</p></li>
<li><p><strong>namespace</strong> (<em>str</em>) – backing store’s namespace</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.bucket_utils.write_individual_s3_objects">
<code class="sig-prename descclassname">ocs_ci.ocs.bucket_utils.</code><code class="sig-name descname">write_individual_s3_objects</code><span class="sig-paren">(</span><em class="sig-param">mcg_obj</em>, <em class="sig-param">awscli_pod</em>, <em class="sig-param">bucket_factory</em>, <em class="sig-param">downloaded_files</em>, <em class="sig-param">target_dir</em>, <em class="sig-param">bucket_name=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.bucket_utils.write_individual_s3_objects" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes objects one by one to an s3 bucket</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mcg_obj</strong> (<em>obj</em>) – An MCG object containing the MCG S3 connection credentials</p></li>
<li><p><strong>awscli_pod</strong> (<em>pod</em>) – A pod running the AWSCLI tools</p></li>
<li><p><strong>bucket_factory</strong> – Calling this fixture creates a new bucket(s)</p></li>
<li><p><strong>downloaded_files</strong> (<em>list</em>) – List of downloaded object keys</p></li>
<li><p><strong>target_dir</strong> (<em>str</em>) – The fully qualified path of the download target folder</p></li>
<li><p><strong>bucket_name</strong> (<em>str</em>) – Name of the bucket
(default: none)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.bucket_utils.write_random_objects_in_pod">
<code class="sig-prename descclassname">ocs_ci.ocs.bucket_utils.</code><code class="sig-name descname">write_random_objects_in_pod</code><span class="sig-paren">(</span><em class="sig-param">io_pod</em>, <em class="sig-param">file_dir</em>, <em class="sig-param">amount</em>, <em class="sig-param">pattern='ObjKey-'</em>, <em class="sig-param">bs='1M'</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.bucket_utils.write_random_objects_in_pod" title="Permalink to this definition">¶</a></dt>
<dd><p>Uses /dev/urandom to create and write random files in a given
directory in a pod</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>io_pod</strong> (<a class="reference internal" href="#ocs_ci.ocs.ocp.OCP" title="ocs_ci.ocs.ocp.OCP"><em>ocs_ci.ocs.ocp.OCP</em></a>) – The pod object in which the files should be</p></li>
<li><p><strong>and written</strong> (<em>generated</em>) – </p></li>
<li><p><strong>file_dir</strong> (<em>str</em>) – A string describing the path in which</p></li>
<li><p><strong>write the files to</strong> (<em>to</em>) – </p></li>
<li><p><strong>amount</strong> (<em>int</em>) – The amount of files to generate</p></li>
<li><p><strong>pattern</strong> (<em>str</em>) – The file name pattern to use</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list with the names of all written objects</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.bucket_utils.write_random_test_objects_to_bucket">
<code class="sig-prename descclassname">ocs_ci.ocs.bucket_utils.</code><code class="sig-name descname">write_random_test_objects_to_bucket</code><span class="sig-paren">(</span><em class="sig-param">io_pod</em>, <em class="sig-param">bucket_to_write</em>, <em class="sig-param">file_dir</em>, <em class="sig-param">amount=1</em>, <em class="sig-param">pattern='ObjKey-'</em>, <em class="sig-param">bs='1M'</em>, <em class="sig-param">mcg_obj=None</em>, <em class="sig-param">s3_creds=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.bucket_utils.write_random_test_objects_to_bucket" title="Permalink to this definition">¶</a></dt>
<dd><p>Write files generated by /dev/urandom to a bucket</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>io_pod</strong> (<a class="reference internal" href="#ocs_ci.ocs.ocp.OCP" title="ocs_ci.ocs.ocp.OCP"><em>ocs_ci.ocs.ocp.OCP</em></a>) – The pod which should handle all needed IO operations</p></li>
<li><p><strong>bucket_to_write</strong> (<em>str</em>) – The bucket name to write the random files to</p></li>
<li><p><strong>file_dir</strong> (<em>str</em>) – The path to the folder where all random files will be</p></li>
<li><p><strong>and copied from</strong> (<em>generated</em>) – </p></li>
<li><p><strong>amount</strong> (<em>int</em><em>, </em><em>optional</em>) – The amount of random objects to write. Defaults to 1.</p></li>
<li><p><strong>pattern</strong> (<em>str</em><em>, </em><em>optional</em>) – The pattern of the random files’ names. Defaults to ObjKey.</p></li>
<li><p><strong>bs</strong> (<em>str</em><em>, </em><em>optional</em>) – The size of the random files in bytes. Defaults to 1M.</p></li>
<li><p><strong>mcg_obj</strong> (<a class="reference internal" href="ocs_ci.ocs.resources.html#ocs_ci.ocs.resources.mcg.MCG" title="ocs_ci.ocs.resources.mcg.MCG"><em>MCG</em></a><em>, </em><em>optional</em>) – An MCG class instance</p></li>
<li><p><strong>s3_creds</strong> (<em>dict</em><em>, </em><em>optional</em>) – A dictionary containing S3-compatible credentials</p></li>
<li><p><strong>writing objects directly to buckets outside of the MCG. Defaults to None.</strong> (<em>for</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list containing the names of the random files that were written</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-ocs_ci.ocs.ceph_debug">
<span id="ocs-ci-ocs-ceph-debug-module"></span><h2>ocs_ci.ocs.ceph_debug module<a class="headerlink" href="#module-ocs_ci.ocs.ceph_debug" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ocs_ci.ocs.ceph_debug.CephObjectStoreTool">
<em class="property">class </em><code class="sig-prename descclassname">ocs_ci.ocs.ceph_debug.</code><code class="sig-name descname">CephObjectStoreTool</code><span class="sig-paren">(</span><em class="sig-param">deployment_name=None</em>, <em class="sig-param">data_path='/var/lib/ceph/osd/'</em>, <em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.ceph_debug.CephObjectStoreTool" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ocs_ci.ocs.ceph_debug.RookCephPlugin" title="ocs_ci.ocs.ceph_debug.RookCephPlugin"><code class="xref py py-class docutils literal notranslate"><span class="pre">ocs_ci.ocs.ceph_debug.RookCephPlugin</span></code></a></p>
<p>This is to perform COT related operations on OSD debug pod
We can extend this class in future to perform various other ceph-objectstore-tool operations</p>
<dl class="method">
<dt id="ocs_ci.ocs.ceph_debug.CephObjectStoreTool.run_cot_list_pgs">
<code class="sig-name descname">run_cot_list_pgs</code><span class="sig-paren">(</span><em class="sig-param">deployment_name</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.ceph_debug.CephObjectStoreTool.run_cot_list_pgs" title="Permalink to this definition">¶</a></dt>
<dd><p>Run COT list PG operation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>deployment_name</strong> – Name of the original deployment thats in debug</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of PGS</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pgs</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="ocs_ci.ocs.ceph_debug.MonStoreTool">
<em class="property">class </em><code class="sig-prename descclassname">ocs_ci.ocs.ceph_debug.</code><code class="sig-name descname">MonStoreTool</code><span class="sig-paren">(</span><em class="sig-param">deployment_name=None</em>, <em class="sig-param">store_path='/var/lib/ceph/mon/'</em>, <em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.ceph_debug.MonStoreTool" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ocs_ci.ocs.ceph_debug.RookCephPlugin" title="ocs_ci.ocs.ceph_debug.RookCephPlugin"><code class="xref py py-class docutils literal notranslate"><span class="pre">ocs_ci.ocs.ceph_debug.RookCephPlugin</span></code></a></p>
<p>This is to perform MonStoreTool related operations on Mon debug pod
We can extend this class in future to perform various other ceph-monstore-tool operations</p>
<dl class="method">
<dt id="ocs_ci.ocs.ceph_debug.MonStoreTool.run_mot_get_monmap">
<code class="sig-name descname">run_mot_get_monmap</code><span class="sig-paren">(</span><em class="sig-param">deployment_name</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.ceph_debug.MonStoreTool.run_mot_get_monmap" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs MonStoreTool get monmap operation
:param deployment_name: deployment name</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>output for get monmap command</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="ocs_ci.ocs.ceph_debug.RookCephPlugin">
<em class="property">class </em><code class="sig-prename descclassname">ocs_ci.ocs.ceph_debug.</code><code class="sig-name descname">RookCephPlugin</code><span class="sig-paren">(</span><em class="sig-param">namespace='openshift-storage'</em>, <em class="sig-param">operator_namespace='openshift-storage'</em>, <em class="sig-param">alternate_image=None</em>, <em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.ceph_debug.RookCephPlugin" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This helps you put the Mon/OSD deployments in debug mode without scaling down the rook-operator
or other steps involved using krew plugin. This will also take care of the plugin installation
if not already installed. Generally debug pods are used to perform debug ops, but they can also
be used for maintenance purpose. One can use offline tools like ceph-objectstore-tool, ceph-monstore-tool
using debug pods.
e.g: List all PGs: $ceph-objectstore-tool –data-path /var/lib/ceph/osd/ceph-0 –op –list-pgs</p>
<dl class="method">
<dt id="ocs_ci.ocs.ceph_debug.RookCephPlugin.check_for_rook_ceph">
<code class="sig-name descname">check_for_rook_ceph</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.ceph_debug.RookCephPlugin.check_for_rook_ceph" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if rook-ceph plugin is installed</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True if installed, False otherwise</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.ceph_debug.RookCephPlugin.check_krew_installed">
<code class="sig-name descname">check_krew_installed</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.ceph_debug.RookCephPlugin.check_krew_installed" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if krew is installed already</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True if installed, False otherwise</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.ceph_debug.RookCephPlugin.debug_start">
<code class="sig-name descname">debug_start</code><span class="sig-paren">(</span><em class="sig-param">deployment_name</em>, <em class="sig-param">alternate_image=None</em>, <em class="sig-param">timeout=800</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.ceph_debug.RookCephPlugin.debug_start" title="Permalink to this definition">¶</a></dt>
<dd><p>This starts the debug mode for the deployment</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>deployment_name</strong> (<em>str</em>) – Name of the deployment that you want</p></li>
<li><p><strong>to be in debug mode i.e</strong><strong>, </strong><strong>either Mon</strong><strong> or </strong><strong>OSD deployments</strong> (<em>it</em>) – </p></li>
<li><p><strong>alternate_image</strong> (<em>str</em>) – Alternate image that you want to pass</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>if debug start is successful</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>True</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.ceph_debug.RookCephPlugin.debug_stop">
<code class="sig-name descname">debug_stop</code><span class="sig-paren">(</span><em class="sig-param">deployment_name</em>, <em class="sig-param">alternate_image=None</em>, <em class="sig-param">timeout=800</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.ceph_debug.RookCephPlugin.debug_stop" title="Permalink to this definition">¶</a></dt>
<dd><p>This stops the debug mode for the deployment</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>alternate_image</strong> (<em>str</em>) – Alternate image that you want to pass</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>if debug stop is successful</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>True</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.ceph_debug.RookCephPlugin.install_krew">
<code class="sig-name descname">install_krew</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.ceph_debug.RookCephPlugin.install_krew" title="Permalink to this definition">¶</a></dt>
<dd><p>Install krew</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.ceph_debug.RookCephPlugin.install_rook_ceph_plugin">
<code class="sig-name descname">install_rook_ceph_plugin</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.ceph_debug.RookCephPlugin.install_rook_ceph_plugin" title="Permalink to this definition">¶</a></dt>
<dd><p>Install rook-ceph plugin</p>
</dd></dl>

<dl class="attribute">
<dt id="ocs_ci.ocs.ceph_debug.RookCephPlugin.krew_install_cmd">
<code class="sig-name descname">krew_install_cmd</code><em class="property"> = 'sh /Users/danielosypenko/Work/automation_4/ocs-ci/ocs_ci/templates/krew_plugin/krew_install.sh'</em><a class="headerlink" href="#ocs_ci.ocs.ceph_debug.RookCephPlugin.krew_install_cmd" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="ocs_ci.ocs.ceph_debug.RookCephPlugin.rookceph_install_cmd">
<code class="sig-name descname">rookceph_install_cmd</code><em class="property"> = 'sh /Users/danielosypenko/Work/automation_4/ocs-ci/ocs_ci/templates/krew_plugin/rookcephplugin_install.sh'</em><a class="headerlink" href="#ocs_ci.ocs.ceph_debug.RookCephPlugin.rookceph_install_cmd" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-ocs_ci.ocs.cephfs_workload">
<span id="ocs-ci-ocs-cephfs-workload-module"></span><h2>ocs_ci.ocs.cephfs_workload module<a class="headerlink" href="#module-ocs_ci.ocs.cephfs_workload" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ocs_ci.ocs.cephfs_workload.LogReaderWriterParallel">
<em class="property">class </em><code class="sig-prename descclassname">ocs_ci.ocs.cephfs_workload.</code><code class="sig-name descname">LogReaderWriterParallel</code><span class="sig-paren">(</span><em class="sig-param">project</em>, <em class="sig-param">tmp_path</em>, <em class="sig-param">storage_size=2</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cephfs_workload.LogReaderWriterParallel" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Write and read logfile stored on cephfs volume, from all worker nodes of a
cluster via k8s Deployment, while fetching content of the stored data via
oc rsync to check the data locally.</p>
<p>TO DO: Update the test after the issue <a class="reference external" href="https://github.com/red-hat-storage/ocs-ci/issues/5724">https://github.com/red-hat-storage/ocs-ci/issues/5724</a>
will be completed.</p>
<dl class="method">
<dt id="ocs_ci.ocs.cephfs_workload.LogReaderWriterParallel.fetch_and_validate_data">
<code class="sig-name descname">fetch_and_validate_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cephfs_workload.LogReaderWriterParallel.fetch_and_validate_data" title="Permalink to this definition">¶</a></dt>
<dd><p>While the workload is running, try to validate the data
from the cephfs volume of the workload.</p>
<dl class="simple">
<dt>Raise:</dt><dd><p>NotFoundError: When the given volume is not found in given spec
Exception: When the data verification job failed</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cephfs_workload.LogReaderWriterParallel.log_reader_writer_parallel">
<code class="sig-name descname">log_reader_writer_parallel</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cephfs_workload.LogReaderWriterParallel.log_reader_writer_parallel" title="Permalink to this definition">¶</a></dt>
<dd><p>Write and read logfile stored on cephfs volume, from all worker nodes of a
cluster via k8s Deployment.</p>
<dl class="simple">
<dt>Raise:</dt><dd><p>NotFoundError: When given volume is not found in given spec
UnexpectedBehaviour: When an unexpected problem with starting the workload occurred</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-ocs_ci.ocs.clients">
<span id="ocs-ci-ocs-clients-module"></span><h2>ocs_ci.ocs.clients module<a class="headerlink" href="#module-ocs_ci.ocs.clients" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ocs_ci.ocs.clients.WinNode">
<em class="property">class </em><code class="sig-prename descclassname">ocs_ci.ocs.clients.</code><code class="sig-name descname">WinNode</code><span class="sig-paren">(</span><em class="sig-param">**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.clients.WinNode" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="ocs_ci.ocs.clients.WinNode.check_disk">
<code class="sig-name descname">check_disk</code><span class="sig-paren">(</span><em class="sig-param">number</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.clients.WinNode.check_disk" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.clients.WinNode.connect_to_target">
<code class="sig-name descname">connect_to_target</code><span class="sig-paren">(</span><em class="sig-param">ip</em>, <em class="sig-param">username</em>, <em class="sig-param">password</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.clients.WinNode.connect_to_target" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.clients.WinNode.create_disk">
<code class="sig-name descname">create_disk</code><span class="sig-paren">(</span><em class="sig-param">number</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.clients.WinNode.create_disk" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.clients.WinNode.create_fio_job_options">
<code class="sig-name descname">create_fio_job_options</code><span class="sig-paren">(</span><em class="sig-param">job_options</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.clients.WinNode.create_fio_job_options" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.clients.WinNode.create_new_target">
<code class="sig-name descname">create_new_target</code><span class="sig-paren">(</span><em class="sig-param">ip</em>, <em class="sig-param">port=3260</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.clients.WinNode.create_new_target" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.clients.WinNode.delete_target">
<code class="sig-name descname">delete_target</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.clients.WinNode.delete_target" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.clients.WinNode.disconnect_from_target">
<code class="sig-name descname">disconnect_from_target</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.clients.WinNode.disconnect_from_target" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.clients.WinNode.get_iscsi_initiator_name">
<code class="sig-name descname">get_iscsi_initiator_name</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.clients.WinNode.get_iscsi_initiator_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.clients.WinNode.run_fio_test">
<code class="sig-name descname">run_fio_test</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.clients.WinNode.run_fio_test" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.clients.WinNode.start_iscsi_initiator">
<code class="sig-name descname">start_iscsi_initiator</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.clients.WinNode.start_iscsi_initiator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.clients.WinNode.win_exec">
<code class="sig-name descname">win_exec</code><span class="sig-paren">(</span><em class="sig-param">ps_command</em>, <em class="sig-param">timeout=180</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.clients.WinNode.win_exec" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-ocs_ci.ocs.cluster">
<span id="ocs-ci-ocs-cluster-module"></span><h2>ocs_ci.ocs.cluster module<a class="headerlink" href="#module-ocs_ci.ocs.cluster" title="Permalink to this headline">¶</a></h2>
<p>A module for all rook functionalities and abstractions.</p>
<p>This module has rook related classes, support for functionalities to work with
rook cluster. This works with assumptions that an OCP cluster is already
functional and proper configurations are made for interaction.</p>
<dl class="class">
<dt id="ocs_ci.ocs.cluster.CephCluster">
<em class="property">class </em><code class="sig-prename descclassname">ocs_ci.ocs.cluster.</code><code class="sig-name descname">CephCluster</code><a class="headerlink" href="#ocs_ci.ocs.cluster.CephCluster" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Handles all cluster related operations from ceph perspective</p>
<p>This class has depiction of ceph cluster. Contains references to
pod objects which represents ceph cluster entities.</p>
<dl class="attribute">
<dt id="ocs_ci.ocs.cluster.CephCluster.pods">
<code class="sig-name descname">pods</code><a class="headerlink" href="#ocs_ci.ocs.cluster.CephCluster.pods" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of  ceph cluster related pods</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="ocs_ci.ocs.cluster.CephCluster.cluster_name">
<code class="sig-name descname">cluster_name</code><a class="headerlink" href="#ocs_ci.ocs.cluster.CephCluster.cluster_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of ceph cluster</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="ocs_ci.ocs.cluster.CephCluster.namespace">
<code class="sig-name descname">namespace</code><a class="headerlink" href="#ocs_ci.ocs.cluster.CephCluster.namespace" title="Permalink to this definition">¶</a></dt>
<dd><p>openshift Namespace where this cluster lives</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cluster.CephCluster.calc_trim_mean_throughput">
<code class="sig-name descname">calc_trim_mean_throughput</code><span class="sig-paren">(</span><em class="sig-param">samples=8</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.CephCluster.calc_trim_mean_throughput" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the cluster average throughput out of a few samples</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>samples</strong> (<em>int</em>) – The number of samples to take</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The average cluster throughput</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cluster.CephCluster.check_ceph_pool_used_space">
<code class="sig-name descname">check_ceph_pool_used_space</code><span class="sig-paren">(</span><em class="sig-param">cbp_name</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.CephCluster.check_ceph_pool_used_space" title="Permalink to this definition">¶</a></dt>
<dd><p>Check for the used space of a pool in cluster</p>
<blockquote>
<div><dl class="simple">
<dt>Returns:</dt><dd><p>used_in_gb (float): Amount of used space in pool (in GBs)</p>
</dd>
<dt>Raises:</dt><dd><p>UnexpectedBehaviour: If used size keeps varying in Ceph status</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cluster.CephCluster.cluster_health_check">
<code class="sig-name descname">cluster_health_check</code><span class="sig-paren">(</span><em class="sig-param">timeout=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.CephCluster.cluster_health_check" title="Permalink to this definition">¶</a></dt>
<dd><p>Check overall cluster health.
Relying on health reported by CephCluster.get()</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>timeout</strong> (<em>int</em>) – in seconds. By default timeout value will be scaled
based on number of ceph pods in the cluster. This is just a
crude number. Its been observed that as the number of pods
increases it takes more time for cluster’s HEALTH_OK.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if “HEALTH_OK”  else False</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="#ocs_ci.ocs.exceptions.CephHealthException" title="ocs_ci.ocs.exceptions.CephHealthException"><strong>CephHealthException</strong></a> – if cluster is not healthy</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<em class="property">property </em><code class="sig-name descname">cluster_name</code></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cluster.CephCluster.create_new_blockpool">
<code class="sig-name descname">create_new_blockpool</code><span class="sig-paren">(</span><em class="sig-param">pool_name</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.CephCluster.create_new_blockpool" title="Permalink to this definition">¶</a></dt>
<dd><p>Creating new RBD pool to use in the tests insted of the default one.
the new RBD pool is identical (parameters wise) to the default RBD pool</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>pool_name</strong> (<em>str</em>) – The name of the RBD pool to create</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cluster.CephCluster.create_new_filesystem">
<code class="sig-name descname">create_new_filesystem</code><span class="sig-paren">(</span><em class="sig-param">fs_name</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.CephCluster.create_new_filesystem" title="Permalink to this definition">¶</a></dt>
<dd><p>Creating new filesystem to use in the tests insted of the default one.
the new filesystem is identical (parameters wise) to the default filesystem</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fs_name</strong> (<em>str</em>) – The name of the filesystem to create</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cluster.CephCluster.create_user">
<code class="sig-name descname">create_user</code><span class="sig-paren">(</span><em class="sig-param">username</em>, <em class="sig-param">caps</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.CephCluster.create_user" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a ceph user in the cluster</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>username</strong> (<em>str</em>) – ex client.user1</p></li>
<li><p><strong>caps</strong> (<em>str</em>) – ceph caps ex: mon ‘allow r’ osd ‘allow rw’</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>return value of get_user_key()</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cluster.CephCluster.delete_blockpool">
<code class="sig-name descname">delete_blockpool</code><span class="sig-paren">(</span><em class="sig-param">pool_name</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.CephCluster.delete_blockpool" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete a ceph RBD pool - not the default one - from the cluster</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>pool_name</strong> (<em>str</em>) – the name of the RBD pool to delete</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cluster.CephCluster.delete_filesystem">
<code class="sig-name descname">delete_filesystem</code><span class="sig-paren">(</span><em class="sig-param">fs_name='ocs-storagecluster-cephfilesystem'</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.CephCluster.delete_filesystem" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete the ceph filesystem from the cluster, and wait until it recreated,
then create the subvolumegroup on it.</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cluster.CephCluster.get_admin_key">
<code class="sig-name descname">get_admin_key</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.CephCluster.get_admin_key" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>base64 encoded key</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>adminkey (str)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cluster.CephCluster.get_blockpool_status">
<code class="sig-name descname">get_blockpool_status</code><span class="sig-paren">(</span><em class="sig-param">poolname=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.CephCluster.get_blockpool_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Getting the RBD pool status</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fsname</strong> (<em>str</em>) – The RBD pool name</p>
</dd>
</dl>
<dl class="simple">
<dt>Returnes:</dt><dd><p>bool : true if the RBD pool status is <cite>Ready</cite>, false otherwise</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cluster.CephCluster.get_ceph_capacity">
<code class="sig-name descname">get_ceph_capacity</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.CephCluster.get_ceph_capacity" title="Permalink to this definition">¶</a></dt>
<dd><p>The function gets the total mount of storage capacity of the ocs cluster.
the calculation is &lt;total bytes&gt; / &lt;replica number&gt;
it will not take into account the current used capacity.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Total storage capacity in GiB (GiB is for development environment)</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cluster.CephCluster.get_ceph_cluster_iops">
<code class="sig-name descname">get_ceph_cluster_iops</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.CephCluster.get_ceph_cluster_iops" title="Permalink to this definition">¶</a></dt>
<dd><p>The function gets the IOPS from the ocs cluster</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Total IOPS in the cluster</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cluster.CephCluster.get_ceph_default_replica">
<code class="sig-name descname">get_ceph_default_replica</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.CephCluster.get_ceph_default_replica" title="Permalink to this definition">¶</a></dt>
<dd><p>The function return the default replica count in the system,
taken from ‘ceph status’. in case no parameter found, return ‘0’.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the default replica count - 0 if not found.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cluster.CephCluster.get_ceph_free_capacity">
<code class="sig-name descname">get_ceph_free_capacity</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.CephCluster.get_ceph_free_capacity" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to calculate the free capacity of a cluster</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The free capacity of a cluster (in GB)</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cluster.CephCluster.get_ceph_health">
<code class="sig-name descname">get_ceph_health</code><span class="sig-paren">(</span><em class="sig-param">detail=False</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.CephCluster.get_ceph_health" title="Permalink to this definition">¶</a></dt>
<dd><p>Exec <cite>ceph health</cite> cmd on tools pod and return the status of the ceph
cluster.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>detail</strong> (<em>bool</em>) – If True the ‘ceph health detail’ is executed</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Output of the ceph health command.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cluster.CephCluster.get_ceph_status">
<code class="sig-name descname">get_ceph_status</code><span class="sig-paren">(</span><em class="sig-param">format=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.CephCluster.get_ceph_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Exec <cite>ceph status</cite> cmd on tools pod and return its output.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>format</strong> (<em>str</em>) – Format of the output (e.g. json-pretty, json, plain)</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Output of the ceph status command.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cluster.CephCluster.get_cephfilesystem_status">
<code class="sig-name descname">get_cephfilesystem_status</code><span class="sig-paren">(</span><em class="sig-param">fsname=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.CephCluster.get_cephfilesystem_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Getting the ceph filesystem status</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fsname</strong> (<em>str</em>) – The filesystem name</p>
</dd>
</dl>
<dl class="simple">
<dt>Returnes:</dt><dd><p>bool : true if the filesystem status is <cite>Ready</cite>, false otherwise</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cluster.CephCluster.get_cluster_throughput">
<code class="sig-name descname">get_cluster_throughput</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.CephCluster.get_cluster_throughput" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to get the throughput of ocs cluster</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The write throughput of the cluster in MiB/s</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cluster.CephCluster.get_iops_percentage">
<code class="sig-name descname">get_iops_percentage</code><span class="sig-paren">(</span><em class="sig-param">osd_size=2</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.CephCluster.get_iops_percentage" title="Permalink to this definition">¶</a></dt>
<dd><p>The function calculates the IOPS percentage
of the cluster depending on number of osds in the cluster</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>osd_size</strong> (<em>int</em>) – Size of 1 OSD in Ti</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>IOPS percentage of the OCS cluster</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cluster.CephCluster.get_mons_from_cluster">
<code class="sig-name descname">get_mons_from_cluster</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.CephCluster.get_mons_from_cluster" title="Permalink to this definition">¶</a></dt>
<dd><p>Getting the list of mons from the cluster</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Returns the mons from the cluster</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>available_mon (list)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cluster.CephCluster.get_rebalance_status">
<code class="sig-name descname">get_rebalance_status</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.CephCluster.get_rebalance_status" title="Permalink to this definition">¶</a></dt>
<dd><p>This function gets the rebalance status</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True if rebalance is completed, False otherwise</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cluster.CephCluster.get_throughput_percentage">
<code class="sig-name descname">get_throughput_percentage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.CephCluster.get_throughput_percentage" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to get throughput percentage of the ocs cluster</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Throughput percentage of the cluster</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cluster.CephCluster.get_user_key">
<code class="sig-name descname">get_user_key</code><span class="sig-paren">(</span><em class="sig-param">user</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.CephCluster.get_user_key" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>user</strong> (<em>str</em>) – ceph username ex: client.user1</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>base64 encoded user key</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>key (str)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cluster.CephCluster.is_health_ok">
<code class="sig-name descname">is_health_ok</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.CephCluster.is_health_ok" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True if “HEALTH_OK” else False</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cluster.CephCluster.mcg_obj">
<em class="property">property </em><code class="sig-name descname">mcg_obj</code><a class="headerlink" href="#ocs_ci.ocs.cluster.CephCluster.mcg_obj" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cluster.CephCluster.mds_change_count">
<code class="sig-name descname">mds_change_count</code><span class="sig-paren">(</span><em class="sig-param">new_count</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.CephCluster.mds_change_count" title="Permalink to this definition">¶</a></dt>
<dd><p>Change mds count in the cluster</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>new_count</strong> (<em>int</em>) – Absolute number of active mdss required</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cluster.CephCluster.mds_health_check">
<code class="sig-name descname">mds_health_check</code><span class="sig-paren">(</span><em class="sig-param">count</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.CephCluster.mds_health_check" title="Permalink to this definition">¶</a></dt>
<dd><p>MDS health check based on pod count</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>count</strong> (<em>int</em>) – number of pods expected</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>MDACountException</strong> – if pod count doesn’t match</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cluster.CephCluster.mon_change_count">
<code class="sig-name descname">mon_change_count</code><span class="sig-paren">(</span><em class="sig-param">new_count</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.CephCluster.mon_change_count" title="Permalink to this definition">¶</a></dt>
<dd><p>Change mon count in the cluster</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>new_count</strong> (<em>int</em>) – Absolute number of mons required</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cluster.CephCluster.mon_health_check">
<code class="sig-name descname">mon_health_check</code><span class="sig-paren">(</span><em class="sig-param">count</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.CephCluster.mon_health_check" title="Permalink to this definition">¶</a></dt>
<dd><p>Mon health check based on pod count</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>count</strong> (<em>int</em>) – Expected number of mon pods</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="#ocs_ci.ocs.exceptions.MonCountException" title="ocs_ci.ocs.exceptions.MonCountException"><strong>MonCountException</strong></a> – if mon pod count doesn’t match</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<em class="property">property </em><code class="sig-name descname">namespace</code></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cluster.CephCluster.noobaa_health_check">
<code class="sig-name descname">noobaa_health_check</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.CephCluster.noobaa_health_check" title="Permalink to this definition">¶</a></dt>
<dd><p>Check Noobaa health</p>
</dd></dl>

<dl class="method">
<dt>
<em class="property">property </em><code class="sig-name descname">pods</code></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cluster.CephCluster.remove_mon_from_cluster">
<code class="sig-name descname">remove_mon_from_cluster</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.CephCluster.remove_mon_from_cluster" title="Permalink to this definition">¶</a></dt>
<dd><p>Removing the mon pod from deployment</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True if removal of mon is successful, False otherwise</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>remove_mon(bool)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cluster.CephCluster.scan_cluster">
<code class="sig-name descname">scan_cluster</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.CephCluster.scan_cluster" title="Permalink to this definition">¶</a></dt>
<dd><p>Get accurate info on current state of pods</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cluster.CephCluster.set_noout">
<code class="sig-name descname">set_noout</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.CephCluster.set_noout" title="Permalink to this definition">¶</a></dt>
<dd><p>Set noout flag for maintainance</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cluster.CephCluster.set_pgs">
<code class="sig-name descname">set_pgs</code><span class="sig-paren">(</span><em class="sig-param">poolname</em>, <em class="sig-param">pgs</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.CephCluster.set_pgs" title="Permalink to this definition">¶</a></dt>
<dd><p>Setting up the PG / PGP / PG_MIN number of a pool
if the pg_num_min is not setting to the pg_num number, the autoscale will
set automaticlly the pg_num to 32 (incase you try to set pg_num &gt; 32)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>poolname</strong> (<em>str</em>) – the pool name that need to be modify</p></li>
<li><p><strong>pgs</strong> (<em>int</em>) – new number of PG’s</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cluster.CephCluster.set_port">
<em class="property">static </em><code class="sig-name descname">set_port</code><span class="sig-paren">(</span><em class="sig-param">pod</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.CephCluster.set_port" title="Permalink to this definition">¶</a></dt>
<dd><p>Set port attribute on pod.
port attribute for mon is required for secrets and this attrib
is not a member for original pod class.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>pod</strong> (<a class="reference internal" href="ocs_ci.ocs.resources.html#ocs_ci.ocs.resources.pod.Pod" title="ocs_ci.ocs.resources.pod.Pod"><em>Pod</em></a>) – Pod object without ‘port’ attribute</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A modified pod object with ‘port’ attribute set</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pod(<a class="reference internal" href="ocs_ci.ocs.resources.html#ocs_ci.ocs.resources.pod.Pod" title="ocs_ci.ocs.resources.pod.Pod">Pod</a>)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cluster.CephCluster.set_target_ratio">
<code class="sig-name descname">set_target_ratio</code><span class="sig-paren">(</span><em class="sig-param">poolname</em>, <em class="sig-param">ratio</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.CephCluster.set_target_ratio" title="Permalink to this definition">¶</a></dt>
<dd><p>Setting the target_size_ratio of a ceph pool</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>poolname</strong> (<em>str</em>) – the pool name</p></li>
<li><p><strong>ratio</strong> (<em>float</em>) – the new ratio to set</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cluster.CephCluster.time_taken_to_complete_rebalance">
<code class="sig-name descname">time_taken_to_complete_rebalance</code><span class="sig-paren">(</span><em class="sig-param">timeout=600</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.CephCluster.time_taken_to_complete_rebalance" title="Permalink to this definition">¶</a></dt>
<dd><p>This function calculates the time taken to complete
rebalance</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>timeout</strong> (<em>int</em>) – Time to wait for the completion of rebalance</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Time taken in minutes for the completion of rebalance</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cluster.CephCluster.unset_noout">
<code class="sig-name descname">unset_noout</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.CephCluster.unset_noout" title="Permalink to this definition">¶</a></dt>
<dd><p>unset noout flag for peering</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cluster.CephCluster.wait_for_noobaa_health_ok">
<code class="sig-name descname">wait_for_noobaa_health_ok</code><span class="sig-paren">(</span><em class="sig-param">tries=60</em>, <em class="sig-param">delay=5</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.CephCluster.wait_for_noobaa_health_ok" title="Permalink to this definition">¶</a></dt>
<dd><p>Wait for Noobaa health to be OK</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cluster.CephCluster.wait_for_rebalance">
<code class="sig-name descname">wait_for_rebalance</code><span class="sig-paren">(</span><em class="sig-param">timeout=600</em>, <em class="sig-param">repeat=3</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.CephCluster.wait_for_rebalance" title="Permalink to this definition">¶</a></dt>
<dd><p>Wait for re-balance to complete</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>timeout</strong> (<em>int</em>) – Time to wait for the completion of re-balance</p></li>
<li><p><strong>repeat</strong> (<em>int</em>) – How many times to repeat the check to make sure, it’s
really completed.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if re-balance completed, False otherwise</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="ocs_ci.ocs.cluster.CephClusterExternal">
<em class="property">class </em><code class="sig-prename descclassname">ocs_ci.ocs.cluster.</code><code class="sig-name descname">CephClusterExternal</code><a class="headerlink" href="#ocs_ci.ocs.cluster.CephClusterExternal" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ocs_ci.ocs.cluster.CephCluster" title="ocs_ci.ocs.cluster.CephCluster"><code class="xref py py-class docutils literal notranslate"><span class="pre">ocs_ci.ocs.cluster.CephCluster</span></code></a></p>
<p>Handle all external ceph cluster related functionalities
Assumption: Cephcluster Kind resource exists</p>
<dl class="method">
<dt id="ocs_ci.ocs.cluster.CephClusterExternal.cluster_health_check">
<code class="sig-name descname">cluster_health_check</code><span class="sig-paren">(</span><em class="sig-param">timeout=300</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.CephClusterExternal.cluster_health_check" title="Permalink to this definition">¶</a></dt>
<dd><p>This would be a comprehensive cluster health check
which includes checking pods, external ceph cluster health.
raise exceptions.CephHealthException(“Cluster health is NOT OK”)</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cluster.CephClusterExternal.cluster_name">
<em class="property">property </em><code class="sig-name descname">cluster_name</code><a class="headerlink" href="#ocs_ci.ocs.cluster.CephClusterExternal.cluster_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cluster.CephClusterExternal.namespace">
<em class="property">property </em><code class="sig-name descname">namespace</code><a class="headerlink" href="#ocs_ci.ocs.cluster.CephClusterExternal.namespace" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cluster.CephClusterExternal.validate_pvc">
<code class="sig-name descname">validate_pvc</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.CephClusterExternal.validate_pvc" title="Permalink to this definition">¶</a></dt>
<dd><p>Check whether all PVCs are in bound state</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cluster.CephClusterExternal.wait_for_cluster_cr">
<code class="sig-name descname">wait_for_cluster_cr</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.CephClusterExternal.wait_for_cluster_cr" title="Permalink to this definition">¶</a></dt>
<dd><p>we have to wait for cluster cr to appear else
it leads to list index out of range error</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cluster.CephClusterExternal.wait_for_nooba_cr">
<code class="sig-name descname">wait_for_nooba_cr</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.CephClusterExternal.wait_for_nooba_cr" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="ocs_ci.ocs.cluster.CephHealthMonitor">
<em class="property">class </em><code class="sig-prename descclassname">ocs_ci.ocs.cluster.</code><code class="sig-name descname">CephHealthMonitor</code><span class="sig-paren">(</span><em class="sig-param">ceph_cluster</em>, <em class="sig-param">sleep=5</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.CephHealthMonitor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">threading.Thread</span></code></p>
<p>Context manager class for monitoring ceph health status of CephCluster.
If CephCluster will get to HEALTH_ERROR state it will save the ceph status
to health_error_status variable and will stop monitoring.</p>
<dl class="method">
<dt id="ocs_ci.ocs.cluster.CephHealthMonitor.log_error_status">
<code class="sig-name descname">log_error_status</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.CephHealthMonitor.log_error_status" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cluster.CephHealthMonitor.run">
<code class="sig-name descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.CephHealthMonitor.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Method representing the thread’s activity.</p>
<p>You may override this method in a subclass. The standard run() method
invokes the callable object passed to the object’s constructor as the
target argument, if any, with sequential and keyword arguments taken
from the args and kwargs arguments, respectively.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="ocs_ci.ocs.cluster.LVM">
<em class="property">class </em><code class="sig-prename descclassname">ocs_ci.ocs.cluster.</code><code class="sig-name descname">LVM</code><span class="sig-paren">(</span><em class="sig-param">fstrim=False</em>, <em class="sig-param">fail_on_thin_pool_not_empty=False</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.LVM" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>class for lvm cluster</p>
<dl class="method">
<dt id="ocs_ci.ocs.cluster.LVM.check_for_alert">
<code class="sig-name descname">check_for_alert</code><span class="sig-paren">(</span><em class="sig-param">alert_name</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.LVM.check_for_alert" title="Permalink to this definition">¶</a></dt>
<dd><p>Check to see if a given alert is available</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>alert_name</strong> (<em>str</em>) – Alert name</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if alert is available else False</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cluster.LVM.cluster_ip">
<code class="sig-name descname">cluster_ip</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.LVM.cluster_ip" title="Permalink to this definition">¶</a></dt>
<dd><p>Get cluster ip address for ssh connections, sets self.ip</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cluster.LVM.compare_percent_data_from_pvc">
<code class="sig-name descname">compare_percent_data_from_pvc</code><span class="sig-paren">(</span><em class="sig-param">pvc_obj</em>, <em class="sig-param">data_size</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.LVM.compare_percent_data_from_pvc" title="Permalink to this definition">¶</a></dt>
<dd><p>Compare data percentage from data send to lv data measure in lvs
:param pvc_obj: pvc or snaphost or restored pvc
:type pvc_obj: PVC, OCS
:param data_size: the expected data to have on the pvc
:type data_size: float</p>
<dl class="simple">
<dt>Raise:</dt><dd><p>(exception): LvDataPercentSizeWrong</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cluster.LVM.compare_thin_pool_data_percent">
<code class="sig-name descname">compare_thin_pool_data_percent</code><span class="sig-paren">(</span><em class="sig-param">data_percent</em>, <em class="sig-param">sampler=True</em>, <em class="sig-param">timeout=10</em>, <em class="sig-param">wait=1</em>, <em class="sig-param">fail=True</em>, <em class="sig-param">diff_allowed=0.5</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.LVM.compare_thin_pool_data_percent" title="Permalink to this definition">¶</a></dt>
<dd><p>Check thin pool data percent against data_percent
:param data_percent: The expected data percent
:type data_percent: float
:param sampler: use sampler for compare
:type sampler: bool
:param timeout: the time the sampler should run
:type timeout: int
:param wait: wait between sampling
:type wait: int
:param fail: if to fail the test or just give warning
:type fail: bool
:param diff_allowed: The difference allowed between expected and real data percentage
:type diff_allowed: float</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cluster.LVM.create_ssh_object">
<code class="sig-name descname">create_ssh_object</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.LVM.create_ssh_object" title="Permalink to this definition">¶</a></dt>
<dd><p>Get ssh object ready, sets self.node_ssh</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cluster.LVM.exec_cmd_on_cluster_node">
<code class="sig-name descname">exec_cmd_on_cluster_node</code><span class="sig-paren">(</span><em class="sig-param">cmd</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.LVM.exec_cmd_on_cluster_node" title="Permalink to this definition">¶</a></dt>
<dd><p>Exec cmd on SNO node with ssh
:param cmd: command to send to server
:type cmd: str</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>(str) output from server.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cluster.LVM.fstrim">
<code class="sig-name descname">fstrim</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.LVM.fstrim" title="Permalink to this definition">¶</a></dt>
<dd><p>perform fstrim on all disks</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cluster.LVM.get_and_parse_lvs">
<code class="sig-name descname">get_and_parse_lvs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.LVM.get_and_parse_lvs" title="Permalink to this definition">¶</a></dt>
<dd><p>get “lvs –reportformat json” from server and parse some data, sets self.lv_data</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cluster.LVM.get_and_parse_pvs">
<code class="sig-name descname">get_and_parse_pvs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.LVM.get_and_parse_pvs" title="Permalink to this definition">¶</a></dt>
<dd><p>get “pvs –reportformat json” from server and parse some data, sets self.pv_data</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cluster.LVM.get_and_parse_vgs">
<code class="sig-name descname">get_and_parse_vgs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.LVM.get_and_parse_vgs" title="Permalink to this definition">¶</a></dt>
<dd><p>get “vgs –reportformat json” from server and parse some data, sets self.vg_data</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cluster.LVM.get_lv_data_percent_of_pvc">
<code class="sig-name descname">get_lv_data_percent_of_pvc</code><span class="sig-paren">(</span><em class="sig-param">pvc_obj</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.LVM.get_lv_data_percent_of_pvc" title="Permalink to this definition">¶</a></dt>
<dd><p>Get lv data percent by pvc obj
:param pvc_obj: pvc, snapshot or restored pvc obj
:type pvc_obj: PVC,OCS</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>data percent of lv under pvc</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>(str)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cluster.LVM.get_lv_name_from_pvc">
<code class="sig-name descname">get_lv_name_from_pvc</code><span class="sig-paren">(</span><em class="sig-param">pvc_obj</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.LVM.get_lv_name_from_pvc" title="Permalink to this definition">¶</a></dt>
<dd><p>Get lv name by pvc obj
:param pvc_obj: pvc, snapshot or restored pvc obj
:type pvc_obj: PVC,OCS</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>lv name under pvc</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>(str)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cluster.LVM.get_lv_name_from_snapshot">
<em class="property">static </em><code class="sig-name descname">get_lv_name_from_snapshot</code><span class="sig-paren">(</span><em class="sig-param">snap_obj</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.LVM.get_lv_name_from_snapshot" title="Permalink to this definition">¶</a></dt>
<dd><p>Get lv name by snapshot obj
:param snap_obj: snapshot to find lv name
:type snap_obj: OCS</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>lv name</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>(str)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cluster.LVM.get_lv_size_of_pvc">
<code class="sig-name descname">get_lv_size_of_pvc</code><span class="sig-paren">(</span><em class="sig-param">pvc_obj</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.LVM.get_lv_size_of_pvc" title="Permalink to this definition">¶</a></dt>
<dd><p>Get lv size by pvc obj
:param pvc_obj: pvc, snapshot or restored pvc obj
:type pvc_obj: PVC,OCS</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>size of lv under pvc</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>(str)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cluster.LVM.get_lvm_thin_pool">
<code class="sig-name descname">get_lvm_thin_pool</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.LVM.get_lvm_thin_pool" title="Permalink to this definition">¶</a></dt>
<dd><p>get thinpool name.
:returns: (str) thinpool name</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cluster.LVM.get_lvm_thin_pool_config_overprovision_ratio">
<code class="sig-name descname">get_lvm_thin_pool_config_overprovision_ratio</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.LVM.get_lvm_thin_pool_config_overprovision_ratio" title="Permalink to this definition">¶</a></dt>
<dd><p>Get overprovisionRatio from lvmcluster
:returns: (int) overprovisionRatio</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cluster.LVM.get_lvm_thin_pool_config_size_percent">
<code class="sig-name descname">get_lvm_thin_pool_config_size_percent</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.LVM.get_lvm_thin_pool_config_size_percent" title="Permalink to this definition">¶</a></dt>
<dd><p>get sizePercent from lvmcluster
:returns: (int) sizePercent</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cluster.LVM.get_lvm_version">
<code class="sig-name descname">get_lvm_version</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.LVM.get_lvm_version" title="Permalink to this definition">¶</a></dt>
<dd><p>Get redhat-operators version (4.10, 4.11)
:returns: (str) lvmo version</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cluster.LVM.get_lvmcluster">
<code class="sig-name descname">get_lvmcluster</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.LVM.get_lvmcluster" title="Permalink to this definition">¶</a></dt>
<dd><p>Get OCP object of lvm cluster and sets self.lvmcluster</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cluster.LVM.get_thin_pool1_data_percent">
<code class="sig-name descname">get_thin_pool1_data_percent</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.LVM.get_thin_pool1_data_percent" title="Permalink to this definition">¶</a></dt>
<dd><p>Get thin-pool-1 data percent
:returns: (str) of the data percent</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cluster.LVM.get_thin_pool1_size">
<code class="sig-name descname">get_thin_pool1_size</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.LVM.get_thin_pool1_size" title="Permalink to this definition">¶</a></dt>
<dd><p>gets thin-pool size
:returns: (str) thin pool size</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cluster.LVM.get_thin_pool_metadata">
<code class="sig-name descname">get_thin_pool_metadata</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.LVM.get_thin_pool_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Get thin pool metdata percent
:returns: (str) metadata percent</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cluster.LVM.get_thin_provisioning_alerts">
<code class="sig-name descname">get_thin_provisioning_alerts</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.LVM.get_thin_provisioning_alerts" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the list of alerts that active in the cluster</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>alrets name</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cluster.LVM.get_vg_free">
<code class="sig-name descname">get_vg_free</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.LVM.get_vg_free" title="Permalink to this definition">¶</a></dt>
<dd><p>gets vg free
:returns: (str) vg_free</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cluster.LVM.get_vg_size">
<code class="sig-name descname">get_vg_size</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.LVM.get_vg_size" title="Permalink to this definition">¶</a></dt>
<dd><p>gets vgs size
:returns: (str) vg_size</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cluster.LVM.init_prom">
<code class="sig-name descname">init_prom</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.LVM.init_prom" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cluster.LVM.parse_topolvm_metrics">
<code class="sig-name descname">parse_topolvm_metrics</code><span class="sig-paren">(</span><em class="sig-param">metrics</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.LVM.parse_topolvm_metrics" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the name and value of topolvm metrics</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>metric_name</strong> (<em>list</em>) – metrics name to be paesed</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>topolvm metrics by: names: value</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cluster.LVM.validate_metrics_vs_operating_system_stats">
<code class="sig-name descname">validate_metrics_vs_operating_system_stats</code><span class="sig-paren">(</span><em class="sig-param">metric</em>, <em class="sig-param">expected_os_value</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.LVM.validate_metrics_vs_operating_system_stats" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate metrics vs operating system stats</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>metric</strong> (<em>str</em>) – tololvm metric name</p></li>
<li><p><strong>expected_os_value</strong> (<em>str</em>) – linux “lvs” equivalent value</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if metric equals expected_os_value, False otherwise</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.cluster.calculate_compression_ratio">
<code class="sig-prename descclassname">ocs_ci.ocs.cluster.</code><code class="sig-name descname">calculate_compression_ratio</code><span class="sig-paren">(</span><em class="sig-param">pool_name</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.calculate_compression_ratio" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculating the compression of data on RBD pool</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>pool_name</strong> (<em>str</em>) – the name of the pool to calculate the ratio on</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the compression ratio in percentage</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.cluster.change_ceph_backfillfull_ratio">
<code class="sig-prename descclassname">ocs_ci.ocs.cluster.</code><code class="sig-name descname">change_ceph_backfillfull_ratio</code><span class="sig-paren">(</span><em class="sig-param">backfillfull_ratio</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.change_ceph_backfillfull_ratio" title="Permalink to this definition">¶</a></dt>
<dd><p>Change Ceph Backfillfull Ratio</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>backfillfull_ratio</strong> (<em>int</em>) – backfillfull_ratio</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.cluster.change_ceph_full_ratio">
<code class="sig-prename descclassname">ocs_ci.ocs.cluster.</code><code class="sig-name descname">change_ceph_full_ratio</code><span class="sig-paren">(</span><em class="sig-param">full_ratio</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.change_ceph_full_ratio" title="Permalink to this definition">¶</a></dt>
<dd><p>Change Ceph full_ratio</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>full_ratio</strong> (<em>int</em>) – backfillfull_ratio</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.cluster.check_ceph_health_after_add_capacity">
<code class="sig-prename descclassname">ocs_ci.ocs.cluster.</code><code class="sig-name descname">check_ceph_health_after_add_capacity</code><span class="sig-paren">(</span><em class="sig-param">ceph_health_tries=80</em>, <em class="sig-param">ceph_rebalance_timeout=1800</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.check_ceph_health_after_add_capacity" title="Permalink to this definition">¶</a></dt>
<dd><p>Check Ceph health after adding capacity to the cluster</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ceph_health_tries</strong> (<em>int</em>) – The number of tries to wait for the Ceph health to be OK.</p></li>
<li><p><strong>ceph_rebalance_timeout</strong> (<em>int</em>) – The time to wait for the Ceph cluster rebalanced.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.cluster.check_ceph_osd_tree">
<code class="sig-prename descclassname">ocs_ci.ocs.cluster.</code><code class="sig-name descname">check_ceph_osd_tree</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.check_ceph_osd_tree" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks whether an OSD tree is created/modified correctly.
It is a summary of the previous functions: ‘check_osd_tree_1az_vmware’,
‘check_osd_tree_3az_cloud’, ‘check_osd_tree_1az_cloud’.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True, if the ceph osd tree is formed correctly. Else False</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.cluster.check_ceph_osd_tree_after_node_replacement">
<code class="sig-prename descclassname">ocs_ci.ocs.cluster.</code><code class="sig-name descname">check_ceph_osd_tree_after_node_replacement</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.check_ceph_osd_tree_after_node_replacement" title="Permalink to this definition">¶</a></dt>
<dd><p>Check the ceph osd tree after the process of node replacement.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True if the ceph osd tree formation is correct,
and all the OSD’s are up. Else False</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.cluster.check_clusters">
<code class="sig-prename descclassname">ocs_ci.ocs.cluster.</code><code class="sig-name descname">check_clusters</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.check_clusters" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if lvm or cephcluster is installed and set config.RUN values for conditions</p>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.cluster.check_osd_tree_1az_cloud">
<code class="sig-prename descclassname">ocs_ci.ocs.cluster.</code><code class="sig-name descname">check_osd_tree_1az_cloud</code><span class="sig-paren">(</span><em class="sig-param">osd_tree</em>, <em class="sig-param">number_of_osds</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.check_osd_tree_1az_cloud" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks whether an OSD tree is created/modified correctly. This can be used as a verification step for
deployment and cluster expansion tests.
This function is specifically for ocs cluster created on 1 AZ config</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>osd_tree</strong> (<em>dict</em>) – Dictionary of the values which represent ‘osd tree’.</p></li>
<li><p><strong>number_of_osds</strong> (<em>int</em>) – total number of osds in the cluster</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True, if the ceph osd tree is formed correctly. Else False</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Boolean</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.cluster.check_osd_tree_1az_vmware">
<code class="sig-prename descclassname">ocs_ci.ocs.cluster.</code><code class="sig-name descname">check_osd_tree_1az_vmware</code><span class="sig-paren">(</span><em class="sig-param">osd_tree</em>, <em class="sig-param">number_of_osds</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.check_osd_tree_1az_vmware" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks whether an OSD tree is created/modified correctly. This can be used as a verification step for
deployment and cluster expansion tests.
This function is specifically for ocs cluster created on 1 AZ VMWare setup</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>osd_tree</strong> (<em>dict</em>) – Dictionary of the values which represent ‘osd tree’.</p></li>
<li><p><strong>number_of_osds</strong> (<em>int</em>) – total number of osds in the cluster</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True, if the ceph osd tree is formed correctly. Else False</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.cluster.check_osd_tree_1az_vmware_flex">
<code class="sig-prename descclassname">ocs_ci.ocs.cluster.</code><code class="sig-name descname">check_osd_tree_1az_vmware_flex</code><span class="sig-paren">(</span><em class="sig-param">osd_tree</em>, <em class="sig-param">number_of_osds</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.check_osd_tree_1az_vmware_flex" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks whether an OSD tree is created/modified correctly. This can be used as a verification step for
deployment and cluster expansion tests.
This function is specifically for ocs cluster created on 1 AZ VMWare LSO setup</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>osd_tree</strong> (<em>dict</em>) – Dictionary of the values which represent ‘osd tree’.</p></li>
<li><p><strong>number_of_osds</strong> (<em>int</em>) – total number of osds in the cluster</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True, if the ceph osd tree is formed correctly. Else False</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.cluster.check_osd_tree_3az_cloud">
<code class="sig-prename descclassname">ocs_ci.ocs.cluster.</code><code class="sig-name descname">check_osd_tree_3az_cloud</code><span class="sig-paren">(</span><em class="sig-param">osd_tree</em>, <em class="sig-param">number_of_osds</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.check_osd_tree_3az_cloud" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks whether an OSD tree is created/modified correctly. This can be used as a verification step for
deployment and cluster expansion tests.
This function is specifically for ocs cluster created on 3 AZ config</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>osd_tree</strong> (<em>dict</em>) – Dictionary of the values which represent ‘osd tree’.</p></li>
<li><p><strong>number_of_osds</strong> (<em>int</em>) – total number of osds in the cluster</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True, if the ceph osd tree is formed correctly. Else False</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Boolean</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.cluster.check_osds_in_hosts_are_up">
<code class="sig-prename descclassname">ocs_ci.ocs.cluster.</code><code class="sig-name descname">check_osds_in_hosts_are_up</code><span class="sig-paren">(</span><em class="sig-param">osd_tree</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.check_osds_in_hosts_are_up" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if all the OSD’s in status ‘up’</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>osd_tree</strong> (<em>dict</em>) – The ceph osd tree</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if all the OSD’s in status ‘up’. Else False</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.cluster.check_osds_in_hosts_osd_tree">
<code class="sig-prename descclassname">ocs_ci.ocs.cluster.</code><code class="sig-name descname">check_osds_in_hosts_osd_tree</code><span class="sig-paren">(</span><em class="sig-param">hosts</em>, <em class="sig-param">osd_tree</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.check_osds_in_hosts_osd_tree" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if osds are formed correctly after cluster expansion</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>hosts</strong> (<em>list</em>) – List of hosts</p></li>
<li><p><strong>osd_tree</strong> (<em>str</em>) – ‘ceph osd tree’ command output</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if osd tree formatted correctly</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.cluster.check_pool_compression_replica_ceph_level">
<code class="sig-prename descclassname">ocs_ci.ocs.cluster.</code><code class="sig-name descname">check_pool_compression_replica_ceph_level</code><span class="sig-paren">(</span><em class="sig-param">pool_name</em>, <em class="sig-param">compression</em>, <em class="sig-param">replica</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.check_pool_compression_replica_ceph_level" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate compression and replica values in ceph level</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pool_name</strong> (<em>str</em>) – The pool name to check values.</p></li>
<li><p><strong>compression</strong> (<em>bool</em>) – True for compression otherwise False.</p></li>
<li><p><strong>replica</strong> (<em>int</em>) – size of pool to verify.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(bool) True if replica and compression are validated. Otherwise raise Exception.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.cluster.count_cluster_osd">
<code class="sig-prename descclassname">ocs_ci.ocs.cluster.</code><code class="sig-name descname">count_cluster_osd</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.count_cluster_osd" title="Permalink to this definition">¶</a></dt>
<dd><p>The function returns the number of cluster OSDs</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>number of OSD pods in current cluster</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>osd_count (int)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.cluster.get_all_pgid">
<code class="sig-prename descclassname">ocs_ci.ocs.cluster.</code><code class="sig-name descname">get_all_pgid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.get_all_pgid" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all the pgid’s listed in pgs_brief dump</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>List of all the pgid’s in pgs_brief dump</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.cluster.get_balancer_eval">
<code class="sig-prename descclassname">ocs_ci.ocs.cluster.</code><code class="sig-name descname">get_balancer_eval</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.get_balancer_eval" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to get ceph pg balancer eval value</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Eval output of pg balancer</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>eval_out (float)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.cluster.get_byte_used_by_pool">
<code class="sig-prename descclassname">ocs_ci.ocs.cluster.</code><code class="sig-name descname">get_byte_used_by_pool</code><span class="sig-paren">(</span><em class="sig-param">pool_name</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.get_byte_used_by_pool" title="Permalink to this definition">¶</a></dt>
<dd><p>Check byte_used value for specific pool</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>pool_name</strong> (<em>str</em>) – name of the pool to check replica</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The amount of byte stored from pool.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>integer</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.cluster.get_ceph_df_detail">
<code class="sig-prename descclassname">ocs_ci.ocs.cluster.</code><code class="sig-name descname">get_ceph_df_detail</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.get_ceph_df_detail" title="Permalink to this definition">¶</a></dt>
<dd><p>Get ceph osd df detail</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>‘ceph df details’ command output</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.cluster.get_ceph_pool_property">
<code class="sig-prename descclassname">ocs_ci.ocs.cluster.</code><code class="sig-name descname">get_ceph_pool_property</code><span class="sig-paren">(</span><em class="sig-param">pool_name</em>, <em class="sig-param">prop</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.get_ceph_pool_property" title="Permalink to this definition">¶</a></dt>
<dd><p>The fuction preform ceph osd pool get on a specific property.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pool_name</strong> (<em>str</em>) – The pool name to get the property.</p></li>
<li><p><strong>prop</strong> (<em>str</em>) – The property to get for example size, compression_mode etc.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(str) property value as string and incase there is no property None.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.cluster.get_child_nodes_osd_tree">
<code class="sig-prename descclassname">ocs_ci.ocs.cluster.</code><code class="sig-name descname">get_child_nodes_osd_tree</code><span class="sig-paren">(</span><em class="sig-param">node_id</em>, <em class="sig-param">osd_tree</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.get_child_nodes_osd_tree" title="Permalink to this definition">¶</a></dt>
<dd><p>This function finds the children of a node from the ‘ceph osd tree’ and returns them as list</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>node_id</strong> (<em>int</em>) – the id of the node for which the children to be retrieved</p></li>
<li><p><strong>osd_tree</strong> (<em>dict</em>) – dictionary containing the output of ‘ceph osd tree’</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>of ‘children’ of a given node_id</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.cluster.get_lvm_full_version">
<code class="sig-prename descclassname">ocs_ci.ocs.cluster.</code><code class="sig-name descname">get_lvm_full_version</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.get_lvm_full_version" title="Permalink to this definition">¶</a></dt>
<dd><p>Get redhat-operators version (4.11-xxx)
:returns: (str) lvmo full version</p>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.cluster.get_mds_cache_memory_limit">
<code class="sig-prename descclassname">ocs_ci.ocs.cluster.</code><code class="sig-name descname">get_mds_cache_memory_limit</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.get_mds_cache_memory_limit" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the default value of mds</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Value of mds cache memory limit</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>int</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference internal" href="#ocs_ci.ocs.exceptions.UnexpectedBehaviour" title="ocs_ci.ocs.exceptions.UnexpectedBehaviour"><strong>UnexpectedBehaviour</strong></a> – if MDS-a and MDS-b cache memory limit doesn’t match</p></li>
<li><p><strong>IOError if fail to read configuration</strong> – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.cluster.get_mds_standby_replay_info">
<code class="sig-prename descclassname">ocs_ci.ocs.cluster.</code><code class="sig-name descname">get_mds_standby_replay_info</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.get_mds_standby_replay_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Return information about the Ceph MDS standby replay node.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A dictionary containing information about the standby-replay MDS daemon,
including the following keys in case of success, otherwise None.
- “node_ip”: The IP address of the node running the standby-replay MDS daemon.
- “mds_daemon”: The name of the MDS daemon.
- “standby_replay_pod”: The name of the standby replay pod.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.cluster.get_mon_config_value">
<code class="sig-prename descclassname">ocs_ci.ocs.cluster.</code><code class="sig-name descname">get_mon_config_value</code><span class="sig-paren">(</span><em class="sig-param">key</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.get_mon_config_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the default value of a specific ceph monitor config</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>key</strong> (<em>str</em>) – Configuration key. Ex: mon_max_pg_per_osd</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Ceph monitor configuration value</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>any</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.cluster.get_nodes_osd_tree">
<code class="sig-prename descclassname">ocs_ci.ocs.cluster.</code><code class="sig-name descname">get_nodes_osd_tree</code><span class="sig-paren">(</span><em class="sig-param">osd_tree</em>, <em class="sig-param">node_ids=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.get_nodes_osd_tree" title="Permalink to this definition">¶</a></dt>
<dd><p>This function gets the ‘ceph osd tree’ nodes, which have the ids ‘node_ids’, and returns
them as a list. If ‘node_ids’ are not passed, it returns all the ‘ceph osd tree’ nodes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>osd_tree</strong> (<em>dict</em>) – Dictionary containing the output of ‘ceph osd tree’</p></li>
<li><p><strong>node_ids</strong> (<em>list</em>) – The ids of the nodes for which we want to retrieve</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>The nodes of a given ‘node_ids’. If ‘node_ids’ are not passed,</dt><dd><p>it returns all the nodes.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.cluster.get_osd_dump">
<code class="sig-prename descclassname">ocs_ci.ocs.cluster.</code><code class="sig-name descname">get_osd_dump</code><span class="sig-paren">(</span><em class="sig-param">pool_name</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.get_osd_dump" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the osd dump part of a given pool</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>pool_name</strong> (<em>str</em>) – ceph pool name</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>pool information from osd dump</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.cluster.get_osd_pg_log_dups_tracked">
<code class="sig-prename descclassname">ocs_ci.ocs.cluster.</code><code class="sig-name descname">get_osd_pg_log_dups_tracked</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.get_osd_pg_log_dups_tracked" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the default tracked number of osd pg log dups</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Number of default tracked osd pg log dups</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.cluster.get_osd_pods_memory_sum">
<code class="sig-prename descclassname">ocs_ci.ocs.cluster.</code><code class="sig-name descname">get_osd_pods_memory_sum</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.get_osd_pods_memory_sum" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the sum of memory of all OSD pods. This is used to determine the size
needed for a PVC so when IO will be running over it the OSDs cache will be filled</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The sum of the OSD pods memory in GB</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.cluster.get_osd_utilization">
<code class="sig-prename descclassname">ocs_ci.ocs.cluster.</code><code class="sig-name descname">get_osd_utilization</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.get_osd_utilization" title="Permalink to this definition">¶</a></dt>
<dd><p>Get osd utilization value</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Dict of osd name and its used value
i.e {‘osd.1’: 15.276289408185841, ‘osd.0’: 15.276289408185841, ‘osd.2’: 15.276289408185841}</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>osd_filled (dict)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.cluster.get_percent_used_capacity">
<code class="sig-prename descclassname">ocs_ci.ocs.cluster.</code><code class="sig-name descname">get_percent_used_capacity</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.get_percent_used_capacity" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to calculate the percentage of used capacity in a cluster</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The percentage of the used capacity in the cluster</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.cluster.get_pg_balancer_status">
<code class="sig-prename descclassname">ocs_ci.ocs.cluster.</code><code class="sig-name descname">get_pg_balancer_status</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.get_pg_balancer_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to check pg_balancer active and mode is upmap</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True if active and upmap is set else False</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.cluster.get_pgs_brief_dump">
<code class="sig-prename descclassname">ocs_ci.ocs.cluster.</code><code class="sig-name descname">get_pgs_brief_dump</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.get_pgs_brief_dump" title="Permalink to this definition">¶</a></dt>
<dd><p>Get pgs_brief dump from ceph pg dump</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>pgs_brief dump output</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.cluster.get_pgs_per_osd">
<code class="sig-prename descclassname">ocs_ci.ocs.cluster.</code><code class="sig-name descname">get_pgs_per_osd</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.get_pgs_per_osd" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to get ceph pg count per OSD</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Dict of osd name and its used value
i.e {‘osd.0’: 136, ‘osd.2’: 136, ‘osd.1’: 136}</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>osd_dict (dict)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.cluster.get_pool_num">
<code class="sig-prename descclassname">ocs_ci.ocs.cluster.</code><code class="sig-name descname">get_pool_num</code><span class="sig-paren">(</span><em class="sig-param">pool_name</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.get_pool_num" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the pool number of a given pool (e.g., ocs-storagecluster-cephblockpool -&gt; 2)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>pool_name</strong> (<em>str</em>) – ceph pool name</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>pool number</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.cluster.get_specific_pool_pgid">
<code class="sig-prename descclassname">ocs_ci.ocs.cluster.</code><code class="sig-name descname">get_specific_pool_pgid</code><span class="sig-paren">(</span><em class="sig-param">pool_name</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.get_specific_pool_pgid" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all the pgid’s of a specific pool</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>pool_name</strong> (<em>str</em>) – ceph pool name</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of all the pgid’s of a given pool</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.cluster.is_flexible_scaling_enabled">
<code class="sig-prename descclassname">ocs_ci.ocs.cluster.</code><code class="sig-name descname">is_flexible_scaling_enabled</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.is_flexible_scaling_enabled" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if flexible scaling is enabled</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True if failure domain is “host” and flexible scaling is enabled. False otherwise</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.cluster.is_lso_cluster">
<code class="sig-prename descclassname">ocs_ci.ocs.cluster.</code><code class="sig-name descname">is_lso_cluster</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.is_lso_cluster" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if the cluster is an lso cluster</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True, if the cluster is an lso cluster. False, otherwise</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.cluster.is_managed_service_cluster">
<code class="sig-prename descclassname">ocs_ci.ocs.cluster.</code><code class="sig-name descname">is_managed_service_cluster</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.is_managed_service_cluster" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if the cluster is a managed service cluster</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True, if the cluster is a managed service cluster. False, otherwise</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.cluster.is_ms_consumer_cluster">
<code class="sig-prename descclassname">ocs_ci.ocs.cluster.</code><code class="sig-name descname">is_ms_consumer_cluster</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.is_ms_consumer_cluster" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if the cluster is a managed service consumer cluster</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True, if the cluster is a managed service consumer cluster. False, otherwise</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.cluster.is_ms_provider_cluster">
<code class="sig-prename descclassname">ocs_ci.ocs.cluster.</code><code class="sig-name descname">is_ms_provider_cluster</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.is_ms_provider_cluster" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if the cluster is a managed service provider cluster</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True, if the cluster is a managed service provider cluster. False, otherwise</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.cluster.is_vsphere_ipi_cluster">
<code class="sig-prename descclassname">ocs_ci.ocs.cluster.</code><code class="sig-name descname">is_vsphere_ipi_cluster</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.is_vsphere_ipi_cluster" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if the cluster is a vSphere IPI cluster</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True, if the cluster is a vSphere IPI cluster. False, otherwise</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.cluster.silence_ceph_osd_crash_warning">
<code class="sig-prename descclassname">ocs_ci.ocs.cluster.</code><code class="sig-name descname">silence_ceph_osd_crash_warning</code><span class="sig-paren">(</span><em class="sig-param">osd_pod_name</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.silence_ceph_osd_crash_warning" title="Permalink to this definition">¶</a></dt>
<dd><p>Silence the osd crash warning of a specific osd pod</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>osd_pod_name</strong> (<em>str</em>) – The name of the osd pod which we need to
silence the crash warning</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if it found the osd crash with name ‘osd_pod_name’. False otherwise</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.cluster.validate_claim_name_match_pvc">
<code class="sig-prename descclassname">ocs_ci.ocs.cluster.</code><code class="sig-name descname">validate_claim_name_match_pvc</code><span class="sig-paren">(</span><em class="sig-param">pvc_names</em>, <em class="sig-param">validated_pods=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.validate_claim_name_match_pvc" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate if OCS pods have mathching PVC and Claim name</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pvc_names</strong> (<em>list</em>) – names of all PVCs you would like to validate with.</p></li>
<li><p><strong>validated_pods</strong> (<em>set</em>) – set to store already validated pods - if you pass
an empty set from outside of this function, it will speed up the next
validation when re-tries, as it will skip those already validated
pods added to this set by previous run of this function.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>AssertionError</strong> – when the claim name does not match one of PVC name.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.cluster.validate_cluster_on_pvc">
<code class="sig-prename descclassname">ocs_ci.ocs.cluster.</code><code class="sig-name descname">validate_cluster_on_pvc</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.validate_cluster_on_pvc" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate creation of PVCs for MON and OSD pods.
Also validate that those PVCs are attached to the OCS pods</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>AssertionError</strong> – If PVC is not mounted on one or more OCS pods</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.cluster.validate_compression">
<code class="sig-prename descclassname">ocs_ci.ocs.cluster.</code><code class="sig-name descname">validate_compression</code><span class="sig-paren">(</span><em class="sig-param">pool_name</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.validate_compression" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if data was compressed</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>pool_name</strong> (<em>str</em>) – name of the pool to check replica</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if compression works. False if not</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.cluster.validate_existence_of_blocking_pdb">
<code class="sig-prename descclassname">ocs_ci.ocs.cluster.</code><code class="sig-name descname">validate_existence_of_blocking_pdb</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.validate_existence_of_blocking_pdb" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate creation of PDBs for OSDs.
1. Versions lesser than ocs-operator.v4.6.2 have PDBs for each osds
2. Versions greater than or equal to ocs-operator.v4.6.2-233.ci have
PDBs collectively for osds like rook-ceph-osd</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True if blocking PDBs are present, false otherwise</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.cluster.validate_ocs_pods_on_pvc">
<code class="sig-prename descclassname">ocs_ci.ocs.cluster.</code><code class="sig-name descname">validate_ocs_pods_on_pvc</code><span class="sig-paren">(</span><em class="sig-param">pods</em>, <em class="sig-param">pvc_names</em>, <em class="sig-param">pvc_label=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.validate_ocs_pods_on_pvc" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate if ocs pod has PVC. This validation checking if there is the pvc
like: rook-ceph-mon-a for the pod rook-ceph-mon-a-56f67f5968-6j4px.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pods</strong> (<em>list</em>) – OCS pod names</p></li>
<li><p><strong>pvc_names</strong> (<em>list</em>) – names of all PVCs</p></li>
<li><p><strong>pvc_label</strong> (<em>str</em>) – label of PVC name for the pod. If None, we will verify
pvc based on name of pod.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>AssertionError</strong> – If no PVC found for one of the pod</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.cluster.validate_osd_utilization">
<code class="sig-prename descclassname">ocs_ci.ocs.cluster.</code><code class="sig-name descname">validate_osd_utilization</code><span class="sig-paren">(</span><em class="sig-param">osd_used=80</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.validate_osd_utilization" title="Permalink to this definition">¶</a></dt>
<dd><p>Validates osd utilization matches osd_used value</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>osd_used</strong> (<em>int</em>) – osd used value</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>True if all osd values is equal or greater to osd_used.</dt><dd><p>False Otherwise.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.cluster.validate_pdb_creation">
<code class="sig-prename descclassname">ocs_ci.ocs.cluster.</code><code class="sig-name descname">validate_pdb_creation</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.validate_pdb_creation" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate creation of PDBs for MON, MDS and OSD pods.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>AssertionError</strong> – If required PDBs were not created.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.cluster.validate_pg_balancer">
<code class="sig-prename descclassname">ocs_ci.ocs.cluster.</code><code class="sig-name descname">validate_pg_balancer</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.validate_pg_balancer" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate either data is equally distributed to OSDs</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True if avg PG’s per osd difference is &lt;=10 else False</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.cluster.validate_replica_data">
<code class="sig-prename descclassname">ocs_ci.ocs.cluster.</code><code class="sig-name descname">validate_replica_data</code><span class="sig-paren">(</span><em class="sig-param">pool_name</em>, <em class="sig-param">replica</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.validate_replica_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if data is replica 2 or 3</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>replica</strong> (<em>int</em>) – size of the replica(2,3)</p></li>
<li><p><strong>pool_name</strong> (<em>str</em>) – name of the pool to check replica</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if replicated data size is meet rep config and False if dont</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Bool</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.cluster.wait_for_silence_ceph_osd_crash_warning">
<code class="sig-prename descclassname">ocs_ci.ocs.cluster.</code><code class="sig-name descname">wait_for_silence_ceph_osd_crash_warning</code><span class="sig-paren">(</span><em class="sig-param">osd_pod_name</em>, <em class="sig-param">timeout=900</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster.wait_for_silence_ceph_osd_crash_warning" title="Permalink to this definition">¶</a></dt>
<dd><p>Wait for ‘timeout’ seconds to check for the ceph osd crash warning,
and silence it.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>osd_pod_name</strong> (<em>str</em>) – The name of the osd pod which we need to
silence the crash warning</p></li>
<li><p><strong>timeout</strong> (<em>int</em>) – time in seconds to wait for silence the osd crash warning</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if it found the osd crash with name ‘osd_pod_name’. False otherwise</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-ocs_ci.ocs.cluster_load">
<span id="ocs-ci-ocs-cluster-load-module"></span><h2>ocs_ci.ocs.cluster_load module<a class="headerlink" href="#module-ocs_ci.ocs.cluster_load" title="Permalink to this headline">¶</a></h2>
<p>A module for cluster load related functionalities</p>
<dl class="class">
<dt id="ocs_ci.ocs.cluster_load.ClusterLoad">
<em class="property">class </em><code class="sig-prename descclassname">ocs_ci.ocs.cluster_load.</code><code class="sig-name descname">ClusterLoad</code><span class="sig-paren">(</span><em class="sig-param">project_factory=None</em>, <em class="sig-param">pvc_factory=None</em>, <em class="sig-param">sa_factory=None</em>, <em class="sig-param">pod_factory=None</em>, <em class="sig-param">target_percentage=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster_load.ClusterLoad" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A class for cluster load functionalities</p>
<dl class="method">
<dt id="ocs_ci.ocs.cluster_load.ClusterLoad.adjust_load_if_needed">
<code class="sig-name descname">adjust_load_if_needed</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster_load.ClusterLoad.adjust_load_if_needed" title="Permalink to this definition">¶</a></dt>
<dd><p>Dynamically adjust the IO load based on the cluster latency.
In case the latency goes beyond 250 ms, start deleting FIO pods.
Once latency drops back below 100 ms, re-create the FIO pods
to make sure that cluster load is around the target percentage</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cluster_load.ClusterLoad.calc_trim_metric_mean">
<code class="sig-name descname">calc_trim_metric_mean</code><span class="sig-paren">(</span><em class="sig-param">metric</em>, <em class="sig-param">samples=5</em>, <em class="sig-param">mute_logs=False</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster_load.ClusterLoad.calc_trim_metric_mean" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the trimmed mean of a given metric</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>metric</strong> (<em>str</em>) – The metric to calculate the average result for</p></li>
<li><p><strong>samples</strong> (<em>int</em>) – The number of samples to take</p></li>
<li><p><strong>mute_logs</strong> (<em>bool</em>) – True for muting the logs, False otherwise</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The average result for the metric</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cluster_load.ClusterLoad.decrease_load">
<code class="sig-name descname">decrease_load</code><span class="sig-paren">(</span><em class="sig-param">wait=True</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster_load.ClusterLoad.decrease_load" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete DeploymentConfig with its pods and the PVC. Then, wait for the
IO to be stopped</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>wait</strong> (<em>bool</em>) – True for waiting for IO to drop after the deletion
of the FIO pod, False otherwise</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cluster_load.ClusterLoad.get_query">
<code class="sig-name descname">get_query</code><span class="sig-paren">(</span><em class="sig-param">query</em>, <em class="sig-param">mute_logs=False</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster_load.ClusterLoad.get_query" title="Permalink to this definition">¶</a></dt>
<dd><p>Get query from Prometheus and parse it</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>query</strong> (<em>str</em>) – Query to be done</p></li>
<li><p><strong>mute_logs</strong> (<em>bool</em>) – True for muting the logs, False otherwise</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the query result</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cluster_load.ClusterLoad.increase_load">
<code class="sig-name descname">increase_load</code><span class="sig-paren">(</span><em class="sig-param">rate</em>, <em class="sig-param">wait=True</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster_load.ClusterLoad.increase_load" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a PVC, a service account and a DeploymentConfig of FIO pod</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rate</strong> (<em>str</em>) – FIO ‘rate’ value (e.g. ‘20M’)</p></li>
<li><p><strong>wait</strong> (<em>bool</em>) – True for waiting for IO to kick in on the
newly created pod, False otherwise</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cluster_load.ClusterLoad.increase_load_and_print_data">
<code class="sig-name descname">increase_load_and_print_data</code><span class="sig-paren">(</span><em class="sig-param">rate</em>, <em class="sig-param">wait=True</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster_load.ClusterLoad.increase_load_and_print_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Increase load and print data</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rate</strong> (<em>str</em>) – FIO ‘rate’ value (e.g. ‘20M’)</p></li>
<li><p><strong>wait</strong> (<em>bool</em>) – True for waiting for IO to kick in on the
newly created pod, False otherwise</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cluster_load.ClusterLoad.print_metrics">
<code class="sig-name descname">print_metrics</code><span class="sig-paren">(</span><em class="sig-param">mute_logs=False</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster_load.ClusterLoad.print_metrics" title="Permalink to this definition">¶</a></dt>
<dd><p>Print metrics</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>mute_logs</strong> (<em>bool</em>) – True for muting the Prometheus logs, False otherwise</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cluster_load.ClusterLoad.reach_cluster_load_percentage">
<code class="sig-name descname">reach_cluster_load_percentage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster_load.ClusterLoad.reach_cluster_load_percentage" title="Permalink to this definition">¶</a></dt>
<dd><p>Reach the cluster limit and then drop to the given target percentage.
The number of pods needed for the desired target percentage is determined by
creating pods one by one, while examining the cluster latency. Once the latency
is greater than 250 ms and it is growing exponentially, it means that
the cluster limit has been reached.
Then, dropping to the target percentage by deleting all pods and re-creating
ones with smaller value of FIO ‘rate’ param.
This leaves the number of pods needed running IO for cluster load to
be around the desired percentage.</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cluster_load.ClusterLoad.reduce_load">
<code class="sig-name descname">reduce_load</code><span class="sig-paren">(</span><em class="sig-param">pause=True</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster_load.ClusterLoad.reduce_load" title="Permalink to this definition">¶</a></dt>
<dd><p>Pause the cluster load</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cluster_load.ClusterLoad.resume_load">
<code class="sig-name descname">resume_load</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster_load.ClusterLoad.resume_load" title="Permalink to this definition">¶</a></dt>
<dd><p>Resume the cluster load</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.cluster_load.wrap_msg">
<code class="sig-prename descclassname">ocs_ci.ocs.cluster_load.</code><code class="sig-name descname">wrap_msg</code><span class="sig-paren">(</span><em class="sig-param">msg</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cluster_load.wrap_msg" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrap a log message with ‘=’ marks.
Necessary for making cluster load background logging distinguishable</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>msg</strong> (<em>str</em>) – The log message to wrap</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The wrapped log message</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-ocs_ci.ocs.constants">
<span id="ocs-ci-ocs-constants-module"></span><h2>ocs_ci.ocs.constants module<a class="headerlink" href="#module-ocs_ci.ocs.constants" title="Permalink to this headline">¶</a></h2>
<p>Constants module.</p>
<p>This module contains any values that are widely used across the framework,
utilities, or tests that will predominantly remain unchanged.</p>
<p>In the event values here have to be changed it should be under careful review
and with consideration of the entire project.</p>
</div>
<div class="section" id="module-ocs_ci.ocs.cosbench">
<span id="ocs-ci-ocs-cosbench-module"></span><h2>ocs_ci.ocs.cosbench module<a class="headerlink" href="#module-ocs_ci.ocs.cosbench" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ocs_ci.ocs.cosbench.Cosbench">
<em class="property">class </em><code class="sig-prename descclassname">ocs_ci.ocs.cosbench.</code><code class="sig-name descname">Cosbench</code><a class="headerlink" href="#ocs_ci.ocs.cosbench.Cosbench" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Cosbench S3 benchmark tool</p>
<dl class="method">
<dt id="ocs_ci.ocs.cosbench.Cosbench.cleanup">
<code class="sig-name descname">cleanup</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cosbench.Cosbench.cleanup" title="Permalink to this definition">¶</a></dt>
<dd><p>Cosbench cleanup</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cosbench.Cosbench.cosbench_full">
<code class="sig-name descname">cosbench_full</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cosbench.Cosbench.cosbench_full" title="Permalink to this definition">¶</a></dt>
<dd><p>Run full Cosbench workload</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cosbench.Cosbench.generate_container_stage_config">
<em class="property">static </em><code class="sig-name descname">generate_container_stage_config</code><span class="sig-paren">(</span><em class="sig-param">selector</em>, <em class="sig-param">start_container</em>, <em class="sig-param">end_container</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cosbench.Cosbench.generate_container_stage_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates container config which creates buckets in bulk</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>selector</strong> (<em>str</em>) – The way object is accessed/selected. u=uniform, r=range, s=sequential.</p></li>
<li><p><strong>start_container</strong> (<em>int</em>) – Start of containers</p></li>
<li><p><strong>end_container</strong> (<em>int</em>) – End of containers</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Container and object configuration</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>(str)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cosbench.Cosbench.generate_stage_config">
<em class="property">static </em><code class="sig-name descname">generate_stage_config</code><span class="sig-paren">(</span><em class="sig-param">selector</em>, <em class="sig-param">start_container</em>, <em class="sig-param">end_container</em>, <em class="sig-param">start_objects</em>, <em class="sig-param">end_object</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cosbench.Cosbench.generate_stage_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates config which is used in stage creation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>selector</strong> (<em>str</em>) – The way object is accessed/selected. u=uniform, r=range, s=sequential.</p></li>
<li><p><strong>start_container</strong> (<em>int</em>) – Start of containers</p></li>
<li><p><strong>end_container</strong> (<em>int</em>) – End of containers</p></li>
<li><p><strong>start_objects</strong> (<em>int</em>) – Start of objects</p></li>
<li><p><strong>end_object</strong> (<em>int</em>) – End of objects</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Container and object configuration</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>(str)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cosbench.Cosbench.get_performance_result">
<code class="sig-name descname">get_performance_result</code><span class="sig-paren">(</span><em class="sig-param">workload_name</em>, <em class="sig-param">workload_id</em>, <em class="sig-param">size</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cosbench.Cosbench.get_performance_result" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cosbench.Cosbench.get_result_csv">
<code class="sig-name descname">get_result_csv</code><span class="sig-paren">(</span><em class="sig-param">workload_id</em>, <em class="sig-param">workload_name</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cosbench.Cosbench.get_result_csv" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets cosbench workload result csv</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>workload_id</strong> (<em>str</em>) – ID of cosbench workload</p></li>
<li><p><strong>workload_name</strong> (<em>str</em>) – Name of the workload</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Absolute path of the result csv</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cosbench.Cosbench.run_cleanup_workload">
<code class="sig-name descname">run_cleanup_workload</code><span class="sig-paren">(</span><em class="sig-param">prefix</em>, <em class="sig-param">containers</em>, <em class="sig-param">objects</em>, <em class="sig-param">start_container=None</em>, <em class="sig-param">start_object=None</em>, <em class="sig-param">sleep=15</em>, <em class="sig-param">timeout=300</em>, <em class="sig-param">validate=True</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cosbench.Cosbench.run_cleanup_workload" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes specific objects and containers in bulk.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>prefix</strong> (<em>str</em>) – Prefix of bucket name.</p></li>
<li><p><strong>containers</strong> (<em>int</em>) – Number of containers/buckets to be created.</p></li>
<li><p><strong>objects</strong> (<em>int</em>) – Number of objects to be created on each bucket.</p></li>
<li><p><strong>start_container</strong> (<em>int</em>) – Start of containers. Default: 1.</p></li>
<li><p><strong>start_object</strong> (<em>int</em>) – Start of objects. Default: 1.</p></li>
<li><p><strong>sleep</strong> (<em>int</em>) – Sleep in seconds.</p></li>
<li><p><strong>timeout</strong> (<em>int</em>) – Timeout in seconds.</p></li>
<li><p><strong>validate</strong> (<em>bool</em>) – Validates whether cleanup and dispose is completed.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Workload xml and its name</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Tuple[str, str]</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cosbench.Cosbench.run_init_workload">
<code class="sig-name descname">run_init_workload</code><span class="sig-paren">(</span><em class="sig-param">prefix</em>, <em class="sig-param">containers</em>, <em class="sig-param">objects</em>, <em class="sig-param">start_container=None</em>, <em class="sig-param">start_object=None</em>, <em class="sig-param">size=64</em>, <em class="sig-param">size_unit='KB'</em>, <em class="sig-param">sleep=15</em>, <em class="sig-param">timeout=300</em>, <em class="sig-param">validate=True</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cosbench.Cosbench.run_init_workload" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates specific containers and objects in bulk</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>prefix</strong> (<em>str</em>) – Prefix of bucket name.</p></li>
<li><p><strong>containers</strong> (<em>int</em>) – Number of containers/buckets to be created.</p></li>
<li><p><strong>objects</strong> (<em>int</em>) – Number of objects to be created on each bucket.</p></li>
<li><p><strong>start_container</strong> (<em>int</em>) – Start of containers. Default: 1.</p></li>
<li><p><strong>start_object</strong> (<em>int</em>) – Start of objects. Default: 1.</p></li>
<li><p><strong>size</strong> (<em>int</em>) – Size of each objects.</p></li>
<li><p><strong>size_unit</strong> (<em>str</em>) – Object size unit (B/KB/MB/GB)</p></li>
<li><p><strong>sleep</strong> (<em>int</em>) – Sleep in seconds.</p></li>
<li><p><strong>timeout</strong> (<em>int</em>) – Timeout in seconds.</p></li>
<li><p><strong>validate</strong> (<em>bool</em>) – Validates whether init and prepare is completed.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Workload xml and its name</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Tuple[str, str]</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cosbench.Cosbench.run_main_workload">
<code class="sig-name descname">run_main_workload</code><span class="sig-paren">(</span><em class="sig-param">operation_type</em>, <em class="sig-param">prefix</em>, <em class="sig-param">containers</em>, <em class="sig-param">objects</em>, <em class="sig-param">workers=4</em>, <em class="sig-param">selector='s'</em>, <em class="sig-param">start_container=None</em>, <em class="sig-param">start_object=None</em>, <em class="sig-param">size=64</em>, <em class="sig-param">size_unit='KB'</em>, <em class="sig-param">sleep=15</em>, <em class="sig-param">timeout=300</em>, <em class="sig-param">extend_objects=None</em>, <em class="sig-param">validate=True</em>, <em class="sig-param">result=True</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cosbench.Cosbench.run_main_workload" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates and runs main Cosbench workload.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>operation_type</strong> (<em>dict</em>) – Cosbench operation and its ratio.
Operation (str): Supported ops are read, write, list and delete.
Ratio (int): Percentage of each operation. Should add up to 100.</p></li>
<li><p><strong>workers</strong> (<em>int</em>) – Number of users to perform operations.</p></li>
<li><p><strong>containers</strong> (<em>int</em>) – Number of containers/buckets to be created.</p></li>
<li><p><strong>objects</strong> (<em>int</em>) – Number of objects to be created on each bucket.</p></li>
<li><p><strong>selector</strong> (<em>str</em>) – The way object is accessed/selected. u=uniform, r=range, s=sequential.</p></li>
<li><p><strong>prefix</strong> (<em>str</em>) – Prefix of bucket name.</p></li>
<li><p><strong>start_container</strong> (<em>int</em>) – Start of containers. Default: 1.</p></li>
<li><p><strong>start_object</strong> (<em>int</em>) – Start of objects. Default: 1.</p></li>
<li><p><strong>size</strong> (<em>int</em>) – Size of each objects.</p></li>
<li><p><strong>size_unit</strong> (<em>str</em>) – Object size unit (B/KB/MB/GB)</p></li>
<li><p><strong>sleep</strong> (<em>int</em>) – Sleep in seconds</p></li>
<li><p><strong>timeout</strong> (<em>int</em>) – Timeout in seconds</p></li>
<li><p><strong>validate</strong> (<em>bool</em>) – Validates whether each stage is completed</p></li>
<li><p><strong>extend_objects</strong> (<em>int</em>) – Extends the total number of objects to prevent overlap.
Use only for Write and Delete operations.</p></li>
<li><p><strong>result</strong> (<em>bool</em>) – Get performance results when running workload is completed.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Workload xml and its name</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Tuple[str, str]</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cosbench.Cosbench.setup_cosbench">
<code class="sig-name descname">setup_cosbench</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cosbench.Cosbench.setup_cosbench" title="Permalink to this definition">¶</a></dt>
<dd><p>Setups Cosbench namespace, configmap and pod</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cosbench.Cosbench.submit_workload">
<code class="sig-name descname">submit_workload</code><span class="sig-paren">(</span><em class="sig-param">workload_path</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cosbench.Cosbench.submit_workload" title="Permalink to this definition">¶</a></dt>
<dd><p>Submits Cosbench xml to initiate workload</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>workload_path</strong> (<em>str</em>) – Absolute path of xml to submit</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cosbench.Cosbench.validate_workload">
<code class="sig-name descname">validate_workload</code><span class="sig-paren">(</span><em class="sig-param">workload_id</em>, <em class="sig-param">workload_name</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cosbench.Cosbench.validate_workload" title="Permalink to this definition">¶</a></dt>
<dd><p>Validates each stage of cosbench workload</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>workload_id</strong> (<em>str</em>) – ID of cosbench workload</p></li>
<li><p><strong>workload_name</strong> (<em>str</em>) – Name of the workload</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="#ocs_ci.ocs.exceptions.UnexpectedBehaviour" title="ocs_ci.ocs.exceptions.UnexpectedBehaviour"><strong>UnexpectedBehaviour</strong></a> – When workload csv is incorrect/malformed.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.cosbench.Cosbench.wait_for_workload">
<code class="sig-name descname">wait_for_workload</code><span class="sig-paren">(</span><em class="sig-param">workload_id</em>, <em class="sig-param">sleep=1</em>, <em class="sig-param">timeout=60</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.cosbench.Cosbench.wait_for_workload" title="Permalink to this definition">¶</a></dt>
<dd><p>Waits for the cosbench workload to complete</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>workload_id</strong> (<em>str</em>) – ID of cosbench workload</p></li>
<li><p><strong>sleep</strong> – sleep in seconds</p></li>
<li><p><strong>timeout</strong> – timeout in seconds to check if mirroring</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Whether cosbench workload processed successfully</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-ocs_ci.ocs.couchbase">
<span id="ocs-ci-ocs-couchbase-module"></span><h2>ocs_ci.ocs.couchbase module<a class="headerlink" href="#module-ocs_ci.ocs.couchbase" title="Permalink to this headline">¶</a></h2>
<p>Couchbase workload class</p>
<dl class="class">
<dt id="ocs_ci.ocs.couchbase.CouchBase">
<em class="property">class </em><code class="sig-prename descclassname">ocs_ci.ocs.couchbase.</code><code class="sig-name descname">CouchBase</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.couchbase.CouchBase" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ocs_ci.ocs.pillowfight.PillowFight" title="ocs_ci.ocs.pillowfight.PillowFight"><code class="xref py py-class docutils literal notranslate"><span class="pre">ocs_ci.ocs.pillowfight.PillowFight</span></code></a></p>
<p>CouchBase workload operation</p>
<dl class="method">
<dt id="ocs_ci.ocs.couchbase.CouchBase.analyze_run">
<code class="sig-name descname">analyze_run</code><span class="sig-paren">(</span><em class="sig-param">skip_analyze=False</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.couchbase.CouchBase.analyze_run" title="Permalink to this definition">¶</a></dt>
<dd><p>Analyzing the workload run logs</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>skip_analyze</strong> (<em>bool</em>) – Option to skip logs analysis</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.couchbase.CouchBase.cleanup">
<code class="sig-name descname">cleanup</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.couchbase.CouchBase.cleanup" title="Permalink to this definition">¶</a></dt>
<dd><p>Cleaning up the resources created during Couchbase deployment</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.couchbase.CouchBase.couchbase_full">
<code class="sig-name descname">couchbase_full</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.couchbase.CouchBase.couchbase_full" title="Permalink to this definition">¶</a></dt>
<dd><p>Run full CouchBase workload</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.couchbase.CouchBase.couchbase_operatorgroup">
<code class="sig-name descname">couchbase_operatorgroup</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.couchbase.CouchBase.couchbase_operatorgroup" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates an operator group for Couchbase</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.couchbase.CouchBase.couchbase_subscription">
<code class="sig-name descname">couchbase_subscription</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.couchbase.CouchBase.couchbase_subscription" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates subscription for Couchbase operator</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.couchbase.CouchBase.create_cb_cluster">
<code class="sig-name descname">create_cb_cluster</code><span class="sig-paren">(</span><em class="sig-param">replicas=1</em>, <em class="sig-param">sc_name=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.couchbase.CouchBase.create_cb_cluster" title="Permalink to this definition">¶</a></dt>
<dd><p>Deploy a Couchbase server using Couchbase operator</p>
<p>Once the couchbase operator is running, we need to wait for the
worker pods to be up.  Once the Couchbase worker pods are up, pillowfight
task is started.</p>
<p>After the pillowfight task has finished, the log is collected and
analyzed.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>Exception</strong> – If pillowfight results indicate that a minimum performance
    level is not reached (1 second response time, less than 1000 ops
    per second)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.couchbase.CouchBase.create_cb_secrets">
<code class="sig-name descname">create_cb_secrets</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.couchbase.CouchBase.create_cb_secrets" title="Permalink to this definition">¶</a></dt>
<dd><p>”
Create secrets for running Couchbase workers</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.couchbase.CouchBase.create_data_buckets">
<code class="sig-name descname">create_data_buckets</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.couchbase.CouchBase.create_data_buckets" title="Permalink to this definition">¶</a></dt>
<dd><p>Create data buckets</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.couchbase.CouchBase.create_namespace">
<code class="sig-name descname">create_namespace</code><span class="sig-paren">(</span><em class="sig-param">namespace</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.couchbase.CouchBase.create_namespace" title="Permalink to this definition">¶</a></dt>
<dd><p>create namespace for couchbase</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>namespace</strong> (<em>str</em>) – Namespace for deploying couchbase pods</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.couchbase.CouchBase.get_couchbase_csv">
<code class="sig-name descname">get_couchbase_csv</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.couchbase.CouchBase.get_couchbase_csv" title="Permalink to this definition">¶</a></dt>
<dd><p>”
Get the Couchbase CSV object</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Couchbase CSV object</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="ocs_ci.ocs.resources.html#ocs_ci.ocs.resources.csv.CSV" title="ocs_ci.ocs.resources.csv.CSV">CSV</a></p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference internal" href="#ocs_ci.ocs.exceptions.CSVNotFound" title="ocs_ci.ocs.exceptions.CSVNotFound"><strong>CSVNotFound</strong></a> – In case no CSV found.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.couchbase.CouchBase.get_couchbase_nodes">
<code class="sig-name descname">get_couchbase_nodes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.couchbase.CouchBase.get_couchbase_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Get nodes that contain a couchbase app pod</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>List of nodes</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.couchbase.CouchBase.respin_couchbase_app_pod">
<code class="sig-name descname">respin_couchbase_app_pod</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.couchbase.CouchBase.respin_couchbase_app_pod" title="Permalink to this definition">¶</a></dt>
<dd><p>Respin the couchbase app pod</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>pod status</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.couchbase.CouchBase.run_workload">
<code class="sig-name descname">run_workload</code><span class="sig-paren">(</span><em class="sig-param">replicas</em>, <em class="sig-param">num_items=None</em>, <em class="sig-param">num_threads=None</em>, <em class="sig-param">num_of_cycles=None</em>, <em class="sig-param">run_in_bg=False</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.couchbase.CouchBase.run_workload" title="Permalink to this definition">¶</a></dt>
<dd><p>Running workload with pillow fight operator
:param replicas: Number of pods
:type replicas: int
:param num_items: Number of items to be loaded to the cluster
:type num_items: int
:param num_threads: Number of threads
:type num_threads: int
:param num_of_cycles: Specify the number of times the workload should cycle
:type num_of_cycles: int
:param run_in_bg: Optional run IOs in background
:type run_in_bg: bool</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.couchbase.CouchBase.wait_for_pillowfights_to_complete">
<code class="sig-name descname">wait_for_pillowfights_to_complete</code><span class="sig-paren">(</span><em class="sig-param">timeout=3600</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.couchbase.CouchBase.wait_for_pillowfights_to_complete" title="Permalink to this definition">¶</a></dt>
<dd><p>Wait for the pillowfight workload to complete</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-ocs_ci.ocs.defaults">
<span id="ocs-ci-ocs-defaults-module"></span><h2>ocs_ci.ocs.defaults module<a class="headerlink" href="#module-ocs_ci.ocs.defaults" title="Permalink to this headline">¶</a></h2>
<p>Defaults module. All the defaults used by OSCCI framework should
reside in this module.
PYTEST_DONT_REWRITE - avoid pytest to rewrite, keep this msg here please!</p>
</div>
<div class="section" id="module-ocs_ci.ocs.disruptive_operations">
<span id="ocs-ci-ocs-disruptive-operations-module"></span><h2>ocs_ci.ocs.disruptive_operations module<a class="headerlink" href="#module-ocs_ci.ocs.disruptive_operations" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="ocs_ci.ocs.disruptive_operations.get_ocs_operator_node_name">
<code class="sig-prename descclassname">ocs_ci.ocs.disruptive_operations.</code><code class="sig-name descname">get_ocs_operator_node_name</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.disruptive_operations.get_ocs_operator_node_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Getting node’s name that running ocs-operator pod</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>node’s name that running ocs-operator pod</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.disruptive_operations.osd_node_reboot">
<code class="sig-prename descclassname">ocs_ci.ocs.disruptive_operations.</code><code class="sig-name descname">osd_node_reboot</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.disruptive_operations.osd_node_reboot" title="Permalink to this definition">¶</a></dt>
<dd><p>Rebooting worker node that running OSD</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>AssertionError</strong> – in case the ceph-tools pod was not recovered</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.disruptive_operations.worker_node_shutdown">
<code class="sig-prename descclassname">ocs_ci.ocs.disruptive_operations.</code><code class="sig-name descname">worker_node_shutdown</code><span class="sig-paren">(</span><em class="sig-param">abrupt</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.disruptive_operations.worker_node_shutdown" title="Permalink to this definition">¶</a></dt>
<dd><p>Shutdown worker node that running ocs-operator pod</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>abrupt</strong> – (bool): True if abrupt shutdown, False for permanent shutdown</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>AssertionError</strong> – in case the ceph-tools pod was not recovered</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-ocs_ci.ocs.elasticsearch">
<span id="ocs-ci-ocs-elasticsearch-module"></span><h2>ocs_ci.ocs.elasticsearch module<a class="headerlink" href="#module-ocs_ci.ocs.elasticsearch" title="Permalink to this headline">¶</a></h2>
<p>Deploying an Elasticsearch server for collecting logs from benchmark-operator
(ripsaw) benchmarks.</p>
<p>Interface for the Performance ElasticSearch server</p>
<dl class="class">
<dt id="ocs_ci.ocs.elasticsearch.ElasticSearch">
<em class="property">class </em><code class="sig-prename descclassname">ocs_ci.ocs.elasticsearch.</code><code class="sig-name descname">ElasticSearch</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.elasticsearch.ElasticSearch" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>ElasticSearch Environment</p>
<dl class="method">
<dt id="ocs_ci.ocs.elasticsearch.ElasticSearch.cleanup">
<code class="sig-name descname">cleanup</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.elasticsearch.ElasticSearch.cleanup" title="Permalink to this definition">¶</a></dt>
<dd><p>Cleanup the environment from all Elasticsearch components.</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.elasticsearch.ElasticSearch.dumping_all_data">
<code class="sig-name descname">dumping_all_data</code><span class="sig-paren">(</span><em class="sig-param">target_path</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.elasticsearch.ElasticSearch.dumping_all_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Dump All data from the internal ES server to .tgz file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>target_path</strong> (<em>str</em>) – the path where the results file will be copy into</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>True if the dump operation succeed and return the results data to the host</dt><dd><p>otherwise False</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.elasticsearch.ElasticSearch.get_health">
<code class="sig-name descname">get_health</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.elasticsearch.ElasticSearch.get_health" title="Permalink to this definition">¶</a></dt>
<dd><p>This method return the health status of the Elasticsearch.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True if the status is green (OK) otherwise - False</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.elasticsearch.ElasticSearch.get_indices">
<code class="sig-name descname">get_indices</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.elasticsearch.ElasticSearch.get_indices" title="Permalink to this definition">¶</a></dt>
<dd><p>Getting list of all indices in the ES server - all created by the test,
the installation of the ES was without any indexes pre-installed.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>list of all indices defined in the ES server</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.elasticsearch.ElasticSearch.get_ip">
<code class="sig-name descname">get_ip</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.elasticsearch.ElasticSearch.get_ip" title="Permalink to this definition">¶</a></dt>
<dd><p>This function return the IP address of the Elasticsearch cluster.
this IP is to use inside the OCP cluster</p>
<dl class="simple">
<dt>Return</dt><dd><p>str : String that represent the Ip Address.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.elasticsearch.ElasticSearch.get_password">
<code class="sig-name descname">get_password</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.elasticsearch.ElasticSearch.get_password" title="Permalink to this definition">¶</a></dt>
<dd><p>This method return the password used to connect the Elasticsearch.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The password as text</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.elasticsearch.ElasticSearch.get_port">
<code class="sig-name descname">get_port</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.elasticsearch.ElasticSearch.get_port" title="Permalink to this definition">¶</a></dt>
<dd><p>This function return the port of the Elasticsearch cluster.</p>
<dl class="simple">
<dt>Return</dt><dd><p>str : String that represent the port.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.elasticsearch.elasticsearch_load">
<code class="sig-prename descclassname">ocs_ci.ocs.elasticsearch.</code><code class="sig-name descname">elasticsearch_load</code><span class="sig-paren">(</span><em class="sig-param">connection</em>, <em class="sig-param">target_path</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.elasticsearch.elasticsearch_load" title="Permalink to this definition">¶</a></dt>
<dd><p>Load all data from target_path/results into an elasticsearch (es) server.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>connection</strong> (<em>obj</em>) – an elasticsearch connection object</p></li>
<li><p><strong>target_path</strong> (<em>str</em>) – the path where data was dumped into</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if loading data succeed, False otherwise</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-ocs_ci.ocs.exceptions">
<span id="ocs-ci-ocs-exceptions-module"></span><h2>ocs_ci.ocs.exceptions module<a class="headerlink" href="#module-ocs_ci.ocs.exceptions" title="Permalink to this headline">¶</a></h2>
<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.ACMClusterDeployException">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">ACMClusterDeployException</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.ACMClusterDeployException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.ACMClusterDestroyException">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">ACMClusterDestroyException</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.ACMClusterDestroyException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.ACMClusterImportException">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">ACMClusterImportException</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.ACMClusterImportException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.AlertingError">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">AlertingError</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.AlertingError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.ArchitectureNotSupported">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">ArchitectureNotSupported</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.ArchitectureNotSupported" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.AuthError">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">AuthError</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.AuthError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.BenchmarkTestFailed">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">BenchmarkTestFailed</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.BenchmarkTestFailed" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.CPUNotSufficientException">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">CPUNotSufficientException</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.CPUNotSufficientException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.CSVNotFound">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">CSVNotFound</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.CSVNotFound" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.CephHealthException">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">CephHealthException</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.CephHealthException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.CephToolBoxNotFoundException">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">CephToolBoxNotFoundException</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.CephToolBoxNotFoundException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.ChannelNotFound">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">ChannelNotFound</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.ChannelNotFound" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.ClassCreationException">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">ClassCreationException</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.ClassCreationException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.ClientDownloadError">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">ClientDownloadError</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.ClientDownloadError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.ClusterNotFoundException">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">ClusterNotFoundException</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.ClusterNotFoundException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.CommandFailed">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">CommandFailed</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.CommandFailed" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.ConfigurationError">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">ConfigurationError</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.ConfigurationError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.ConnectivityFail">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">ConnectivityFail</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.ConnectivityFail" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.CredReqSecretNotFound">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">CredReqSecretNotFound</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.CredReqSecretNotFound" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.DRPrimaryNotFoundException">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">DRPrimaryNotFoundException</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.DRPrimaryNotFoundException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.DeploymentPlatformNotSupported">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">DeploymentPlatformNotSupported</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.DeploymentPlatformNotSupported" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.ElasticSearchNotDeployed">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">ElasticSearchNotDeployed</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.ElasticSearchNotDeployed" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.ExternalClusterCephSSHAuthDetailsMissing">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">ExternalClusterCephSSHAuthDetailsMissing</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.ExternalClusterCephSSHAuthDetailsMissing" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.ExternalClusterCephfsMissing">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">ExternalClusterCephfsMissing</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.ExternalClusterCephfsMissing" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.ExternalClusterDetailsException">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">ExternalClusterDetailsException</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.ExternalClusterDetailsException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.ExternalClusterExporterRunFailed">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">ExternalClusterExporterRunFailed</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.ExternalClusterExporterRunFailed" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.ExternalClusterNodeRoleNotFound">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">ExternalClusterNodeRoleNotFound</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.ExternalClusterNodeRoleNotFound" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.ExternalClusterObjectStoreUserCreationFailed">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">ExternalClusterObjectStoreUserCreationFailed</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.ExternalClusterObjectStoreUserCreationFailed" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.ExternalClusterRGWAdminOpsUserException">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">ExternalClusterRGWAdminOpsUserException</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.ExternalClusterRGWAdminOpsUserException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.ExternalClusterRGWEndPointMissing">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">ExternalClusterRGWEndPointMissing</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.ExternalClusterRGWEndPointMissing" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.ExternalClusterRGWEndPointPortMissing">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">ExternalClusterRGWEndPointPortMissing</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.ExternalClusterRGWEndPointPortMissing" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.FailedToAddNodeException">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">FailedToAddNodeException</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.FailedToAddNodeException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.FailedToDeleteInstance">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">FailedToDeleteInstance</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.FailedToDeleteInstance" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.FailedToRemoveNodeException">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">FailedToRemoveNodeException</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.FailedToRemoveNodeException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.FipsNotInstalledException">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">FipsNotInstalledException</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.FipsNotInstalledException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.FlexyDataNotFound">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">FlexyDataNotFound</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.FlexyDataNotFound" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.HPCSDeploymentError">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">HPCSDeploymentError</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.HPCSDeploymentError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.IPAMAssignUpdateFailed">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">IPAMAssignUpdateFailed</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.IPAMAssignUpdateFailed" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.IPAMReleaseUpdateFailed">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">IPAMReleaseUpdateFailed</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.IPAMReleaseUpdateFailed" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.ImageIsNotDeletedOrNotFound">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">ImageIsNotDeletedOrNotFound</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.ImageIsNotDeletedOrNotFound" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.IncorrectUiOptionRequested">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">IncorrectUiOptionRequested</code><span class="sig-paren">(</span><em class="sig-param">text</em>, <em class="sig-param">func=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.exceptions.IncorrectUiOptionRequested" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.InteractivePromptException">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">InteractivePromptException</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.InteractivePromptException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.InvalidStatusCode">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">InvalidStatusCode</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.InvalidStatusCode" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.KMIPDeploymentError">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">KMIPDeploymentError</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.KMIPDeploymentError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.KMIPOperationError">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">KMIPOperationError</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.KMIPOperationError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.KMSConnectionDetailsError">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">KMSConnectionDetailsError</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.KMSConnectionDetailsError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.KMSNotSupported">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">KMSNotSupported</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.KMSNotSupported" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.KMSResourceCleaneupError">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">KMSResourceCleaneupError</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.KMSResourceCleaneupError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.KMSTokenError">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">KMSTokenError</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.KMSTokenError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.LVMOHealthException">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">LVMOHealthException</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.LVMOHealthException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.LvDataPercentSizeWrong">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">LvDataPercentSizeWrong</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.LvDataPercentSizeWrong" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.LvSizeWrong">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">LvSizeWrong</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.LvSizeWrong" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.LvThinUtilNotChanged">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">LvThinUtilNotChanged</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.LvThinUtilNotChanged" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.MDRDeploymentException">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">MDRDeploymentException</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.MDRDeploymentException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.MDSCountException">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">MDSCountException</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.MDSCountException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.ManagedServiceAddonDeploymentError">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">ManagedServiceAddonDeploymentError</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.ManagedServiceAddonDeploymentError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.ManagedServiceSecurityGroupNotFound">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">ManagedServiceSecurityGroupNotFound</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.ManagedServiceSecurityGroupNotFound" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.Md5CheckFailed">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">Md5CheckFailed</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.Md5CheckFailed" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.MemoryNotSufficientException">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">MemoryNotSufficientException</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.MemoryNotSufficientException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.MissingRequiredConfigKeyError">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">MissingRequiredConfigKeyError</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.MissingRequiredConfigKeyError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.MonCountException">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">MonCountException</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.MonCountException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.NoBucketPolicyResponse">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">NoBucketPolicyResponse</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.NoBucketPolicyResponse" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.NoInstallPlanForApproveFoundException">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">NoInstallPlanForApproveFoundException</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.NoInstallPlanForApproveFoundException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.NodeHasNoAttachedVolume">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">NodeHasNoAttachedVolume</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.NodeHasNoAttachedVolume" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.NodeNotFoundError">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">NodeNotFoundError</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.NodeNotFoundError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.NonUpgradedImagesFoundError">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">NonUpgradedImagesFoundError</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.NonUpgradedImagesFoundError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.NoobaaCliChecksumFailedException">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">NoobaaCliChecksumFailedException</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.NoobaaCliChecksumFailedException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.NoobaaConditionException">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">NoobaaConditionException</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.NoobaaConditionException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.NoobaaHealthException">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">NoobaaHealthException</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.NoobaaHealthException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.NotAllNodesCreated">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">NotAllNodesCreated</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.NotAllNodesCreated" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.NotAllPodsHaveSameImagesError">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">NotAllPodsHaveSameImagesError</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.NotAllPodsHaveSameImagesError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.NotFoundError">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">NotFoundError</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.NotFoundError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.NotSupportedFunctionError">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">NotSupportedFunctionError</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.NotSupportedFunctionError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.NotSupportedProxyConfiguration">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">NotSupportedProxyConfiguration</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.NotSupportedProxyConfiguration" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.OCSWorkerScaleFailed">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">OCSWorkerScaleFailed</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.OCSWorkerScaleFailed" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.OSDScaleFailed">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">OSDScaleFailed</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.OSDScaleFailed" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.ObjectsStillBeingDeletedException">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">ObjectsStillBeingDeletedException</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.ObjectsStillBeingDeletedException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.OpenshiftConsoleSuiteNotDefined">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">OpenshiftConsoleSuiteNotDefined</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.OpenshiftConsoleSuiteNotDefined" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.PSIVolumeCreationFailed">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">PSIVolumeCreationFailed</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.PSIVolumeCreationFailed" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.PSIVolumeDeletionFailed">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">PSIVolumeDeletionFailed</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.PSIVolumeDeletionFailed" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.PSIVolumeNotInExpectedState">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">PSIVolumeNotInExpectedState</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.PSIVolumeNotInExpectedState" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.PVCNotCreated">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">PVCNotCreated</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.PVCNotCreated" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.PVNotSufficientException">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">PVNotSufficientException</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.PVNotSufficientException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.PageNotLoaded">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">PageNotLoaded</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.PageNotLoaded" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.PassThroughEnabledDeviceNotFound">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">PassThroughEnabledDeviceNotFound</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.PassThroughEnabledDeviceNotFound" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.PendingCSRException">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">PendingCSRException</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.PendingCSRException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.PerformanceException">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">PerformanceException</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.PerformanceException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.PodNotCreated">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">PodNotCreated</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.PodNotCreated" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.PoolCephValueNotMatch">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">PoolCephValueNotMatch</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.PoolCephValueNotMatch" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.PoolCompressionWrong">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">PoolCompressionWrong</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.PoolCompressionWrong" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.PoolDataNotErased">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">PoolDataNotErased</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.PoolDataNotErased" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.PoolDidNotReachReadyState">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">PoolDidNotReachReadyState</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.PoolDidNotReachReadyState" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.PoolNotCompressedAsExpected">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">PoolNotCompressedAsExpected</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.PoolNotCompressedAsExpected" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.PoolNotDeleted">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">PoolNotDeleted</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.PoolNotDeleted" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.PoolNotDeletedFromUI">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">PoolNotDeletedFromUI</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.PoolNotDeletedFromUI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.PoolNotFound">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">PoolNotFound</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.PoolNotFound" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.PoolNotReplicatedAsNeeded">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">PoolNotReplicatedAsNeeded</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.PoolNotReplicatedAsNeeded" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.PoolSizeWrong">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">PoolSizeWrong</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.PoolSizeWrong" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.PoolStateIsUnknow">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">PoolStateIsUnknow</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.PoolStateIsUnknow" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.PvcNotDeleted">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">PvcNotDeleted</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.PvcNotDeleted" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.RBDSideCarContainerException">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">RBDSideCarContainerException</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.RBDSideCarContainerException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.RDMDiskNotFound">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">RDMDiskNotFound</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.RDMDiskNotFound" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.RDRDeploymentException">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">RDRDeploymentException</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.RDRDeploymentException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.ROSAProdAdminLoginFailedException">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">ROSAProdAdminLoginFailedException</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.ROSAProdAdminLoginFailedException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.RebootEventNotFoundException">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">RebootEventNotFoundException</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.RebootEventNotFoundException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.ResourceLeftoversException">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">ResourceLeftoversException</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.ResourceLeftoversException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.ResourceNameNotSpecifiedException">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">ResourceNameNotSpecifiedException</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.ResourceNameNotSpecifiedException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.ResourceNotDeleted">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">ResourceNotDeleted</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.ResourceNotDeleted" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.ResourceNotFoundError">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">ResourceNotFoundError</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.ResourceNotFoundError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.ResourcePoolNotFound">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">ResourcePoolNotFound</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.ResourcePoolNotFound" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.ResourceWrongStatusException">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">ResourceWrongStatusException</code><span class="sig-paren">(</span><em class="sig-param">resource_or_name</em>, <em class="sig-param">describe_out=None</em>, <em class="sig-param">column=None</em>, <em class="sig-param">expected=None</em>, <em class="sig-param">got=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.exceptions.ResourceWrongStatusException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.ReturnedEmptyResponseException">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">ReturnedEmptyResponseException</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.ReturnedEmptyResponseException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.RhcosImageNotFound">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">RhcosImageNotFound</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.RhcosImageNotFound" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.SameNamePrefixClusterAlreadyExistsException">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">SameNamePrefixClusterAlreadyExistsException</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.SameNamePrefixClusterAlreadyExistsException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.ServiceUnavailable">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">ServiceUnavailable</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.ServiceUnavailable" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.StorageClassNotDeletedFromUI">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">StorageClassNotDeletedFromUI</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.StorageClassNotDeletedFromUI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.StorageNotSufficientException">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">StorageNotSufficientException</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.StorageNotSufficientException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.StorageclassIsNotDeleted">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">StorageclassIsNotDeleted</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.StorageclassIsNotDeleted" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.StorageclassNotCreated">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">StorageclassNotCreated</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.StorageclassNotCreated" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.TagNotFoundException">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">TagNotFoundException</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.TagNotFoundException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.TemplateNotFound">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">TemplateNotFound</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.TemplateNotFound" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.TerrafromFileNotFoundException">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">TerrafromFileNotFoundException</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.TerrafromFileNotFoundException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.ThinPoolUtilityWrong">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">ThinPoolUtilityWrong</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.ThinPoolUtilityWrong" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.TimeoutException">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">TimeoutException</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.TimeoutException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.TimeoutExpiredError">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">TimeoutExpiredError</code><span class="sig-paren">(</span><em class="sig-param">value</em>, <em class="sig-param">custom_message=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.exceptions.TimeoutExpiredError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
<dl class="attribute">
<dt id="ocs_ci.ocs.exceptions.TimeoutExpiredError.message">
<code class="sig-name descname">message</code><em class="property"> = 'Timed Out'</em><a class="headerlink" href="#ocs_ci.ocs.exceptions.TimeoutExpiredError.message" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.UnavailableBuildException">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">UnavailableBuildException</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.UnavailableBuildException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.UnavailableResourceException">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">UnavailableResourceException</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.UnavailableResourceException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.UnexpectedBehaviour">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">UnexpectedBehaviour</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.UnexpectedBehaviour" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.UnexpectedDeploymentConfiguration">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">UnexpectedDeploymentConfiguration</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.UnexpectedDeploymentConfiguration" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.UnexpectedImage">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">UnexpectedImage</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.UnexpectedImage" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.UnexpectedInput">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">UnexpectedInput</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.UnexpectedInput" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.UnexpectedODFAccessException">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">UnexpectedODFAccessException</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.UnexpectedODFAccessException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.UnexpectedVolumeType">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">UnexpectedVolumeType</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.UnexpectedVolumeType" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.UnhealthyBucket">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">UnhealthyBucket</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.UnhealthyBucket" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.UnknownCloneTypeException">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">UnknownCloneTypeException</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.UnknownCloneTypeException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.UnknownOperationForTerraformVariableUpdate">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">UnknownOperationForTerraformVariableUpdate</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.UnknownOperationForTerraformVariableUpdate" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.UnsupportedBrowser">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">UnsupportedBrowser</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.UnsupportedBrowser" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.UnsupportedFeatureError">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">UnsupportedFeatureError</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.UnsupportedFeatureError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.UnsupportedOSType">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">UnsupportedOSType</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.UnsupportedOSType" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.UnsupportedPlatformError">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">UnsupportedPlatformError</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.UnsupportedPlatformError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.UnsupportedPlatformVersionError">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">UnsupportedPlatformVersionError</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.UnsupportedPlatformVersionError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.UnsupportedWorkloadError">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">UnsupportedWorkloadError</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.UnsupportedWorkloadError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.VMMaxDisksReachedException">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">VMMaxDisksReachedException</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.VMMaxDisksReachedException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.VaultDeploymentError">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">VaultDeploymentError</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.VaultDeploymentError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.VaultOperationError">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">VaultOperationError</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.VaultOperationError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.VolumesExistError">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">VolumesExistError</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.VolumesExistError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.WrongVersionExpression">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">WrongVersionExpression</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.WrongVersionExpression" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">ValueError</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.exceptions.ZombieProcessFoundException">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.exceptions.</code><code class="sig-name descname">ZombieProcessFoundException</code><a class="headerlink" href="#ocs_ci.ocs.exceptions.ZombieProcessFoundException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

</div>
<div class="section" id="module-ocs_ci.ocs.external_ceph">
<span id="ocs-ci-ocs-external-ceph-module"></span><h2>ocs_ci.ocs.external_ceph module<a class="headerlink" href="#module-ocs_ci.ocs.external_ceph" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ocs_ci.ocs.external_ceph.Ceph">
<em class="property">class </em><code class="sig-prename descclassname">ocs_ci.ocs.external_ceph.</code><code class="sig-name descname">Ceph</code><span class="sig-paren">(</span><em class="sig-param">name='ceph'</em>, <em class="sig-param">node_list=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.external_ceph.Ceph" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="ocs_ci.ocs.external_ceph.Ceph.ceph_demon_stat">
<em class="property">property </em><code class="sig-name descname">ceph_demon_stat</code><a class="headerlink" href="#ocs_ci.ocs.external_ceph.Ceph.ceph_demon_stat" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves expected numbers for demons of each role</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Ceph demon stats</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.external_ceph.Ceph.get_ceph_demons">
<code class="sig-name descname">get_ceph_demons</code><span class="sig-paren">(</span><em class="sig-param">role=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.external_ceph.Ceph.get_ceph_demons" title="Permalink to this definition">¶</a></dt>
<dd><p>Get Ceph demons list</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>list of CephDemon</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.external_ceph.Ceph.get_ceph_object">
<code class="sig-name descname">get_ceph_object</code><span class="sig-paren">(</span><em class="sig-param">role</em>, <em class="sig-param">order_id=0</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.external_ceph.Ceph.get_ceph_object" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns single ceph object. If order id is provided returns that occurrence from results list, otherwise returns
first occurrence</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>role</strong> (<em>str</em>) – Ceph object’s role</p></li>
<li><p><strong>order_id</strong> (<em>int</em>) – order number of the ceph object</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ceph object</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#ocs_ci.ocs.external_ceph.CephObject" title="ocs_ci.ocs.external_ceph.CephObject">CephObject</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.external_ceph.Ceph.get_ceph_objects">
<code class="sig-name descname">get_ceph_objects</code><span class="sig-paren">(</span><em class="sig-param">role=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.external_ceph.Ceph.get_ceph_objects" title="Permalink to this definition">¶</a></dt>
<dd><p>Get Ceph Object by role. Returns all objects if role is not defined. Ceph object can be Ceph demon, client,
installer or generic entity. Pool role is never assigned to Ceph object and means that node has no Ceph objects</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>role</strong> (<em>str</em>) – Ceph object’s role as str</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ceph objects</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.external_ceph.Ceph.get_metadata_list">
<code class="sig-name descname">get_metadata_list</code><span class="sig-paren">(</span><em class="sig-param">role</em>, <em class="sig-param">client=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.external_ceph.Ceph.get_metadata_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns metadata for demons of specified role</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>role</strong> (<em>str</em>) – ceph demon role</p></li>
<li><p><strong>client</strong> (<a class="reference internal" href="#ocs_ci.ocs.external_ceph.CephObject" title="ocs_ci.ocs.external_ceph.CephObject"><em>CephObject</em></a>) – Client with keyring and ceph-common</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>metadata as json object representation</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.external_ceph.Ceph.get_node_by_hostname">
<code class="sig-name descname">get_node_by_hostname</code><span class="sig-paren">(</span><em class="sig-param">hostname</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.external_ceph.Ceph.get_node_by_hostname" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns Ceph node by it’s hostname</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>hostname</strong> (<em>str</em>) – hostname</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ceph node object</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#ocs_ci.ocs.external_ceph.CephNode" title="ocs_ci.ocs.external_ceph.CephNode">CephNode</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.external_ceph.Ceph.get_nodes">
<code class="sig-name descname">get_nodes</code><span class="sig-paren">(</span><em class="sig-param">role=None</em>, <em class="sig-param">ignore=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.external_ceph.Ceph.get_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Get node(s) by role. Return all nodes if role is not defined</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>role</strong> (<em>str</em><em>, </em><a class="reference internal" href="#ocs_ci.ocs.external_ceph.RolesContainer" title="ocs_ci.ocs.external_ceph.RolesContainer"><em>RolesContainer</em></a>) – node’s role. Takes precedence over ignore</p></li>
<li><p><strong>ignore</strong> (<em>str</em><em>, </em><a class="reference internal" href="#ocs_ci.ocs.external_ceph.RolesContainer" title="ocs_ci.ocs.external_ceph.RolesContainer"><em>RolesContainer</em></a>) – node’s role to ignore from the list</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>nodes</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.external_ceph.Ceph.get_osd_by_id">
<code class="sig-name descname">get_osd_by_id</code><span class="sig-paren">(</span><em class="sig-param">osd_id</em>, <em class="sig-param">client=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.external_ceph.Ceph.get_osd_by_id" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>osd_id</strong> (<em>int</em>) – osd id</p></li>
<li><p><strong>client</strong> (<a class="reference internal" href="#ocs_ci.ocs.external_ceph.CephObject" title="ocs_ci.ocs.external_ceph.CephObject"><em>CephObject</em></a>) – Client with keyring and ceph-common:</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>daemon object or None in case the osd daemon list is</dt><dd><p>empty</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#ocs_ci.ocs.external_ceph.CephDemon" title="ocs_ci.ocs.external_ceph.CephDemon">CephDemon</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.external_ceph.Ceph.get_osd_container_name_by_id">
<code class="sig-name descname">get_osd_container_name_by_id</code><span class="sig-paren">(</span><em class="sig-param">osd_id</em>, <em class="sig-param">client=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.external_ceph.Ceph.get_osd_container_name_by_id" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>osd_id</strong> (<em>int</em>) – osd id</p></li>
<li><p><strong>client</strong> (<a class="reference internal" href="#ocs_ci.ocs.external_ceph.CephObject" title="ocs_ci.ocs.external_ceph.CephObject"><em>CephObject</em></a>) – Client with keyring and ceph-common:</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.external_ceph.Ceph.get_osd_data_partition">
<code class="sig-name descname">get_osd_data_partition</code><span class="sig-paren">(</span><em class="sig-param">osd_id</em>, <em class="sig-param">client=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.external_ceph.Ceph.get_osd_data_partition" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns data partition by given osd id</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>osd_id</strong> (<em>int</em>) – osd id</p></li>
<li><p><strong>client</strong> (<a class="reference internal" href="#ocs_ci.ocs.external_ceph.CephObject" title="ocs_ci.ocs.external_ceph.CephObject"><em>CephObject</em></a>) – client, optional</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>data path</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.external_ceph.Ceph.get_osd_data_partition_path">
<code class="sig-name descname">get_osd_data_partition_path</code><span class="sig-paren">(</span><em class="sig-param">osd_id</em>, <em class="sig-param">client=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.external_ceph.Ceph.get_osd_data_partition_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns data partition path by given osd id</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>osd_id</strong> (<em>int</em>) – osd id</p></li>
<li><p><strong>client</strong> (<a class="reference internal" href="#ocs_ci.ocs.external_ceph.CephObject" title="ocs_ci.ocs.external_ceph.CephObject"><em>CephObject</em></a>) – Client with keyring and ceph-common:</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>data partition path</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.external_ceph.Ceph.get_osd_device">
<code class="sig-name descname">get_osd_device</code><span class="sig-paren">(</span><em class="sig-param">osd_id</em>, <em class="sig-param">client=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.external_ceph.Ceph.get_osd_device" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>osd_id</strong> (<em>int</em>) – osd id</p></li>
<li><p><strong>client</strong> (<a class="reference internal" href="#ocs_ci.ocs.external_ceph.CephObject" title="ocs_ci.ocs.external_ceph.CephObject"><em>CephObject</em></a>) – Client with keyring and ceph-common:</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>osd device</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.external_ceph.Ceph.get_osd_metadata">
<code class="sig-name descname">get_osd_metadata</code><span class="sig-paren">(</span><em class="sig-param">osd_id</em>, <em class="sig-param">client=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.external_ceph.Ceph.get_osd_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Retruns metadata for osd by given id</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>osd_id</strong> (<em>int</em>) – osd id</p></li>
<li><p><strong>client</strong> (<a class="reference internal" href="#ocs_ci.ocs.external_ceph.CephObject" title="ocs_ci.ocs.external_ceph.CephObject"><em>CephObject</em></a>) – Client with keyring and ceph-common</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p>osd metadata like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span>
   <span class="s2">&quot;arch&quot;</span><span class="p">:</span> <span class="s2">&quot;x86_64&quot;</span><span class="p">,</span>
   <span class="s2">&quot;back_addr&quot;</span><span class="p">:</span> <span class="s2">&quot;172.16.115.29:6801/1672&quot;</span><span class="p">,</span>
   <span class="s2">&quot;back_iface&quot;</span><span class="p">:</span> <span class="s2">&quot;eth0&quot;</span><span class="p">,</span>
   <span class="s2">&quot;backend_filestore_dev_node&quot;</span><span class="p">:</span> <span class="s2">&quot;vdd&quot;</span><span class="p">,</span>
   <span class="s2">&quot;backend_filestore_partition_path&quot;</span><span class="p">:</span> <span class="s2">&quot;/dev/vdd1&quot;</span><span class="p">,</span>
   <span class="s2">&quot;ceph_version&quot;</span><span class="p">:</span> <span class="s2">&quot;ceph version 12.2.5-42.el7cp (82d52d7efa6edec70f6a0fc306f40b89265535fb) luminous</span>
           <span class="p">(</span><span class="n">stable</span><span class="p">)</span><span class="s2">&quot;,</span>
   <span class="s2">&quot;cpu&quot;</span><span class="p">:</span> <span class="s2">&quot;Intel(R) Xeon(R) CPU E5-2690 v3 @ 2.60GHz&quot;</span><span class="p">,</span>
   <span class="s2">&quot;osd_data&quot;</span><span class="p">:</span> <span class="s2">&quot;/var/lib/ceph/osd/ceph-8&quot;</span><span class="p">,</span>
   <span class="s2">&quot;osd_journal&quot;</span><span class="p">:</span> <span class="s2">&quot;/var/lib/ceph/osd/ceph-8/journal&quot;</span><span class="p">,</span>
   <span class="s2">&quot;osd_objectstore&quot;</span><span class="p">:</span> <span class="s2">&quot;filestore&quot;</span><span class="p">,</span>
   <span class="s2">&quot;rotational&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.external_ceph.Ceph.get_osd_service_name">
<code class="sig-name descname">get_osd_service_name</code><span class="sig-paren">(</span><em class="sig-param">osd_id</em>, <em class="sig-param">client=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.external_ceph.Ceph.get_osd_service_name" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>osd_id</strong> (<em>int</em>) – osd id</p></li>
<li><p><strong>client</strong> (<a class="reference internal" href="#ocs_ci.ocs.external_ceph.CephObject" title="ocs_ci.ocs.external_ceph.CephObject"><em>CephObject</em></a>) – Client with keyring and ceph-common:</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>service name</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.external_ceph.Ceph.role_to_node_mapping">
<code class="sig-name descname">role_to_node_mapping</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.external_ceph.Ceph.role_to_node_mapping" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a role we should be able to get the corresponding
CephNode object</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="ocs_ci.ocs.external_ceph.CephClient">
<em class="property">class </em><code class="sig-prename descclassname">ocs_ci.ocs.external_ceph.</code><code class="sig-name descname">CephClient</code><span class="sig-paren">(</span><em class="sig-param">role</em>, <em class="sig-param">node</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.external_ceph.CephClient" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ocs_ci.ocs.external_ceph.CephObject" title="ocs_ci.ocs.external_ceph.CephObject"><code class="xref py py-class docutils literal notranslate"><span class="pre">ocs_ci.ocs.external_ceph.CephObject</span></code></a></p>
</dd></dl>

<dl class="class">
<dt id="ocs_ci.ocs.external_ceph.CephDemon">
<em class="property">class </em><code class="sig-prename descclassname">ocs_ci.ocs.external_ceph.</code><code class="sig-name descname">CephDemon</code><span class="sig-paren">(</span><em class="sig-param">role</em>, <em class="sig-param">node</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.external_ceph.CephDemon" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ocs_ci.ocs.external_ceph.CephObject" title="ocs_ci.ocs.external_ceph.CephObject"><code class="xref py py-class docutils literal notranslate"><span class="pre">ocs_ci.ocs.external_ceph.CephObject</span></code></a></p>
<dl class="method">
<dt id="ocs_ci.ocs.external_ceph.CephDemon.ceph_demon_by_container_name">
<code class="sig-name descname">ceph_demon_by_container_name</code><span class="sig-paren">(</span><em class="sig-param">container_name</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.external_ceph.CephDemon.ceph_demon_by_container_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.external_ceph.CephDemon.container_name">
<em class="property">property </em><code class="sig-name descname">container_name</code><a class="headerlink" href="#ocs_ci.ocs.external_ceph.CephDemon.container_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.external_ceph.CephDemon.container_prefix">
<em class="property">property </em><code class="sig-name descname">container_prefix</code><a class="headerlink" href="#ocs_ci.ocs.external_ceph.CephDemon.container_prefix" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.external_ceph.CephDemon.exec_command">
<code class="sig-name descname">exec_command</code><span class="sig-paren">(</span><em class="sig-param">cmd</em>, <em class="sig-param">**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.external_ceph.CephDemon.exec_command" title="Permalink to this definition">¶</a></dt>
<dd><p>Proxy to node’s exec_command with wrapper to run commands inside the container for containerized demons</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cmd</strong> (<em>str</em>) – command to execute</p></li>
<li><p><strong>**kw</strong> – options</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>node’s exec_command resut</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="ocs_ci.ocs.external_ceph.CephNode">
<em class="property">class </em><code class="sig-prename descclassname">ocs_ci.ocs.external_ceph.</code><code class="sig-name descname">CephNode</code><span class="sig-paren">(</span><em class="sig-param">**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.external_ceph.CephNode" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="ocs_ci.ocs.external_ceph.CephNode.connect">
<code class="sig-name descname">connect</code><span class="sig-paren">(</span><em class="sig-param">timeout=300</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.external_ceph.CephNode.connect" title="Permalink to this definition">¶</a></dt>
<dd><p>connect to ceph instance using paramiko ssh protocol
eg: self.connect()
- setup tcp keepalive to max retries for active connection
- set up hostname and shortname as attributes for tests to query</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.external_ceph.CephNode.create_ceph_object">
<code class="sig-name descname">create_ceph_object</code><span class="sig-paren">(</span><em class="sig-param">role</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.external_ceph.CephNode.create_ceph_object" title="Permalink to this definition">¶</a></dt>
<dd><p>Create ceph object on the node</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>role</strong> (<em>str</em>) – ceph object role</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>created ceph object</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>CephObject|CephDemon</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.external_ceph.CephNode.exec_command">
<code class="sig-name descname">exec_command</code><span class="sig-paren">(</span><em class="sig-param">**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.external_ceph.CephNode.exec_command" title="Permalink to this definition">¶</a></dt>
<dd><p>execute a command on the vm
eg: self.exec_cmd(cmd=’uptime’)
or
self.exec_cmd(cmd=’background_cmd’, check_ec=False)</p>
<dl class="attribute">
<dt id="ocs_ci.ocs.external_ceph.CephNode.check_ec">
<code class="sig-name descname">check_ec</code><a class="headerlink" href="#ocs_ci.ocs.external_ceph.CephNode.check_ec" title="Permalink to this definition">¶</a></dt>
<dd><p>False will run the command and not wait for exit
code</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.external_ceph.CephNode.get_allocated_volumes">
<code class="sig-name descname">get_allocated_volumes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.external_ceph.CephNode.get_allocated_volumes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.external_ceph.CephNode.get_ceph_demons">
<code class="sig-name descname">get_ceph_demons</code><span class="sig-paren">(</span><em class="sig-param">role=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.external_ceph.CephNode.get_ceph_demons" title="Permalink to this definition">¶</a></dt>
<dd><p>Get Ceph demons list. Only active (those which will be part of the cluster) demons are shown.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>list of CephDemon</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.external_ceph.CephNode.get_ceph_objects">
<code class="sig-name descname">get_ceph_objects</code><span class="sig-paren">(</span><em class="sig-param">role=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.external_ceph.CephNode.get_ceph_objects" title="Permalink to this definition">¶</a></dt>
<dd><p>Get Ceph objects list on the node</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>role</strong> (<em>str</em>) – Ceph object role</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ceph objects</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.external_ceph.CephNode.get_free_volumes">
<code class="sig-name descname">get_free_volumes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.external_ceph.CephNode.get_free_volumes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.external_ceph.CephNode.obtain_root_permissions">
<code class="sig-name descname">obtain_root_permissions</code><span class="sig-paren">(</span><em class="sig-param">path</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.external_ceph.CephNode.obtain_root_permissions" title="Permalink to this definition">¶</a></dt>
<dd><p>Transfer ownership of root to current user for the path given. Recursive.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> (<em>str</em>) – file path</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.external_ceph.CephNode.reconnect">
<code class="sig-name descname">reconnect</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.external_ceph.CephNode.reconnect" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.external_ceph.CephNode.remove_ceph_object">
<code class="sig-name descname">remove_ceph_object</code><span class="sig-paren">(</span><em class="sig-param">ceph_object</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.external_ceph.CephNode.remove_ceph_object" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes ceph object form the node</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>ceph_object</strong> (<a class="reference internal" href="#ocs_ci.ocs.external_ceph.CephObject" title="ocs_ci.ocs.external_ceph.CephObject"><em>CephObject</em></a>) – ceph object to remove</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.external_ceph.CephNode.role">
<em class="property">property </em><code class="sig-name descname">role</code><a class="headerlink" href="#ocs_ci.ocs.external_ceph.CephNode.role" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.external_ceph.CephNode.search_ethernet_interface">
<code class="sig-name descname">search_ethernet_interface</code><span class="sig-paren">(</span><em class="sig-param">ceph_node_list</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.external_ceph.CephNode.search_ethernet_interface" title="Permalink to this definition">¶</a></dt>
<dd><p>Search interface on the given node node which allows every node in the cluster accesible by it’s shortname.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>ceph_node_list</strong> (<em>list</em>) – list of CephNode</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>returns None if no suitable interface found</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>eth_interface (str)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.external_ceph.CephNode.set_eth_interface">
<code class="sig-name descname">set_eth_interface</code><span class="sig-paren">(</span><em class="sig-param">eth_interface</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.external_ceph.CephNode.set_eth_interface" title="Permalink to this definition">¶</a></dt>
<dd><p>set the eth interface</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.external_ceph.CephNode.set_internal_ip">
<code class="sig-name descname">set_internal_ip</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.external_ceph.CephNode.set_internal_ip" title="Permalink to this definition">¶</a></dt>
<dd><p>set the internal ip of the vm which differs from floating ip</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.external_ceph.CephNode.write_file">
<code class="sig-name descname">write_file</code><span class="sig-paren">(</span><em class="sig-param">**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.external_ceph.CephNode.write_file" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="ocs_ci.ocs.external_ceph.CephObject">
<em class="property">class </em><code class="sig-prename descclassname">ocs_ci.ocs.external_ceph.</code><code class="sig-name descname">CephObject</code><span class="sig-paren">(</span><em class="sig-param">role</em>, <em class="sig-param">node</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.external_ceph.CephObject" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="ocs_ci.ocs.external_ceph.CephObject.exec_command">
<code class="sig-name descname">exec_command</code><span class="sig-paren">(</span><em class="sig-param">cmd</em>, <em class="sig-param">**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.external_ceph.CephObject.exec_command" title="Permalink to this definition">¶</a></dt>
<dd><p>Proxy to node’s exec_command</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cmd</strong> (<em>str</em>) – command to execute</p></li>
<li><p><strong>**kw</strong> – options</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>node’s exec_command result</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.external_ceph.CephObject.pkg_type">
<em class="property">property </em><code class="sig-name descname">pkg_type</code><a class="headerlink" href="#ocs_ci.ocs.external_ceph.CephObject.pkg_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.external_ceph.CephObject.write_file">
<code class="sig-name descname">write_file</code><span class="sig-paren">(</span><em class="sig-param">**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.external_ceph.CephObject.write_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Proxy to node’s write file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>**kw</strong> – options</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>node’s write_file result</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="ocs_ci.ocs.external_ceph.CephObjectFactory">
<em class="property">class </em><code class="sig-prename descclassname">ocs_ci.ocs.external_ceph.</code><code class="sig-name descname">CephObjectFactory</code><span class="sig-paren">(</span><em class="sig-param">node</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.external_ceph.CephObjectFactory" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="attribute">
<dt id="ocs_ci.ocs.external_ceph.CephObjectFactory.CLIENT_ROLES">
<code class="sig-name descname">CLIENT_ROLES</code><em class="property"> = ['client']</em><a class="headerlink" href="#ocs_ci.ocs.external_ceph.CephObjectFactory.CLIENT_ROLES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="ocs_ci.ocs.external_ceph.CephObjectFactory.DEMON_ROLES">
<code class="sig-name descname">DEMON_ROLES</code><em class="property"> = ['mon', 'osd', 'mgr', 'rgw', 'mds', 'nfs']</em><a class="headerlink" href="#ocs_ci.ocs.external_ceph.CephObjectFactory.DEMON_ROLES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.external_ceph.CephObjectFactory.create_ceph_object">
<code class="sig-name descname">create_ceph_object</code><span class="sig-paren">(</span><em class="sig-param">role</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.external_ceph.CephObjectFactory.create_ceph_object" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an appropriate Ceph object by role</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>role</strong> – role string</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Ceph object based on role</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="ocs_ci.ocs.external_ceph.CephOsd">
<em class="property">class </em><code class="sig-prename descclassname">ocs_ci.ocs.external_ceph.</code><code class="sig-name descname">CephOsd</code><span class="sig-paren">(</span><em class="sig-param">node</em>, <em class="sig-param">device=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.external_ceph.CephOsd" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ocs_ci.ocs.external_ceph.CephDemon" title="ocs_ci.ocs.external_ceph.CephDemon"><code class="xref py py-class docutils literal notranslate"><span class="pre">ocs_ci.ocs.external_ceph.CephDemon</span></code></a></p>
<dl class="method">
<dt id="ocs_ci.ocs.external_ceph.CephOsd.container_name">
<em class="property">property </em><code class="sig-name descname">container_name</code><a class="headerlink" href="#ocs_ci.ocs.external_ceph.CephOsd.container_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.external_ceph.CephOsd.is_active">
<em class="property">property </em><code class="sig-name descname">is_active</code><a class="headerlink" href="#ocs_ci.ocs.external_ceph.CephOsd.is_active" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="ocs_ci.ocs.external_ceph.NodeVolume">
<em class="property">class </em><code class="sig-prename descclassname">ocs_ci.ocs.external_ceph.</code><code class="sig-name descname">NodeVolume</code><span class="sig-paren">(</span><em class="sig-param">status</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.external_ceph.NodeVolume" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="attribute">
<dt id="ocs_ci.ocs.external_ceph.NodeVolume.ALLOCATED">
<code class="sig-name descname">ALLOCATED</code><em class="property"> = 'allocated'</em><a class="headerlink" href="#ocs_ci.ocs.external_ceph.NodeVolume.ALLOCATED" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="ocs_ci.ocs.external_ceph.NodeVolume.FREE">
<code class="sig-name descname">FREE</code><em class="property"> = 'free'</em><a class="headerlink" href="#ocs_ci.ocs.external_ceph.NodeVolume.FREE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="ocs_ci.ocs.external_ceph.RolesContainer">
<em class="property">class </em><code class="sig-prename descclassname">ocs_ci.ocs.external_ceph.</code><code class="sig-name descname">RolesContainer</code><span class="sig-paren">(</span><em class="sig-param">role='pool'</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.external_ceph.RolesContainer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Container for single or multiple node roles.
Can be used as iterable or with equality ‘==’ operator to check if role is present for the node.
Note that ‘==’ operator will behave the same way as ‘in’ operator i.e. check that value is present in the role list.</p>
<dl class="method">
<dt id="ocs_ci.ocs.external_ceph.RolesContainer.append">
<code class="sig-name descname">append</code><span class="sig-paren">(</span><em class="sig-param">object</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.external_ceph.RolesContainer.append" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.external_ceph.RolesContainer.clear">
<code class="sig-name descname">clear</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.external_ceph.RolesContainer.clear" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.external_ceph.RolesContainer.equals">
<code class="sig-name descname">equals</code><span class="sig-paren">(</span><em class="sig-param">other</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.external_ceph.RolesContainer.equals" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.external_ceph.RolesContainer.extend">
<code class="sig-name descname">extend</code><span class="sig-paren">(</span><em class="sig-param">iterable</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.external_ceph.RolesContainer.extend" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.external_ceph.RolesContainer.remove">
<code class="sig-name descname">remove</code><span class="sig-paren">(</span><em class="sig-param">object</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.external_ceph.RolesContainer.remove" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.external_ceph.RolesContainer.update_role">
<code class="sig-name descname">update_role</code><span class="sig-paren">(</span><em class="sig-param">roles_list</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.external_ceph.RolesContainer.update_role" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="ocs_ci.ocs.external_ceph.SSHConnectionManager">
<em class="property">class </em><code class="sig-prename descclassname">ocs_ci.ocs.external_ceph.</code><code class="sig-name descname">SSHConnectionManager</code><span class="sig-paren">(</span><em class="sig-param">ip_address</em>, <em class="sig-param">username</em>, <em class="sig-param">password</em>, <em class="sig-param">look_for_keys=False</em>, <em class="sig-param">outage_timeout=300</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.external_ceph.SSHConnectionManager" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="ocs_ci.ocs.external_ceph.SSHConnectionManager.client">
<em class="property">property </em><code class="sig-name descname">client</code><a class="headerlink" href="#ocs_ci.ocs.external_ceph.SSHConnectionManager.client" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.external_ceph.SSHConnectionManager.get_client">
<code class="sig-name descname">get_client</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.external_ceph.SSHConnectionManager.get_client" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.external_ceph.SSHConnectionManager.get_transport">
<code class="sig-name descname">get_transport</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.external_ceph.SSHConnectionManager.get_transport" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.external_ceph.SSHConnectionManager.transport">
<em class="property">property </em><code class="sig-name descname">transport</code><a class="headerlink" href="#ocs_ci.ocs.external_ceph.SSHConnectionManager.transport" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-ocs_ci.ocs.fio_artefacts">
<span id="ocs-ci-ocs-fio-artefacts-module"></span><h2>ocs_ci.ocs.fio_artefacts module<a class="headerlink" href="#module-ocs_ci.ocs.fio_artefacts" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="ocs_ci.ocs.fio_artefacts.get_configmap_dict">
<code class="sig-prename descclassname">ocs_ci.ocs.fio_artefacts.</code><code class="sig-name descname">get_configmap_dict</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.fio_artefacts.get_configmap_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>ConfigMap template for fio workloads.
Note that you need to add actual configuration to workload.fio file.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>YAML data for a OCP ConfigMap object</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.fio_artefacts.get_job_dict">
<code class="sig-prename descclassname">ocs_ci.ocs.fio_artefacts.</code><code class="sig-name descname">get_job_dict</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.fio_artefacts.get_job_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Job template for fio workloads.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>YAML data for a job object</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.fio_artefacts.get_mcg_conf">
<code class="sig-prename descclassname">ocs_ci.ocs.fio_artefacts.</code><code class="sig-name descname">get_mcg_conf</code><span class="sig-paren">(</span><em class="sig-param">mcg_obj</em>, <em class="sig-param">workload_bucket</em>, <em class="sig-param">custom_options=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.fio_artefacts.get_mcg_conf" title="Permalink to this definition">¶</a></dt>
<dd><p>Basic fio configuration for upgrade utilization for NooBaa S3 bucket.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mcg_obj</strong> (<em>obj</em>) – MCG object, it can be found among fixtures</p></li>
<li><p><strong>workload_bucket</strong> (<em>obj</em>) – MCG bucket</p></li>
<li><p><strong>custom_options</strong> (<em>dict</em>) – Dictionary of lists containing tuples with
additional configuration for fio in format:
{‘section’: [(‘option’, ‘value’),…],…}
e.g.
{‘global’:[(‘name’,’bucketname’)],’create’:[(‘time_based’,’1’),(‘runtime’,’48h’)]}
Those values can be added to the config or rewrite already existing
values</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>updated fio configuration</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.fio_artefacts.get_pvc_dict">
<code class="sig-prename descclassname">ocs_ci.ocs.fio_artefacts.</code><code class="sig-name descname">get_pvc_dict</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.fio_artefacts.get_pvc_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>PVC template for fio workloads.
Note that all ‘None’ values needs to be defined before usage.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>YAML data for a PVC object</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-ocs_ci.ocs.fiojob">
<span id="ocs-ci-ocs-fiojob-module"></span><h2>ocs_ci.ocs.fiojob module<a class="headerlink" href="#module-ocs_ci.ocs.fiojob" title="Permalink to this headline">¶</a></h2>
<p>This module contains functions which implements functionality necessary to run
general <a class="reference external" href="https://fio.readthedocs.io/en/latest/fio_doc.html">fio</a> workloads as <a class="reference external" href="https://kubernetes.io/docs/concepts/workloads/controllers/jobs-run-to-completion/">k8s Jobs</a> in OCP/OCS cluster via workload
fixtures (see <a class="reference internal" href="ocs_ci.utility.html#module-ocs_ci.utility.workloadfixture" title="ocs_ci.utility.workloadfixture"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ocs_ci.utility.workloadfixture</span></code></a>).</p>
<dl class="function">
<dt id="ocs_ci.ocs.fiojob.delete_fio_data">
<code class="sig-prename descclassname">ocs_ci.ocs.fiojob.</code><code class="sig-name descname">delete_fio_data</code><span class="sig-paren">(</span><em class="sig-param">fio_job_file</em>, <em class="sig-param">delete_check_func</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.fiojob.delete_fio_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete fio data by removing the fio job resource, with a wait to
make sure date were reclaimed on the ceph level.</p>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.fiojob.fio_to_dict">
<code class="sig-prename descclassname">ocs_ci.ocs.fiojob.</code><code class="sig-name descname">fio_to_dict</code><span class="sig-paren">(</span><em class="sig-param">fio_output</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.fiojob.fio_to_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>”
Parse fio output and provide parsed dict it as a result.</p>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.fiojob.get_ceph_storage_stats">
<code class="sig-prename descclassname">ocs_ci.ocs.fiojob.</code><code class="sig-name descname">get_ceph_storage_stats</code><span class="sig-paren">(</span><em class="sig-param">ceph_pool_name</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.fiojob.get_ceph_storage_stats" title="Permalink to this definition">¶</a></dt>
<dd><p>Get ceph storage utilization values from <code class="docutils literal notranslate"><span class="pre">ceph</span> <span class="pre">df</span></code>: total STORED value
and MAX AVAIL of given ceph pool, which are important for understanding
how much space is already consumed and how much is still available.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>ceph_pool_name</strong> (<em>str</em>) – name of ceph pool where you want to write data</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>int: sum of all ceph pool STORED values (Bytes)
int: value of MAX AVAIL value of given ceph pool (Bytes)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.fiojob.get_pool_name">
<code class="sig-prename descclassname">ocs_ci.ocs.fiojob.</code><code class="sig-name descname">get_pool_name</code><span class="sig-paren">(</span><em class="sig-param">fixture_name</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.fiojob.get_pool_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Return ceph pool name based on fixture name suffix.</p>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.fiojob.get_sc_name">
<code class="sig-prename descclassname">ocs_ci.ocs.fiojob.</code><code class="sig-name descname">get_sc_name</code><span class="sig-paren">(</span><em class="sig-param">fixture_name</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.fiojob.get_sc_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Return storage class name based on fixture name suffix.</p>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.fiojob.get_storageutilization_size">
<code class="sig-prename descclassname">ocs_ci.ocs.fiojob.</code><code class="sig-name descname">get_storageutilization_size</code><span class="sig-paren">(</span><em class="sig-param">target_percentage</em>, <em class="sig-param">ceph_pool_name</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.fiojob.get_storageutilization_size" title="Permalink to this definition">¶</a></dt>
<dd><p>For the purpose of the workload storage utilization fixtures, get expected
pvc_size based on STORED and MAX AVAIL values (as reported by <cite>ceph df</cite>)
for given ceph pool and target utilization percentage.</p>
<p>This is only approximate, and it won’t work eg. if each pool has different
configuration of replication.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>target_percentage</strong> (<em>float</em>) – target total utilization, eg. 0.5 for 50%</p></li>
<li><p><strong>ceph_pool_name</strong> (<em>str</em>) – name of ceph pool where you want to write data</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>pvc_size for storage utilization job (in GiB, rounded)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.fiojob.get_timeout">
<code class="sig-prename descclassname">ocs_ci.ocs.fiojob.</code><code class="sig-name descname">get_timeout</code><span class="sig-paren">(</span><em class="sig-param">fio_min_mbps</em>, <em class="sig-param">pvc_size</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.fiojob.get_timeout" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute how long we will let the job running while writing data to the
volume.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fio_min_mbps</strong> (<em>int</em>) – minimal write speed in MiB/s</p></li>
<li><p><strong>pvc_size</strong> (<em>int</em>) – size of PVC in GiB, which will be used to writing</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>write_timeout in seconds</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.fiojob.wait_for_job_completion">
<code class="sig-prename descclassname">ocs_ci.ocs.fiojob.</code><code class="sig-name descname">wait_for_job_completion</code><span class="sig-paren">(</span><em class="sig-param">namespace</em>, <em class="sig-param">timeout</em>, <em class="sig-param">error_msg</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.fiojob.wait_for_job_completion" title="Permalink to this definition">¶</a></dt>
<dd><p>This is a WORKAROUND of particular ocsci design choices: I just wait
for one pod in the namespace, and then ask for the pod again to get
it’s name (but it would be much better to just wait for the job to
finish instead, then ask for a name of the successful pod and use it
to get logs …)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>name of Pod resource of the finished job</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.fiojob.workload_fio_storageutilization">
<code class="sig-prename descclassname">ocs_ci.ocs.fiojob.</code><code class="sig-name descname">workload_fio_storageutilization</code><span class="sig-paren">(</span><em class="sig-param">fixture_name</em>, <em class="sig-param">project</em>, <em class="sig-param">fio_pvc_dict</em>, <em class="sig-param">fio_job_dict</em>, <em class="sig-param">fio_configmap_dict</em>, <em class="sig-param">measurement_dir</em>, <em class="sig-param">tmp_path</em>, <em class="sig-param">target_percentage=None</em>, <em class="sig-param">target_size=None</em>, <em class="sig-param">with_checksum=False</em>, <em class="sig-param">keep_fio_data=False</em>, <em class="sig-param">minimal_time=480</em>, <em class="sig-param">throw_skip=True</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.fiojob.workload_fio_storageutilization" title="Permalink to this definition">¶</a></dt>
<dd><p>This function implements core functionality of fio storage utilization
workload fixtures. This is necessary because we can’t parametrize single
general fixture over multiple parameters (it would mess with test case id
and polarion test case tracking).</p>
<p>It works as a workload fixture, as understood by
<a class="reference internal" href="ocs_ci.utility.html#module-ocs_ci.utility.workloadfixture" title="ocs_ci.utility.workloadfixture"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ocs_ci.utility.workloadfixture</span></code></a> module.</p>
<p>When <code class="docutils literal notranslate"><span class="pre">target_percentage</span></code> is specified, the goal of the fixture is to fill
whatever is left so that total cluster utilization reaches the target
percentage. This means that in this mode, number of data written depends
on both total capacity and current utilization. If the current storage
utilization already exceeds the target, the test is skipped.</p>
<p>On the other hand with <code class="docutils literal notranslate"><span class="pre">target_size</span></code>, you can specify the size of data
written by fio directly.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fixture_name</strong> (<em>str</em>) – name of the fixture using this function (for
logging and k8s object labeling purposes)</p></li>
<li><p><strong>project</strong> (<a class="reference internal" href="#ocs_ci.ocs.ocp.OCP" title="ocs_ci.ocs.ocp.OCP"><em>ocs_ci.ocs.ocp.OCP</em></a>) – OCP object of project in which the Job is
deployed, as created by <code class="docutils literal notranslate"><span class="pre">project_factory</span></code> or <code class="docutils literal notranslate"><span class="pre">project</span></code> fixture</p></li>
<li><p><strong>fio_pvc_dict</strong> (<em>dict</em>) – PVC k8s struct for fio target volume</p></li>
<li><p><strong>fio_job_dict</strong> (<em>dict</em>) – Job k8s struct for fio job</p></li>
<li><p><strong>fio_configmap_dict</strong> (<em>dict</em>) – configmap k8s struct with fio config file</p></li>
<li><p><strong>measurement_dir</strong> (<em>str</em>) – reference to a fixture which represents a
directory where measurement results are stored, see also
<a class="reference internal" href="ocs_ci.utility.html#ocs_ci.utility.workloadfixture.measure_operation" title="ocs_ci.utility.workloadfixture.measure_operation"><code class="xref py py-func docutils literal notranslate"><span class="pre">ocs_ci.utility.workloadfixture.measure_operation()</span></code></a></p></li>
<li><p><strong>tmp_path</strong> (<em>pathlib.PosixPath</em>) – reference to pytest <code class="docutils literal notranslate"><span class="pre">tmp_path</span></code> fixture</p></li>
<li><p><strong>target_percentage</strong> (<em>float</em>) – target utilization as percentage wrt all
usable OCS space, eg. 0.50 means a request to reach 50% of total
OCS storage utilization (wrt usable space)</p></li>
<li><p><strong>target_size</strong> (<em>int</em>) – target size of the PVC for fio to use, eg. 10 means
a request for fio to write 10GiB of data</p></li>
<li><p><strong>with_checksum</strong> (<em>bool</em>) – if true, sha1 checksum of the data written by
fio is stored on the volume, and reclaim policy of the volume is
changed to <code class="docutils literal notranslate"><span class="pre">Retain</span></code> so that the volume is not removed during test
teardown for later verification runs</p></li>
<li><p><strong>keep_fio_data</strong> (<em>bool</em>) – If true, keep the fio data after the fio
storage utilization is completed. Else if false, deletes the fio data.</p></li>
<li><p><strong>minimal_time</strong> (<em>int</em>) – Minimal number of seconds to monitor a system.
(See more details in the function ‘measure_operation’)</p></li>
<li><p><strong>throw_skip</strong> (<em>bool</em>) – if True function will raise pytest.skip.Exception and test will be skipped,
otherwise return None</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>measurement results with timestamps and other medatada from</dt><dd><p><a class="reference internal" href="ocs_ci.utility.html#ocs_ci.utility.workloadfixture.measure_operation" title="ocs_ci.utility.workloadfixture.measure_operation"><code class="xref py py-func docutils literal notranslate"><span class="pre">ocs_ci.utility.workloadfixture.measure_operation()</span></code></a></p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.fiojob.write_data_via_fio">
<code class="sig-prename descclassname">ocs_ci.ocs.fiojob.</code><code class="sig-name descname">write_data_via_fio</code><span class="sig-paren">(</span><em class="sig-param">fio_job_file</em>, <em class="sig-param">write_timeout</em>, <em class="sig-param">pvc_size</em>, <em class="sig-param">target_percentage</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.fiojob.write_data_via_fio" title="Permalink to this definition">¶</a></dt>
<dd><p>Write data via fio Job (specified in <code class="docutils literal notranslate"><span class="pre">tf</span></code> tmp file) to reach desired
utilization level, and keep this level for <code class="docutils literal notranslate"><span class="pre">minimal_time</span></code> seconds.</p>
</dd></dl>

</div>
<div class="section" id="module-ocs_ci.ocs.flowtest">
<span id="ocs-ci-ocs-flowtest-module"></span><h2>ocs_ci.ocs.flowtest module<a class="headerlink" href="#module-ocs_ci.ocs.flowtest" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ocs_ci.ocs.flowtest.BackgroundOps">
<em class="property">class </em><code class="sig-prename descclassname">ocs_ci.ocs.flowtest.</code><code class="sig-name descname">BackgroundOps</code><a class="headerlink" href="#ocs_ci.ocs.flowtest.BackgroundOps" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="ocs_ci.ocs.flowtest.BackgroundOps.handler">
<code class="sig-name descname">handler</code><span class="sig-paren">(</span><em class="sig-param">func</em>, <em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.flowtest.BackgroundOps.handler" title="Permalink to this definition">¶</a></dt>
<dd><p>Wraps the function to run specific iterations</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True if function runs successfully</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.flowtest.BackgroundOps.wait_for_bg_operations">
<code class="sig-name descname">wait_for_bg_operations</code><span class="sig-paren">(</span><em class="sig-param">bg_ops</em>, <em class="sig-param">timeout=1200</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.flowtest.BackgroundOps.wait_for_bg_operations" title="Permalink to this definition">¶</a></dt>
<dd><p>Waits for threads to be completed</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bg_ops</strong> (<em>list</em>) – Futures</p></li>
<li><p><strong>timeout</strong> (<em>int</em>) – Time in seconds to wait</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="ocs_ci.ocs.flowtest.FlowOperations">
<em class="property">class </em><code class="sig-prename descclassname">ocs_ci.ocs.flowtest.</code><code class="sig-name descname">FlowOperations</code><a class="headerlink" href="#ocs_ci.ocs.flowtest.FlowOperations" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Flow based operations class</p>
<dl class="method">
<dt id="ocs_ci.ocs.flowtest.FlowOperations.add_capacity_entry_criteria">
<code class="sig-name descname">add_capacity_entry_criteria</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.flowtest.FlowOperations.add_capacity_entry_criteria" title="Permalink to this definition">¶</a></dt>
<dd><p>Entry criteria verification function for add capacity operation</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>containing the params used in add capacity exit operation</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.flowtest.FlowOperations.add_capacity_exit_criteria">
<code class="sig-name descname">add_capacity_exit_criteria</code><span class="sig-paren">(</span><em class="sig-param">restart_count_before</em>, <em class="sig-param">osd_pods_before</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.flowtest.FlowOperations.add_capacity_exit_criteria" title="Permalink to this definition">¶</a></dt>
<dd><p>Exit criteria function for Add capacity operation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>restart_count_before</strong> (<em>dict</em>) – Restart counts of pods</p></li>
<li><p><strong>osd_pods_before</strong> (<em>list</em>) – List of OSD pods before</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.flowtest.FlowOperations.node_operations_entry_criteria">
<code class="sig-name descname">node_operations_entry_criteria</code><span class="sig-paren">(</span><em class="sig-param">node_type</em>, <em class="sig-param">number_of_nodes</em>, <em class="sig-param">operation_name='Node Operation'</em>, <em class="sig-param">network_fail_time=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.flowtest.FlowOperations.node_operations_entry_criteria" title="Permalink to this definition">¶</a></dt>
<dd><p>Entry criteria function for node related operations</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>node_type</strong> (<em>str</em>) – Type of node</p></li>
<li><p><strong>number_of_nodes</strong> (<em>int</em>) – Number of nodes</p></li>
<li><p><strong>operation_name</strong> (<em>str</em>) – Name of the node operation</p></li>
<li><p><strong>network_fail_time</strong> (<em>int</em>) – Total time to fail the network in a node</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>containing the params used in Node operations</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.flowtest.FlowOperations.validate_cluster">
<code class="sig-name descname">validate_cluster</code><span class="sig-paren">(</span><em class="sig-param">cluster_check=False</em>, <em class="sig-param">node_status=False</em>, <em class="sig-param">pod_status=False</em>, <em class="sig-param">operation_name=''</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.flowtest.FlowOperations.validate_cluster" title="Permalink to this definition">¶</a></dt>
<dd><p>Validates various ceph and ocs cluster checks</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>node_status</strong> (<em>bool</em>) – Verifies node is Ready</p></li>
<li><p><strong>pod_status</strong> (<em>bool</em>) – Verifies StorageCluster pods in expected state</p></li>
<li><p><strong>operation_name</strong> (<em>str</em>) – Name of the operation, to Tag</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-ocs_ci.ocs.fusion">
<span id="ocs-ci-ocs-fusion-module"></span><h2>ocs_ci.ocs.fusion module<a class="headerlink" href="#module-ocs_ci.ocs.fusion" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="ocs_ci.ocs.fusion.create_fusion_monitoring_resources">
<code class="sig-prename descclassname">ocs_ci.ocs.fusion.</code><code class="sig-name descname">create_fusion_monitoring_resources</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.fusion.create_fusion_monitoring_resources" title="Permalink to this definition">¶</a></dt>
<dd><p>Create resources used for Managed Fusion aaS Monitoring</p>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.fusion.deploy_odf">
<code class="sig-prename descclassname">ocs_ci.ocs.fusion.</code><code class="sig-name descname">deploy_odf</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.fusion.deploy_odf" title="Permalink to this definition">¶</a></dt>
<dd><p>Create openshift-storage namespace and deploy managedFusionOffering CR there.</p>
</dd></dl>

</div>
<div class="section" id="module-ocs_ci.ocs.hsbench">
<span id="ocs-ci-ocs-hsbench-module"></span><h2>ocs_ci.ocs.hsbench module<a class="headerlink" href="#module-ocs_ci.ocs.hsbench" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ocs_ci.ocs.hsbench.HsBench">
<em class="property">class </em><code class="sig-prename descclassname">ocs_ci.ocs.hsbench.</code><code class="sig-name descname">HsBench</code><a class="headerlink" href="#ocs_ci.ocs.hsbench.HsBench" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Hotsauce S3 benchmark</p>
<dl class="method">
<dt id="ocs_ci.ocs.hsbench.HsBench.cleanup">
<code class="sig-name descname">cleanup</code><span class="sig-paren">(</span><em class="sig-param">timeout=600</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.hsbench.HsBench.cleanup" title="Permalink to this definition">¶</a></dt>
<dd><p>Clear all objects in the associated bucket
Clean up deployment config, pvc, pod and test user</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.hsbench.HsBench.create_resource_hsbench">
<code class="sig-name descname">create_resource_hsbench</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.hsbench.HsBench.create_resource_hsbench" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Create resource for hsbench mark test:</dt><dd><p>Create service account
Create PVC
Create golang pod</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.hsbench.HsBench.create_test_user">
<code class="sig-name descname">create_test_user</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.hsbench.HsBench.create_test_user" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a radosgw test user for S3 access</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.hsbench.HsBench.delete_bucket">
<code class="sig-name descname">delete_bucket</code><span class="sig-paren">(</span><em class="sig-param">bucket_name=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.hsbench.HsBench.delete_bucket" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete bucket</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>bucket_name</strong> (<em>str</em>) – Name of bucket</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.hsbench.HsBench.delete_objects_in_bucket">
<code class="sig-name descname">delete_objects_in_bucket</code><span class="sig-paren">(</span><em class="sig-param">bucket_name=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.hsbench.HsBench.delete_objects_in_bucket" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete objects in a bucket</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>bucket_name</strong> (<em>str</em>) – Name of bucket</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.hsbench.HsBench.delete_test_user">
<code class="sig-name descname">delete_test_user</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.hsbench.HsBench.delete_test_user" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete RGW test user and bucket belong to test user</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.hsbench.HsBench.install_hsbench">
<code class="sig-name descname">install_hsbench</code><span class="sig-paren">(</span><em class="sig-param">timeout=4200</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.hsbench.HsBench.install_hsbench" title="Permalink to this definition">¶</a></dt>
<dd><p>Install HotSauce S3 benchmark:
<a class="reference external" href="https://github.com/markhpc/hsbench">https://github.com/markhpc/hsbench</a></p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.hsbench.HsBench.run_benchmark">
<code class="sig-name descname">run_benchmark</code><span class="sig-paren">(</span><em class="sig-param">num_obj=None</em>, <em class="sig-param">run_mode=None</em>, <em class="sig-param">timeout=None</em>, <em class="sig-param">access_key=None</em>, <em class="sig-param">secret_key=None</em>, <em class="sig-param">end_point=None</em>, <em class="sig-param">num_bucket=None</em>, <em class="sig-param">object_size=None</em>, <em class="sig-param">bucket_prefix=None</em>, <em class="sig-param">result=None</em>, <em class="sig-param">validate=True</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.hsbench.HsBench.run_benchmark" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Running Hotsauce S3 benchmark
Usage detail can be found at: <a class="reference external" href="https://github.com/markhpc/hsbench">https://github.com/markhpc/hsbench</a></p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_obj</strong> (<em>int</em>) – Maximum number of objects</p></li>
<li><p><strong>run_mode</strong> (<em>string</em>) – mode types</p></li>
<li><p><strong>timeout</strong> (<em>int</em>) – timeout in seconds</p></li>
<li><p><strong>access_key</strong> (<em>string</em>) – Access Key credential</p></li>
<li><p><strong>secret_key</strong> (<em>string</em>) – Secret Key credential</p></li>
<li><p><strong>end_point</strong> (<em>string</em>) – S3 end_point</p></li>
<li><p><strong>num_bucket</strong> (<em>int</em>) – Number of bucket(s)</p></li>
<li><p><strong>object_size</strong> (<em>int</em>) – Size of object</p></li>
<li><p><strong>bucket_prefix</strong> (<em>str</em>) – Prefix for buckets</p></li>
<li><p><strong>result</strong> (<em>str</em>) – Write CSV output to this file</p></li>
<li><p><strong>validate</strong> (<em>Boolean</em>) – Validates whether running workload is completed.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.hsbench.HsBench.validate_hsbench_put_get_list_objects">
<code class="sig-name descname">validate_hsbench_put_get_list_objects</code><span class="sig-paren">(</span><em class="sig-param">result=None</em>, <em class="sig-param">num_objs=None</em>, <em class="sig-param">put=None</em>, <em class="sig-param">get=None</em>, <em class="sig-param">list_obj=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.hsbench.HsBench.validate_hsbench_put_get_list_objects" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate PUT, GET, LIST objects from previous hsbench operation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>result</strong> (<em>str</em>) – Result file name</p></li>
<li><p><strong>num_objs</strong> (<em>str</em>) – Number of objects to validate</p></li>
<li><p><strong>put</strong> (<em>Boolean</em>) – Validate PUT operation</p></li>
<li><p><strong>get</strong> (<em>Boolean</em>) – Validate GET operation</p></li>
<li><p><strong>list_obj</strong> (<em>Boolean</em>) – Validate LIST operation</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.hsbench.HsBench.validate_hsbench_workload">
<code class="sig-name descname">validate_hsbench_workload</code><span class="sig-paren">(</span><em class="sig-param">result=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.hsbench.HsBench.validate_hsbench_workload" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate if workload was running on the app-pod</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference internal" href="#ocs_ci.ocs.exceptions.UnexpectedBehaviour" title="ocs_ci.ocs.exceptions.UnexpectedBehaviour"><strong>UnexpectedBehaviour</strong></a> – if result.csv file doesn’t contain output data.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.hsbench.HsBench.validate_reshard_process">
<code class="sig-name descname">validate_reshard_process</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.hsbench.HsBench.validate_reshard_process" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate reshard process</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference internal" href="#ocs_ci.ocs.exceptions.CommandFailed" title="ocs_ci.ocs.exceptions.CommandFailed"><strong>CommandFailed</strong></a> – If reshard process fails</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.hsbench.HsBench.validate_s3_objects">
<code class="sig-name descname">validate_s3_objects</code><span class="sig-paren">(</span><em class="sig-param">upgrade=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.hsbench.HsBench.validate_s3_objects" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate S3 objects using ‘radosgw-admin’ on single bucket
Validate objects in buckets after completed upgrade</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>upgrade</strong> (<em>str</em>) – Upgrade status</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="#ocs_ci.ocs.exceptions.UnexpectedBehaviour" title="ocs_ci.ocs.exceptions.UnexpectedBehaviour"><strong>UnexpectedBehaviour</strong></a> – If objects pre-upgrade and post-upgrade are not identical.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-ocs_ci.ocs.jenkins">
<span id="ocs-ci-ocs-jenkins-module"></span><h2>ocs_ci.ocs.jenkins module<a class="headerlink" href="#module-ocs_ci.ocs.jenkins" title="Permalink to this headline">¶</a></h2>
<p>Jenkins Class to run jenkins specific tests</p>
<dl class="class">
<dt id="ocs_ci.ocs.jenkins.Jenkins">
<em class="property">class </em><code class="sig-prename descclassname">ocs_ci.ocs.jenkins.</code><code class="sig-name descname">Jenkins</code><span class="sig-paren">(</span><em class="sig-param">num_of_projects=1</em>, <em class="sig-param">num_of_builds=1</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.jenkins.Jenkins" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Workload operation using Jenkins</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>projects</strong> (<em>iterable</em>) – project names</p></li>
<li><p><strong>num_of_builds</strong> (<em>int</em>) – number of builds per project</p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="ocs_ci.ocs.jenkins.Jenkins.cleanup">
<code class="sig-name descname">cleanup</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.jenkins.Jenkins.cleanup" title="Permalink to this definition">¶</a></dt>
<dd><p>Clean up</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.jenkins.Jenkins.create_app_jenkins">
<code class="sig-name descname">create_app_jenkins</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.jenkins.Jenkins.create_app_jenkins" title="Permalink to this definition">¶</a></dt>
<dd><p>create application jenkins</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.jenkins.Jenkins.create_jenkins_build_config">
<code class="sig-name descname">create_jenkins_build_config</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.jenkins.Jenkins.create_jenkins_build_config" title="Permalink to this definition">¶</a></dt>
<dd><p>create jenkins build config</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.jenkins.Jenkins.create_jenkins_pvc">
<code class="sig-name descname">create_jenkins_pvc</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.jenkins.Jenkins.create_jenkins_pvc" title="Permalink to this definition">¶</a></dt>
<dd><p>create jenkins pvc</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>pvc_objs</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>List</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.jenkins.Jenkins.create_ocs_jenkins_template">
<code class="sig-name descname">create_ocs_jenkins_template</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.jenkins.Jenkins.create_ocs_jenkins_template" title="Permalink to this definition">¶</a></dt>
<dd><p>Create OCS Jenkins Template</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.jenkins.Jenkins.create_project_names">
<code class="sig-name descname">create_project_names</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.jenkins.Jenkins.create_project_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Create project names</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.jenkins.Jenkins.export_builds_results_to_googlesheet">
<code class="sig-name descname">export_builds_results_to_googlesheet</code><span class="sig-paren">(</span><em class="sig-param">sheet_name='E2E Workloads'</em>, <em class="sig-param">sheet_index=3</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.jenkins.Jenkins.export_builds_results_to_googlesheet" title="Permalink to this definition">¶</a></dt>
<dd><p>Collect builds results, output to google spreadsheet</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sheet_name</strong> (<em>str</em>) – Name of the sheet</p></li>
<li><p><strong>sheet_index</strong> (<em>int</em>) – Index of sheet</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.jenkins.Jenkins.get_build_duration_time">
<code class="sig-name descname">get_build_duration_time</code><span class="sig-paren">(</span><em class="sig-param">namespace</em>, <em class="sig-param">build_name</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.jenkins.Jenkins.get_build_duration_time" title="Permalink to this definition">¶</a></dt>
<dd><p>get build duration time</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>namespace</strong> (<em>str</em>) – get build in namespace</p></li>
<li><p><strong>build_name</strong> (<em>str</em>) – the name of the jenkins build</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.jenkins.Jenkins.get_build_name_by_pattern">
<code class="sig-name descname">get_build_name_by_pattern</code><span class="sig-paren">(</span><em class="sig-param">pattern='client'</em>, <em class="sig-param">namespace=None</em>, <em class="sig-param">filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.jenkins.Jenkins.get_build_name_by_pattern" title="Permalink to this definition">¶</a></dt>
<dd><p>Get build name by pattern</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>build name</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.jenkins.Jenkins.get_builds_obj">
<code class="sig-name descname">get_builds_obj</code><span class="sig-paren">(</span><em class="sig-param">namespace</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.jenkins.Jenkins.get_builds_obj" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all jenkins builds</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>jenkins deploy pod objects list</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>List</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.jenkins.Jenkins.get_builds_sorted_by_number">
<code class="sig-name descname">get_builds_sorted_by_number</code><span class="sig-paren">(</span><em class="sig-param">project</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.jenkins.Jenkins.get_builds_sorted_by_number" title="Permalink to this definition">¶</a></dt>
<dd><p>Get builds per project and sort builds by build name number</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>project</strong> (<em>str</em>) – project name</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of Jenkins build OCS obj</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>List</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.jenkins.Jenkins.get_jenkins_deploy_pods">
<code class="sig-name descname">get_jenkins_deploy_pods</code><span class="sig-paren">(</span><em class="sig-param">namespace</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.jenkins.Jenkins.get_jenkins_deploy_pods" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all jenkins deploy pods</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>namespace</strong> (<em>str</em>) – get pods in namespace</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>jenkins deploy pod objects list</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pod_objs (list)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.jenkins.Jenkins.get_node_name_where_jenkins_pod_not_hosted">
<code class="sig-name descname">get_node_name_where_jenkins_pod_not_hosted</code><span class="sig-paren">(</span><em class="sig-param">node_type='worker'</em>, <em class="sig-param">num_of_nodes=1</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.jenkins.Jenkins.get_node_name_where_jenkins_pod_not_hosted" title="Permalink to this definition">¶</a></dt>
<dd><p>get nodes</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>node_type</strong> (<em>str</em>) – The node type  (e.g. worker, master)</p></li>
<li><p><strong>num_of_nodes</strong> (<em>int</em>) – The number of nodes to be returned</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of compute node names</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.jenkins.Jenkins.number_builds_per_project">
<em class="property">property </em><code class="sig-name descname">number_builds_per_project</code><a class="headerlink" href="#ocs_ci.ocs.jenkins.Jenkins.number_builds_per_project" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.jenkins.Jenkins.number_projects">
<em class="property">property </em><code class="sig-name descname">number_projects</code><a class="headerlink" href="#ocs_ci.ocs.jenkins.Jenkins.number_projects" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.jenkins.Jenkins.print_completed_builds_results">
<code class="sig-name descname">print_completed_builds_results</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.jenkins.Jenkins.print_completed_builds_results" title="Permalink to this definition">¶</a></dt>
<dd><p>Get builds logs and print them on table</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.jenkins.Jenkins.start_build">
<code class="sig-name descname">start_build</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.jenkins.Jenkins.start_build" title="Permalink to this definition">¶</a></dt>
<dd><p>Start build on jenkins</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.jenkins.Jenkins.wait_for_build_to_complete">
<code class="sig-name descname">wait_for_build_to_complete</code><span class="sig-paren">(</span><em class="sig-param">timeout=1200</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.jenkins.Jenkins.wait_for_build_to_complete" title="Permalink to this definition">¶</a></dt>
<dd><p>Wait for build status to reach complete state</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>timeout</strong> (<em>int</em>) – Time  in seconds to wait</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.jenkins.Jenkins.wait_for_jenkins_deploy_status">
<code class="sig-name descname">wait_for_jenkins_deploy_status</code><span class="sig-paren">(</span><em class="sig-param">status</em>, <em class="sig-param">timeout=600</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.jenkins.Jenkins.wait_for_jenkins_deploy_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Wait for jenkins deploy pods status to reach running/completed</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>status</strong> (<em>str</em>) – status to reach Running or Completed</p></li>
<li><p><strong>timeout</strong> (<em>int</em>) – Time in seconds to wait</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-ocs_ci.ocs.longevity">
<span id="ocs-ci-ocs-longevity-module"></span><h2>ocs_ci.ocs.longevity module<a class="headerlink" href="#module-ocs_ci.ocs.longevity" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ocs_ci.ocs.longevity.Longevity">
<em class="property">class </em><code class="sig-prename descclassname">ocs_ci.ocs.longevity.</code><code class="sig-name descname">Longevity</code><a class="headerlink" href="#ocs_ci.ocs.longevity.Longevity" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class consists of the library functions and params required for Longevity testing</p>
<dl class="method">
<dt id="ocs_ci.ocs.longevity.Longevity.cluster_sanity_check">
<code class="sig-name descname">cluster_sanity_check</code><span class="sig-paren">(</span><em class="sig-param">cluster_health=True</em>, <em class="sig-param">db_usage=True</em>, <em class="sig-param">resource_utilization=True</em>, <em class="sig-param">disk_utilization=True</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.longevity.Longevity.cluster_sanity_check" title="Permalink to this definition">¶</a></dt>
<dd><p>Cluster sanity checks</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cluster_health</strong> (<em>bool</em>) – Checks the cluster health if set to True</p></li>
<li><p><strong>db_usage</strong> (<em>bool</em>) – Get the mon and noobaa db usage if set to True</p></li>
<li><p><strong>resource_utilization</strong> (<em>bool</em>) – Get the Memory, CPU utilization of nodes and pods if set to True</p></li>
<li><p><strong>disk_utilization</strong> (<em>bool</em>) – Get the osd and total cluster disk utilization if set to True</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Returns cluster sanity checks outputs in a nested dictionary</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>cluster_sanity_check_dict (dict)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.longevity.Longevity.collect_cluster_sanity_checks_outputs">
<code class="sig-name descname">collect_cluster_sanity_checks_outputs</code><span class="sig-paren">(</span><em class="sig-param">dir_name=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.longevity.Longevity.collect_cluster_sanity_checks_outputs" title="Permalink to this definition">¶</a></dt>
<dd><p>Collect cluster sanity checks outputs and store the outputs in ocs-ci log directory</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dir_name</strong> (<em>str</em>) – By default the cluster sanity checks outputs are stored in</p></li>
<li><p><strong>directory.</strong> (<em>ocs-ci-log_path/cluster_sanity_outputs</em>) – </p></li>
<li><p><strong>dir_name input is provided</strong><strong>, </strong><strong>a new directory with that name gets created under</strong> (<em>when</em>) – </p></li>
<li><p><strong>and the outputs gets collected inside it</strong> (<em>ocs-ci-log_path/cluster_sanity_outputs/&lt;dir_name&gt;</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.longevity.Longevity.construct_stage_builder_bulk_pod_creation_yaml">
<code class="sig-name descname">construct_stage_builder_bulk_pod_creation_yaml</code><span class="sig-paren">(</span><em class="sig-param">pvc_list</em>, <em class="sig-param">namespace</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.longevity.Longevity.construct_stage_builder_bulk_pod_creation_yaml" title="Permalink to this definition">¶</a></dt>
<dd><p>This function constructs bulks pod.yamls to create bulk pods using kube_jobs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pvc_list</strong> (<em>list</em>) – List of PVCs</p></li>
<li><p><strong>namespace</strong> (<em>str</em>) – Namespace where the resource has to be created</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of all Pod.yaml dict list</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pods_dict_list (list)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.longevity.Longevity.construct_stage_builder_bulk_pvc_creation_yaml">
<code class="sig-name descname">construct_stage_builder_bulk_pvc_creation_yaml</code><span class="sig-paren">(</span><em class="sig-param">num_of_pvcs</em>, <em class="sig-param">pvc_size</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.longevity.Longevity.construct_stage_builder_bulk_pvc_creation_yaml" title="Permalink to this definition">¶</a></dt>
<dd><p>This function constructs pvc.yamls to create bulk of pvc’s using kube_jobs.
It constructs yamls with the specified number of PVCs of each supported
type and access mode.</p>
<p>Eg: num_of_pvcs = 30
The function creates a total of 120 PVCs of below types and access modes
RBD-Filesystemvolume  -&gt; 30 RWO PVCs
CEPHFS                -&gt; 30 RWO PVCs, 30 RWX PVCs
RBD-Block             -&gt; 30 RWX PVCs</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_of_pvcs</strong> (<em>int</em>) – Bulk PVC count</p></li>
<li><p><strong>pvc_size</strong> (<em>str</em>) – size of all pvcs to be created with Gi suffix (e.g. 10Gi).</p></li>
<li><p><strong>None</strong><strong>, </strong><strong>random size pvc will be created</strong> (<em>If</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of all PVC.yaml dicts</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>all_pvc_dict_list (list)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.longevity.Longevity.construct_stage_builder_kube_job">
<code class="sig-name descname">construct_stage_builder_kube_job</code><span class="sig-paren">(</span><em class="sig-param">obj_dict_list</em>, <em class="sig-param">namespace</em>, <em class="sig-param">kube_job_name='job_profile'</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.longevity.Longevity.construct_stage_builder_kube_job" title="Permalink to this definition">¶</a></dt>
<dd><p>This function constructs kube object config file for the kube object</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obj_dict_list</strong> (<em>list</em>) – List of dictionaries with kube objects,</p></li>
<li><p><strong>return value of construct_stage_builder_bulk_pvc_creation_yaml</strong><strong>(</strong><strong>)</strong> (<em>the</em>) – </p></li>
<li><p><strong>namespace</strong> (<em>str</em>) – Namespace where the object has to be deployed</p></li>
<li><p><strong>name</strong> (<em>str</em>) – Name of this object config file</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of all PVC.yaml dicts</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pvc_dict_list (list)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.longevity.Longevity.create_stage_builder_kube_job">
<code class="sig-name descname">create_stage_builder_kube_job</code><span class="sig-paren">(</span><em class="sig-param">kube_job_obj_list</em>, <em class="sig-param">namespace</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.longevity.Longevity.create_stage_builder_kube_job" title="Permalink to this definition">¶</a></dt>
<dd><p>Create kube jobs</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kube_job_list</strong> (<em>list</em>) – List of kube jobs</p></li>
<li><p><strong>namespace</strong> (<em>str</em>) – Namespace where the job has to be created</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.longevity.Longevity.create_stagebuilder_all_pvc_types">
<code class="sig-name descname">create_stagebuilder_all_pvc_types</code><span class="sig-paren">(</span><em class="sig-param">num_of_pvc</em>, <em class="sig-param">namespace</em>, <em class="sig-param">pvc_size</em>, <em class="sig-param">kube_job_name='all_pvc_job_profile'</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.longevity.Longevity.create_stagebuilder_all_pvc_types" title="Permalink to this definition">¶</a></dt>
<dd><p>Create stagebuilder PVCs with all supported PVC types and access modes</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_of_pvc</strong> (<em>int</em>) – Bulk PVC count</p></li>
<li><p><strong>namespace</strong> (<em>str</em>) – Namespace where the Kube job/PODs are to be created</p></li>
<li><p><strong>pvc_size</strong> (<em>str</em>) – size of all pvcs to be created with Gi suffix (e.g. 10Gi).</p></li>
<li><p><strong>None</strong><strong>, </strong><strong>random size pvc will be created</strong> (<em>If</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of all PVC.yaml dicts</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pvc_job_file_list (list)</p>
</dd>
</dl>
<p>Raises:
AssertionError: If not all PVCs reached Bound state</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.longevity.Longevity.create_stagebuilder_obc">
<code class="sig-name descname">create_stagebuilder_obc</code><span class="sig-paren">(</span><em class="sig-param">num_of_obcs</em>, <em class="sig-param">namespace</em>, <em class="sig-param">sc_name='openshift-storage.noobaa.io'</em>, <em class="sig-param">obc_kube_job_name='obc_job_profile'</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.longevity.Longevity.create_stagebuilder_obc" title="Permalink to this definition">¶</a></dt>
<dd><p>Create stagebuilder OBC</p>
<p>It first constructs bulk obc.yamls with the specified number of OBCs and
then creates bulk obc’s using the kube_jobs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>namespace</strong> (<em>str</em>) – Namespace uses to create bulk of obc</p></li>
<li><p><strong>sc_name</strong> (<em>str</em>) – storage class name using for obc creation; By default uses</p></li>
<li><p><strong>storage class 'openshift-storage.noobaa.io'</strong> (<em>Noobaa</em>) – </p></li>
<li><p><strong>num_of_obcs</strong> (<em>str</em>) – Bulk obc count</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of all OBC.yaml dicts</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>obc_job_file (list)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.longevity.Longevity.create_stagebuilder_pods_with_all_pvc_types">
<code class="sig-name descname">create_stagebuilder_pods_with_all_pvc_types</code><span class="sig-paren">(</span><em class="sig-param">num_of_pvc</em>, <em class="sig-param">namespace</em>, <em class="sig-param">pvc_size</em>, <em class="sig-param">pvc_kube_job_name='all_pvc_for_pod_attach_job_profile'</em>, <em class="sig-param">pod_kube_job_name='all_pods_job_profile'</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.longevity.Longevity.create_stagebuilder_pods_with_all_pvc_types" title="Permalink to this definition">¶</a></dt>
<dd><p>Create stagebuilder pods with all supported PVC types and access modes</p>
<p>It first constructs bulk pvc.yamls with the specified number of PVCs of each
supported type, access modes and then creates bulk pvc’s using the kube_jobs.
Once all the PVCs in the kube_jobs reaches BOUND state it then constructs bulk
pod.yamls for each of these PVCs using kube_job.</p>
<p>Eg: num_of_pvc = 30
The function creates a total of 120 PVCs of below types and access modes
RBD-Filesystemvolume  -&gt; 30 RWO PVCs
CEPHFS                -&gt; 30 RWO PVCs, 30 RWX PVCs
RBD-Block             -&gt; 30 RWX PVCs
and then creates pods for each of these PVCs. So, it will create 150 PODs</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_of_pvc</strong> (<em>int</em>) – Bulk PVC count</p></li>
<li><p><strong>namespace</strong> (<em>str</em>) – Namespace where the Kube job/PVCs/PODs are to be created</p></li>
<li><p><strong>pvc_size</strong> (<em>str</em>) – size of all pvcs to be created with Gi suffix (e.g. 10Gi).</p></li>
<li><p><strong>None</strong><strong>, </strong><strong>random size pvc will be created</strong> (<em>If</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of all POD.yaml and PVC.yaml dicts</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pod_pvc_job_file_list (list)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.longevity.Longevity.delete_stage_builder_kube_job">
<code class="sig-name descname">delete_stage_builder_kube_job</code><span class="sig-paren">(</span><em class="sig-param">kube_job_obj_list</em>, <em class="sig-param">namespace</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.longevity.Longevity.delete_stage_builder_kube_job" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete the stage builder kube jobs</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kube_job_obj_list</strong> (<em>list</em>) – List of kube jobs to delete</p></li>
<li><p><strong>namespace</strong> (<em>str</em>) – Namespace where the job is created</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.longevity.Longevity.get_pvc_bound_list">
<code class="sig-name descname">get_pvc_bound_list</code><span class="sig-paren">(</span><em class="sig-param">pvc_job_file_list</em>, <em class="sig-param">namespace</em>, <em class="sig-param">pvc_count</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.longevity.Longevity.get_pvc_bound_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the pvcs which are in Bound state from the given pvc job file list</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pvc_job_file_list</strong> (<em>list</em>) – List of all PVC.yaml dicts</p></li>
<li><p><strong>namespace</strong> (<em>str</em>) – Namespace where the resource has to be created</p></li>
<li><p><strong>pvc_count</strong> (<em>int</em>) – Bulk PVC count; If not specified the count will be</p></li>
<li><p><strong>from the kube job pvc yaml dict</strong> (<em>fetched</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of all PVCs in Bound state</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>AssertionError</strong> – If not all PVCs reached to Bound state</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.longevity.Longevity.get_resource_yaml_dict_from_kube_job_obj">
<code class="sig-name descname">get_resource_yaml_dict_from_kube_job_obj</code><span class="sig-paren">(</span><em class="sig-param">kube_job_obj</em>, <em class="sig-param">namespace</em>, <em class="sig-param">resource_name='PVC'</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.longevity.Longevity.get_resource_yaml_dict_from_kube_job_obj" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the resource (PVC/POD) yaml dict from the kube job object</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kube_job_obj</strong> (<em>obj</em>) – Kube job object</p></li>
<li><p><strong>namespace</strong> (<em>str</em>) – Namespace where the job is created</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of all resource yaml dicts</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>res_yaml_dict (list)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.longevity.Longevity.longevity_all_stages">
<code class="sig-name descname">longevity_all_stages</code><span class="sig-paren">(</span><em class="sig-param">project_factory</em>, <em class="sig-param">start_apps_workload</em>, <em class="sig-param">multi_pvc_pod_lifecycle_factory</em>, <em class="sig-param">multi_obc_lifecycle_factory</em>, <em class="sig-param">pod_factory</em>, <em class="sig-param">multi_pvc_clone_factory</em>, <em class="sig-param">multi_snapshot_factory</em>, <em class="sig-param">snapshot_restore_factory</em>, <em class="sig-param">teardown_factory</em>, <em class="sig-param">apps_run_time=540</em>, <em class="sig-param">stage_run_time=180</em>, <em class="sig-param">concurrent=False</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.longevity.Longevity.longevity_all_stages" title="Permalink to this definition">¶</a></dt>
<dd><p>Calling this function runs all the stages i.e Stage1, Stage2, Stage3, Stage4
of the ODF Longevity testing.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>project_factory</strong> – Fixture to create a new Project.</p></li>
<li><p><strong>start_apps_workload</strong> – Application workload fixture which reads the list of app workloads to run and
starts running those iterating over the workloads in the list for a specified duration</p></li>
<li><p><strong>multi_pvc_pod_lifecycle_factory</strong> – Fixture to create/delete multiple pvcs and pods, verify FIO and
measure pvc creation/deletion time and pod attach time</p></li>
<li><p><strong>multi_obc_lifecycle_factory</strong> – Fixture to create/delete multiple obcs and
measure their creation/deletion time.</p></li>
<li><p><strong>pod_factory</strong> – Fixture to create new PODs.</p></li>
<li><p><strong>multi_pvc_clone_factory</strong> – Fixture to create a clone from each PVC in the provided list of PVCs.</p></li>
<li><p><strong>multi_snapshot_factory</strong> – Fixture to create a VolumeSnapshot of each PVC in the provided list of PVCs.</p></li>
<li><p><strong>snapshot_restore_factory</strong> – Fixture to create a new PVCs out of the VolumeSnapshot provided.</p></li>
<li><p><strong>teardown_factory</strong> – Fixture to tear down a resource that was created during the test.</p></li>
<li><p><strong>apps_run_time</strong> (<em>int</em>) – start_apps_workload fixture run time in minutes</p></li>
<li><p><strong>stage_run_time</strong> (<em>int</em>) – Stage2, Stage3, Stage4 run time in minutes</p></li>
<li><p><strong>concurrent</strong> (<em>bool</em>) – If set to True, Stage2,3,4 gets executed concurrently, by default set to False</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.longevity.Longevity.stage_0">
<code class="sig-name descname">stage_0</code><span class="sig-paren">(</span><em class="sig-param">num_of_pvc</em>, <em class="sig-param">num_of_obc</em>, <em class="sig-param">pvc_size</em>, <em class="sig-param">namespace=None</em>, <em class="sig-param">ignore_teardown=True</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.longevity.Longevity.stage_0" title="Permalink to this definition">¶</a></dt>
<dd><p>This function creates the initial soft configuration required to start
longevity testing</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_of_pvc</strong> (<em>int</em>) – Bulk PVC count</p></li>
<li><p><strong>num_of_obc</strong> (<em>int</em>) – Bulk OBC count</p></li>
<li><p><strong>namespace</strong> (<em>str</em>) – Namespace where the Kube job/PVCs/PODsOBCs are to be created</p></li>
<li><p><strong>pvc_size</strong> (<em>str</em>) – size of all pvcs to be created with Gi suffix (e.g. 10Gi).</p></li>
<li><p><strong>None</strong><strong>, </strong><strong>random size pvc will be created</strong> (<em>If</em>) – </p></li>
<li><p><strong>ignore_teardown</strong> (<em>bool</em>) – Set it to True to skip deleting the created resources</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of all PVC, POD, OBC yaml dicts</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>kube_job_file_list (list)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.longevity.Longevity.stage_2">
<code class="sig-name descname">stage_2</code><span class="sig-paren">(</span><em class="sig-param">project_factory</em>, <em class="sig-param">multi_pvc_pod_lifecycle_factory</em>, <em class="sig-param">multi_obc_lifecycle_factory</em>, <em class="sig-param">num_of_pvcs=100</em>, <em class="sig-param">pvc_size=2</em>, <em class="sig-param">num_of_obcs=20</em>, <em class="sig-param">run_time=1440</em>, <em class="sig-param">measure=True</em>, <em class="sig-param">delay=600</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.longevity.Longevity.stage_2" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to handle automation of Longevity Stage 2 Sequential Steps i.e. Creation / Deletion of PVCs, PODs and
OBCs and measurement of creation / deletion times of the mentioned resources.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>project_factory</strong> – Fixture to create a new Project.</p></li>
<li><p><strong>multi_pvc_pod_lifecycle_factory</strong> – Fixture to create/delete multiple pvcs and pods and
measure pvc creation/deletion time and pod attach time.</p></li>
<li><p><strong>multi_obc_lifecycle_factory</strong> – Fixture to create/delete multiple obcs and
measure their creation/deletion time.</p></li>
<li><p><strong>num_of_pvcs</strong> (<em>int</em>) – Total Number of PVCs / PODs we want to create.</p></li>
<li><p><strong>pvc_size</strong> (<em>int</em>) – Size of each PVC in GB.</p></li>
<li><p><strong>num_of_obcs</strong> (<em>int</em>) – Number of OBCs we want to create of each type. (Total OBCs = num_of_obcs * 5)</p></li>
<li><p><strong>run_time</strong> (<em>int</em>) – Total Run Time in minutes.</p></li>
<li><p><strong>measure</strong> (<em>bool</em>) – True if we want to measure the performance metrics, False otherwise.</p></li>
<li><p><strong>delay</strong> (<em>int</em>) – Delay time (in seconds) between sequential and bulk operations as well as between cycles.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.longevity.Longevity.stage_3">
<code class="sig-name descname">stage_3</code><span class="sig-paren">(</span><em class="sig-param">project_factory</em>, <em class="sig-param">num_of_pvc=150</em>, <em class="sig-param">num_of_obc=150</em>, <em class="sig-param">pvc_size=None</em>, <em class="sig-param">delay=60</em>, <em class="sig-param">run_time=1440</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.longevity.Longevity.stage_3" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Concurrent bulk operations of following</dt><dd><p>PVC creation - all supported types  (RBD, CephFS, RBD-block)
PVC deletion - all supported types  (RBD, CephFS, RBD-block)
OBC creation
OBC deletion
APP pod creation - all supported types  (RBD, CephFS, RBD-block)
APP pod deletion - all supported types  (RBD, CephFS, RBD-block)</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>project_factory</strong> – Fixture to create a new Project.</p></li>
<li><p><strong>num_of_pvc</strong> (<em>int</em>) – Bulk PVC count</p></li>
<li><p><strong>num_of_obc</strong> (<em>int</em>) – Bulk OBC count</p></li>
<li><p><strong>pvc_size</strong> (<em>str</em>) – size of all pvcs to be created with Gi suffix (e.g. 10Gi).</p></li>
<li><p><strong>None</strong><strong>, </strong><strong>random size pvc will be created</strong> (<em>If</em>) – </p></li>
<li><p><strong>delay</strong> (<em>int</em>) – Delay in seconds before starting the next cycle</p></li>
<li><p><strong>run_time</strong> (<em>int</em>) – The amount of time the particular stage has to run (in minutes)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.longevity.Longevity.stage_4">
<code class="sig-name descname">stage_4</code><span class="sig-paren">(</span><em class="sig-param">project_factory</em>, <em class="sig-param">multi_pvc_pod_lifecycle_factory</em>, <em class="sig-param">pod_factory</em>, <em class="sig-param">multi_pvc_clone_factory</em>, <em class="sig-param">multi_snapshot_factory</em>, <em class="sig-param">snapshot_restore_factory</em>, <em class="sig-param">teardown_factory</em>, <em class="sig-param">num_of_pvcs=30</em>, <em class="sig-param">fio_percentage=25</em>, <em class="sig-param">pvc_size=2</em>, <em class="sig-param">run_time=180</em>, <em class="sig-param">pvc_size_new=4</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.longevity.Longevity.stage_4" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Function to handle automation of Longevity Stage 4 i.e.</dt><dd><ol class="arabic simple">
<li><dl class="simple">
<dt>Creation / Deletion of PODs, PVCs of different types +</dt><dd><p>fill data upto fio_percentage (default is 25%) of mount point space.</p>
</dd>
</dl>
</li>
<li><p>Creation / Deletion of Clones of the given PVCs.</p></li>
<li><p>Creation / Deletion of VolumeSnapshots of the given PVCs.</p></li>
<li><p>Restore the created VolumeSnapshots into a new set of PVCs.</p></li>
<li><p>Expansion of size of the original PVCs.</p></li>
</ol>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>project_factory</strong> – Fixture to create a new Project.</p></li>
<li><p><strong>multi_pvc_pod_lifecycle_factory</strong> – Fixture to create/delete multiple pvcs and pods, verify FIO and
measure pvc creation/deletion time and pod attach time</p></li>
<li><p><strong>pod_factory</strong> – Fixture to create new PODs.</p></li>
<li><p><strong>multi_pvc_clone_factory</strong> – Fixture to create a clone from each PVC in the provided list of PVCs.</p></li>
<li><p><strong>multi_snapshot_factory</strong> – Fixture to create a VolumeSnapshot of each PVC in the provided list of PVCs.</p></li>
<li><p><strong>snapshot_restore_factory</strong> – Fixture to create a new PVCs out of the VolumeSnapshot provided.</p></li>
<li><p><strong>teardown_factory</strong> – Fixture to tear down a resource that was created during the test.</p></li>
<li><p><strong>num_of_pvcs</strong> (<em>int</em>) – Total Number of PVCs we want to create for each operation (clone, snapshot, expand).</p></li>
<li><p><strong>fio_percentage</strong> (<em>float</em>) – Percentage of PVC space we want to be utilized for FIO.</p></li>
<li><p><strong>pvc_size</strong> (<em>int</em>) – Size of each PVC in GB.</p></li>
<li><p><strong>run_time</strong> (<em>int</em>) – Total Run Time in minutes.</p></li>
<li><p><strong>pvc_size_new</strong> (<em>int</em>) – Size of the expanded PVC in GB.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.longevity.Longevity.validate_obcs_in_kube_job_reached_running_state">
<code class="sig-name descname">validate_obcs_in_kube_job_reached_running_state</code><span class="sig-paren">(</span><em class="sig-param">kube_job_obj</em>, <em class="sig-param">namespace</em>, <em class="sig-param">num_of_obc</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.longevity.Longevity.validate_obcs_in_kube_job_reached_running_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate that OBCs in the kube job list reached BOUND state</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kube_job_obj</strong> (<em>obj</em>) – Kube Job Object</p></li>
<li><p><strong>namespace</strong> (<em>str</em>) – Namespace of OBC’s created</p></li>
<li><p><strong>num_of_obc</strong> (<em>int</em>) – Bulk OBCs count; If not specified the count will be</p></li>
<li><p><strong>from the kube job obc yaml dict</strong> (<em>fetched</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of all OBCs which is in Bound state.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>obc_bound_list (list)</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>AssertionError</strong> – If not all OBC reached to Bound state</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.longevity.Longevity.validate_pods_in_kube_job_reached_running_state">
<code class="sig-name descname">validate_pods_in_kube_job_reached_running_state</code><span class="sig-paren">(</span><em class="sig-param">kube_job_obj</em>, <em class="sig-param">namespace</em>, <em class="sig-param">pod_count=None</em>, <em class="sig-param">timeout=60</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.longevity.Longevity.validate_pods_in_kube_job_reached_running_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate PODs in the kube job list reached RUNNING state</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kube_job_obj_list</strong> (<em>list</em>) – List of Kube job objects</p></li>
<li><p><strong>namespace</strong> (<em>str</em>) – Namespace where the Kube job/PVCs are created</p></li>
<li><p><strong>pod_count</strong> (<em>int</em>) – Bulk PODs count; If not specified the count will be</p></li>
<li><p><strong>from the kube job pod yaml dict</strong> (<em>fetched</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of all PODs in RUNNING state</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>running_pods_list (list)</p>
</dd>
</dl>
<p>Raises:
AssertionError: If not all PODs reached to Running state</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.longevity.Longevity.validate_pvc_in_kube_job_reached_bound_state">
<code class="sig-name descname">validate_pvc_in_kube_job_reached_bound_state</code><span class="sig-paren">(</span><em class="sig-param">kube_job_obj_list</em>, <em class="sig-param">namespace</em>, <em class="sig-param">pvc_count</em>, <em class="sig-param">timeout=60</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.longevity.Longevity.validate_pvc_in_kube_job_reached_bound_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate PVCs in the kube job list reached BOUND state</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kube_job_obj_list</strong> (<em>list</em>) – List of Kube job objects</p></li>
<li><p><strong>namespace</strong> (<em>str</em>) – Namespace where the Kube job/PVCs are created</p></li>
<li><p><strong>pvc_count</strong> (<em>int</em>) – Bulk PVC count; If not specified the count will be</p></li>
<li><p><strong>from the kube job pvc yaml dict</strong> (<em>fetched</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of all PVCs in Bound state</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pvc_bound_list (list)</p>
</dd>
</dl>
<p>Raises:
AssertionError: If not all PVCs reached to Bound state</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.longevity.start_app_workload">
<code class="sig-prename descclassname">ocs_ci.ocs.longevity.</code><code class="sig-name descname">start_app_workload</code><span class="sig-paren">(</span><em class="sig-param">request</em>, <em class="sig-param">workloads_list=None</em>, <em class="sig-param">run_time=10</em>, <em class="sig-param">run_in_bg=True</em>, <em class="sig-param">delay=600</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.longevity.start_app_workload" title="Permalink to this definition">¶</a></dt>
<dd><p>This function reads the list of app workloads to run and
starts running those iterating over the workload in the list for a
specified duration</p>
<p>Usage:
start_app_workload(workloads_list=[‘pgsql’, ‘couchbase’, ‘cosbench’], run_time=60,
run_in_bg=True)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>workloads_list</strong> (<em>list</em>) – The list of app workloads to run</p></li>
<li><p><strong>run_time</strong> (<em>int</em>) – The amount of time the workloads should run (in minutes)</p></li>
<li><p><strong>run_in_bg</strong> (<em>bool</em>) – Runs the workload in background starting a thread</p></li>
<li><p><strong>delay</strong> (<em>int</em>) – Delay in seconds before starting the next cycle</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Raise:</dt><dd><p>UnsupportedWorkloadError: When the workload is not found in the supported_app_workloads list</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.longevity.start_ocp_workload">
<code class="sig-prename descclassname">ocs_ci.ocs.longevity.</code><code class="sig-name descname">start_ocp_workload</code><span class="sig-paren">(</span><em class="sig-param">workloads_list</em>, <em class="sig-param">run_in_bg=True</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.longevity.start_ocp_workload" title="Permalink to this definition">¶</a></dt>
<dd><dl>
<dt>This function reads the list of OCP workloads to run and</dt><dd><p>starts running those iterating over the elements in the list.</p>
<p>Usage:
start_ocp_workload(workloads_list=[‘logging’,’registry’], run_in_bg=True)</p>
<dl class="simple">
<dt>Args:</dt><dd><p>workloads_list (list): The list of ocp workloads to run
run_in_bg (bool): Runs the workload in background starting a thread</p>
</dd>
</dl>
</dd>
<dt>Raise:</dt><dd><p>UnsupportedWorkloadError: When the workload is not found in the supported_ocp_workloads list</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-ocs_ci.ocs.machine">
<span id="ocs-ci-ocs-machine-module"></span><h2>ocs_ci.ocs.machine module<a class="headerlink" href="#module-ocs_ci.ocs.machine" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="ocs_ci.ocs.machine.add_annotation_to_machine">
<code class="sig-prename descclassname">ocs_ci.ocs.machine.</code><code class="sig-name descname">add_annotation_to_machine</code><span class="sig-paren">(</span><em class="sig-param">annotation</em>, <em class="sig-param">machine_name</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.machine.add_annotation_to_machine" title="Permalink to this definition">¶</a></dt>
<dd><p>Add annotation to the machine
:param annotation: Annotation to be set on the machine
:type annotation: str
:param eg: annotation = “machine.openshift.io/exclude-node-draining=’’”
:param machine_name: machine name
:type machine_name: str</p>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.machine.add_node">
<code class="sig-prename descclassname">ocs_ci.ocs.machine.</code><code class="sig-name descname">add_node</code><span class="sig-paren">(</span><em class="sig-param">machine_set</em>, <em class="sig-param">count</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.machine.add_node" title="Permalink to this definition">¶</a></dt>
<dd><p>Add new node to the cluster</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>machine_set</strong> (<em>str</em>) – Name of a machine set to get increase replica count</p></li>
<li><p><strong>count</strong> (<em>int</em>) – Count to increase</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if commands executes successfully</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.machine.change_current_replica_count_to_ready_replica_count">
<code class="sig-prename descclassname">ocs_ci.ocs.machine.</code><code class="sig-name descname">change_current_replica_count_to_ready_replica_count</code><span class="sig-paren">(</span><em class="sig-param">machine_set</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.machine.change_current_replica_count_to_ready_replica_count" title="Permalink to this definition">¶</a></dt>
<dd><p>Change the current replica count to be equal to the ready replica count
We may use this function after deleting a node or after adding a new node.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>machine_set</strong> (<em>str</em>) – Name of the machine set</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if the change was made successfully. False otherwise</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.machine.check_machineset_exists">
<code class="sig-prename descclassname">ocs_ci.ocs.machine.</code><code class="sig-name descname">check_machineset_exists</code><span class="sig-paren">(</span><em class="sig-param">machine_set</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.machine.check_machineset_exists" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to check machineset exists or not</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>machine_set</strong> (<em>str</em>) – Name of the machine set</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if machineset exists, else false</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.machine.create_custom_machineset">
<code class="sig-prename descclassname">ocs_ci.ocs.machine.</code><code class="sig-name descname">create_custom_machineset</code><span class="sig-paren">(</span><em class="sig-param">role='app'</em>, <em class="sig-param">instance_type=None</em>, <em class="sig-param">labels=None</em>, <em class="sig-param">taints=None</em>, <em class="sig-param">zone='a'</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.machine.create_custom_machineset" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to create custom machineset works only for AWS
i.e. Using this user can create nodes with different instance type and role.
<a class="reference external" href="https://docs.openshift.com/container-platform/4.1/machine_management/creating-machineset.html">https://docs.openshift.com/container-platform/4.1/machine_management/creating-machineset.html</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>role</strong> (<em>str</em>) – Role type to be added for node eg: it will be app,worker</p></li>
<li><p><strong>instance_type</strong> (<em>str</em>) – Type of instance</p></li>
<li><p><strong>labels</strong> (<em>list</em>) – List of Labels (key, val) to be added to the node</p></li>
<li><p><strong>taints</strong> (<em>list</em>) – List of taints to be applied</p></li>
<li><p><strong>zone</strong> (<em>str</em>) – Machineset zone for node creation.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Created machineset name</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>machineset (str)</p>
</dd>
</dl>
<dl class="simple">
<dt>Raise:</dt><dd><p>ResourceNotFoundError: Incase machineset creation failed
UnsupportedPlatformError: Incase of wrong platform</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.machine.create_ocs_infra_nodes">
<code class="sig-prename descclassname">ocs_ci.ocs.machine.</code><code class="sig-name descname">create_ocs_infra_nodes</code><span class="sig-paren">(</span><em class="sig-param">num_nodes</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.machine.create_ocs_infra_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Create infra node instances</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>num_nodes</strong> (<em>int</em>) – Number of instances to be created</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list of instance names</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.machine.delete_custom_machineset">
<code class="sig-prename descclassname">ocs_ci.ocs.machine.</code><code class="sig-name descname">delete_custom_machineset</code><span class="sig-paren">(</span><em class="sig-param">machine_set</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.machine.delete_custom_machineset" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to delete custom machineset</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>machine_set</strong> (<em>str</em>) – Name of the machine set to be deleted</p></li>
<li><p><strong>WARN</strong> – Make sure it’s not OCS worker node machines set, if so then
OCS worker nodes and machine set will be deleted.</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Raise:</dt><dd><p>UnexpectedBehaviour: Incase machineset not deleted</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.machine.delete_machine">
<code class="sig-prename descclassname">ocs_ci.ocs.machine.</code><code class="sig-name descname">delete_machine</code><span class="sig-paren">(</span><em class="sig-param">machine_name</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.machine.delete_machine" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes a machine</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>machine_name</strong> (<em>str</em>) – Name of the machine you want to delete</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="#ocs_ci.ocs.exceptions.CommandFailed" title="ocs_ci.ocs.exceptions.CommandFailed"><strong>CommandFailed</strong></a> – In case yaml_file and resource_name wasn’t provided</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.machine.delete_machine_and_check_state_of_new_spinned_machine">
<code class="sig-prename descclassname">ocs_ci.ocs.machine.</code><code class="sig-name descname">delete_machine_and_check_state_of_new_spinned_machine</code><span class="sig-paren">(</span><em class="sig-param">machine_name</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.machine.delete_machine_and_check_state_of_new_spinned_machine" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes a machine and checks the state of the newly spinned
machine</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>machine_name</strong> (<em>str</em>) – Name of the machine you want to delete</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>New machine name</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>machine (str)</p>
</dd>
</dl>
<dl class="simple">
<dt>Raise:</dt><dd><p>ResourceNotFoundError: Incase machine creation failed</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.machine.get_labeled_nodes">
<code class="sig-prename descclassname">ocs_ci.ocs.machine.</code><code class="sig-name descname">get_labeled_nodes</code><span class="sig-paren">(</span><em class="sig-param">label</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.machine.get_labeled_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetches all nodes with specific label.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>label</strong> (<em>str</em>) – node label to look for</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of names of labeled nodes</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.machine.get_machine_from_machineset">
<code class="sig-prename descclassname">ocs_ci.ocs.machine.</code><code class="sig-name descname">get_machine_from_machineset</code><span class="sig-paren">(</span><em class="sig-param">machine_set</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.machine.get_machine_from_machineset" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the machine name from its associated machineset</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>machine_set</strong> (<em>str</em>) – Name of the machine set</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Machine names</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>List</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.machine.get_machine_from_node_name">
<code class="sig-prename descclassname">ocs_ci.ocs.machine.</code><code class="sig-name descname">get_machine_from_node_name</code><span class="sig-paren">(</span><em class="sig-param">node_name</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.machine.get_machine_from_node_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the associated machine name for the given node name</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>node_name</strong> (<em>str</em>) – Name of the node</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Machine name</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.machine.get_machine_objs">
<code class="sig-prename descclassname">ocs_ci.ocs.machine.</code><code class="sig-name descname">get_machine_objs</code><span class="sig-paren">(</span><em class="sig-param">machine_names=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.machine.get_machine_objs" title="Permalink to this definition">¶</a></dt>
<dd><p>Get machine objects by machine names</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>machine_names</strong> (<em>list</em>) – The machine names to get their objects</p></li>
<li><p><strong>None</strong><strong>, </strong><strong>will return all cluster machines</strong> (<em>If</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Cluster machine OCS objects</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.machine.get_machine_type">
<code class="sig-prename descclassname">ocs_ci.ocs.machine.</code><code class="sig-name descname">get_machine_type</code><span class="sig-paren">(</span><em class="sig-param">machine_name</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.machine.get_machine_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the machine type (e.g. worker, master)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>machine_name</strong> (<em>str</em>) – Name of the machine</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Type of the machine</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.machine.get_machines">
<code class="sig-prename descclassname">ocs_ci.ocs.machine.</code><code class="sig-name descname">get_machines</code><span class="sig-paren">(</span><em class="sig-param">machine_type='worker'</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.machine.get_machines" title="Permalink to this definition">¶</a></dt>
<dd><p>Get cluster’s machines according to the machine type (e.g. worker, master)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>machine_type</strong> (<em>str</em>) – The machine type (e.g. worker, master)</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The nodes OCP instances</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.machine.get_machineset_from_machine_name">
<code class="sig-prename descclassname">ocs_ci.ocs.machine.</code><code class="sig-name descname">get_machineset_from_machine_name</code><span class="sig-paren">(</span><em class="sig-param">machine_name</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.machine.get_machineset_from_machine_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the machineset associated with the machine name</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>machine_name</strong> (<em>str</em>) – Name of the machine</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Machineset name</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.machine.get_machineset_objs">
<code class="sig-prename descclassname">ocs_ci.ocs.machine.</code><code class="sig-name descname">get_machineset_objs</code><span class="sig-paren">(</span><em class="sig-param">machineset_names=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.machine.get_machineset_objs" title="Permalink to this definition">¶</a></dt>
<dd><p>Get machineset objects by machineset names</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>machineset_names</strong> (<em>list</em>) – The machineset names to get their objects</p></li>
<li><p><strong>None</strong><strong>, </strong><strong>will return all cluster machines</strong> (<em>If</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Cluster machineset OCS objects</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.machine.get_machinesets">
<code class="sig-prename descclassname">ocs_ci.ocs.machine.</code><code class="sig-name descname">get_machinesets</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.machine.get_machinesets" title="Permalink to this definition">¶</a></dt>
<dd><p>Get machine sets</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>list of machine sets</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>machine_sets (list)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.machine.get_ready_replica_count">
<code class="sig-prename descclassname">ocs_ci.ocs.machine.</code><code class="sig-name descname">get_ready_replica_count</code><span class="sig-paren">(</span><em class="sig-param">machine_set</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.machine.get_ready_replica_count" title="Permalink to this definition">¶</a></dt>
<dd><p>Get replica count which are in ready state in a machine set</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>machine_set</strong> (<em>str</em>) – Machineset name</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>replica count which are in ready state</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ready_replica (int)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.machine.get_replica_count">
<code class="sig-prename descclassname">ocs_ci.ocs.machine.</code><code class="sig-name descname">get_replica_count</code><span class="sig-paren">(</span><em class="sig-param">machine_set</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.machine.get_replica_count" title="Permalink to this definition">¶</a></dt>
<dd><p>Get replica count of a machine set</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>machine_set</strong> (<em>str</em>) – Name of a machine set to get replica count</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>replica count of a machine set</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>replica count (int)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.machine.get_storage_cluster">
<code class="sig-prename descclassname">ocs_ci.ocs.machine.</code><code class="sig-name descname">get_storage_cluster</code><span class="sig-paren">(</span><em class="sig-param">namespace='openshift-storage'</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.machine.get_storage_cluster" title="Permalink to this definition">¶</a></dt>
<dd><p>Get storage cluster name</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>namespace</strong> (<em>str</em>) – Namespace of the resource</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Storage cluster name</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.machine.set_replica_count">
<code class="sig-prename descclassname">ocs_ci.ocs.machine.</code><code class="sig-name descname">set_replica_count</code><span class="sig-paren">(</span><em class="sig-param">machine_set</em>, <em class="sig-param">count</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.machine.set_replica_count" title="Permalink to this definition">¶</a></dt>
<dd><p>Change the replica count of a machine set.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>machine_set</strong> (<em>str</em>) – Name of the machine set</p></li>
<li><p><strong>count</strong> (<em>int</em>) – The number of the new replica count</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if the change was made successfully. False otherwise</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.machine.wait_for_current_replica_count_to_reach_expected_value">
<code class="sig-prename descclassname">ocs_ci.ocs.machine.</code><code class="sig-name descname">wait_for_current_replica_count_to_reach_expected_value</code><span class="sig-paren">(</span><em class="sig-param">machine_set</em>, <em class="sig-param">expected_value</em>, <em class="sig-param">timeout=360</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.machine.wait_for_current_replica_count_to_reach_expected_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Wait for the current replica count to reach an expected value</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>machine_set</strong> (<em>str</em>) – Name of the machine set</p></li>
<li><p><strong>expected_value</strong> (<em>int</em>) – The expected value to reach</p></li>
<li><p><strong>timeout</strong> (<em>int</em>) – Time to wait for the current replica count to reach the expected value</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True, in case of the current replica count reached the expected value. False otherwise</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.machine.wait_for_new_node_to_be_ready">
<code class="sig-prename descclassname">ocs_ci.ocs.machine.</code><code class="sig-name descname">wait_for_new_node_to_be_ready</code><span class="sig-paren">(</span><em class="sig-param">machine_set</em>, <em class="sig-param">timeout=600</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.machine.wait_for_new_node_to_be_ready" title="Permalink to this definition">¶</a></dt>
<dd><p>Wait for the new node to reach ready state</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>machine_set</strong> (<em>str</em>) – Name of the machine set</p></li>
<li><p><strong>timeout</strong> (<em>int</em>) – Timeout in secs, default 10mins</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="#ocs_ci.ocs.exceptions.ResourceWrongStatusException" title="ocs_ci.ocs.exceptions.ResourceWrongStatusException"><strong>ResourceWrongStatusException</strong></a> – In case the new spun machine fails
    to reach Ready state or replica count didn’t match</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.machine.wait_for_ready_replica_count_to_reach_expected_value">
<code class="sig-prename descclassname">ocs_ci.ocs.machine.</code><code class="sig-name descname">wait_for_ready_replica_count_to_reach_expected_value</code><span class="sig-paren">(</span><em class="sig-param">machine_set</em>, <em class="sig-param">expected_value</em>, <em class="sig-param">timeout=180</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.machine.wait_for_ready_replica_count_to_reach_expected_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Wait for the ready replica count to reach an expected value</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>machine_set</strong> (<em>str</em>) – Name of the machine set</p></li>
<li><p><strong>expected_value</strong> (<em>int</em>) – The expected value to reach</p></li>
<li><p><strong>timeout</strong> (<em>int</em>) – Time to wait for the ready replica count to reach the expected value</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True, in case of the ready replica count reached the expected value. False otherwise</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-ocs_ci.ocs.managedservice">
<span id="ocs-ci-ocs-managedservice-module"></span><h2>ocs_ci.ocs.managedservice module<a class="headerlink" href="#module-ocs_ci.ocs.managedservice" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="ocs_ci.ocs.managedservice.change_current_index_to_default_index">
<code class="sig-prename descclassname">ocs_ci.ocs.managedservice.</code><code class="sig-name descname">change_current_index_to_default_index</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.managedservice.change_current_index_to_default_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Change the current cluster index to the default cluster index</p>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.managedservice.check_and_change_current_index_to_default_index">
<code class="sig-prename descclassname">ocs_ci.ocs.managedservice.</code><code class="sig-name descname">check_and_change_current_index_to_default_index</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.managedservice.check_and_change_current_index_to_default_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that the default cluster index was equal to the current cluster index, and also change
the current cluster index to the default cluster index if they are not equal.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True, if the default cluster index was equal to the current cluster index</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.managedservice.check_default_cluster_context_index_equal_to_current_index">
<code class="sig-prename descclassname">ocs_ci.ocs.managedservice.</code><code class="sig-name descname">check_default_cluster_context_index_equal_to_current_index</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.managedservice.check_default_cluster_context_index_equal_to_current_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that the default cluster index is equal to the current cluster index</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True, if the default cluster index is equal to the current cluster index</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.managedservice.check_switch_to_correct_cluster_at_setup">
<code class="sig-prename descclassname">ocs_ci.ocs.managedservice.</code><code class="sig-name descname">check_switch_to_correct_cluster_at_setup</code><span class="sig-paren">(</span><em class="sig-param">cluster_type=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.managedservice.check_switch_to_correct_cluster_at_setup" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that we switch to the correct cluster type at setup according to the ‘cluster_type’
parameter provided</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>cluster_type</strong> (<em>str</em>) – The cluster type</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>AssertionError</strong> – In case of switching to the wrong cluster type.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.managedservice.get_admin_key_from_provider">
<code class="sig-prename descclassname">ocs_ci.ocs.managedservice.</code><code class="sig-name descname">get_admin_key_from_provider</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.managedservice.get_admin_key_from_provider" title="Permalink to this definition">¶</a></dt>
<dd><p>Get admin key from rook-ceph-tools pod on provider</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><dl class="simple">
<dt>The admin key obtained from rook-ceph-tools pod on provider.</dt><dd><p>Return empty string if admin key is not obtained.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.managedservice.get_consumer_names">
<code class="sig-prename descclassname">ocs_ci.ocs.managedservice.</code><code class="sig-name descname">get_consumer_names</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.managedservice.get_consumer_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the names of all consumers connected to this provider cluster.
Runs on provider cluster</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>names of all connected consumers, empty list if there are none</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.managedservice.get_dms_secret_name">
<code class="sig-prename descclassname">ocs_ci.ocs.managedservice.</code><code class="sig-name descname">get_dms_secret_name</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.managedservice.get_dms_secret_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Get name of the Dead Man’s Snitch secret for currently used addon.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>name of the secret</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.managedservice.get_managedocs_component_state">
<code class="sig-prename descclassname">ocs_ci.ocs.managedservice.</code><code class="sig-name descname">get_managedocs_component_state</code><span class="sig-paren">(</span><em class="sig-param">component</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.managedservice.get_managedocs_component_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the state of the given managedocs component:
alertmanager, prometheus or storageCluster.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>component</strong> (<em>str</em>) – the component of managedocs resource</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the state of the component</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.managedservice.get_pagerduty_secret_name">
<code class="sig-prename descclassname">ocs_ci.ocs.managedservice.</code><code class="sig-name descname">get_pagerduty_secret_name</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.managedservice.get_pagerduty_secret_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Get name of the PagerDuty secret for currently used addon.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>name of the secret</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.managedservice.get_parameters_secret_name">
<code class="sig-prename descclassname">ocs_ci.ocs.managedservice.</code><code class="sig-name descname">get_parameters_secret_name</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.managedservice.get_parameters_secret_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Get name of the addon parameters secret for currently used addon.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>name of the secret</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.managedservice.get_smtp_secret_name">
<code class="sig-prename descclassname">ocs_ci.ocs.managedservice.</code><code class="sig-name descname">get_smtp_secret_name</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.managedservice.get_smtp_secret_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Get name of the SMTP secret for currently used addon.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>name of the secret</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.managedservice.is_rados_connect_error_in_ex">
<code class="sig-prename descclassname">ocs_ci.ocs.managedservice.</code><code class="sig-name descname">is_rados_connect_error_in_ex</code><span class="sig-paren">(</span><em class="sig-param">ex</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.managedservice.is_rados_connect_error_in_ex" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if the RADOS connect error is found in the exception</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>ex</strong> (<em>Exception</em>) – The exception to check if the RADOS connect error is found</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True, if the RADOS connect error is found in the exception. False otherwise</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.managedservice.patch_consumer_toolbox">
<code class="sig-prename descclassname">ocs_ci.ocs.managedservice.</code><code class="sig-name descname">patch_consumer_toolbox</code><span class="sig-paren">(</span><em class="sig-param">ceph_admin_key=None</em>, <em class="sig-param">consumer_tools_pod=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.managedservice.patch_consumer_toolbox" title="Permalink to this definition">¶</a></dt>
<dd><p>Patch the rook-ceph-tools deployment with ceph.admin key. Applicable for MS platform only to enable rook-ceph-tools
to run ceph commands.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ceph_admin_key</strong> (<em>str</em>) – The ceph admin key which should be used to patch rook-ceph-tools deployment on consumer</p></li>
<li><p><strong>consumer_tools_pod</strong> (<a class="reference internal" href="ocs_ci.ocs.resources.html#ocs_ci.ocs.resources.ocs.OCS" title="ocs_ci.ocs.resources.ocs.OCS"><em>OCS</em></a>) – The rook-ceph-tools pod object.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The new pod object after patching the rook-ceph-tools deployment. If it fails to patch, it returns None.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="ocs_ci.ocs.resources.html#ocs_ci.ocs.resources.ocs.OCS" title="ocs_ci.ocs.resources.ocs.OCS">OCS</a></p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.managedservice.update_non_ga_version">
<code class="sig-prename descclassname">ocs_ci.ocs.managedservice.</code><code class="sig-name descname">update_non_ga_version</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.managedservice.update_non_ga_version" title="Permalink to this definition">¶</a></dt>
<dd><p>Update pull secret, catalog source, subscription and operators to consume
ODF and deployer versions provided in configuration.</p>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.managedservice.update_pull_secret">
<code class="sig-prename descclassname">ocs_ci.ocs.managedservice.</code><code class="sig-name descname">update_pull_secret</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.managedservice.update_pull_secret" title="Permalink to this definition">¶</a></dt>
<dd><p>Update pull secret with extra quay.io/rhceph-dev credentials.</p>
<p>Note: This is a hack done to allow odf to odf deployment before full addon is available.</p>
</dd></dl>

</div>
<div class="section" id="module-ocs_ci.ocs.mcg_workload">
<span id="ocs-ci-ocs-mcg-workload-module"></span><h2>ocs_ci.ocs.mcg_workload module<a class="headerlink" href="#module-ocs_ci.ocs.mcg_workload" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="ocs_ci.ocs.mcg_workload.create_workload_job">
<code class="sig-prename descclassname">ocs_ci.ocs.mcg_workload.</code><code class="sig-name descname">create_workload_job</code><span class="sig-paren">(</span><em class="sig-param">job_name</em>, <em class="sig-param">bucket</em>, <em class="sig-param">project</em>, <em class="sig-param">mcg_obj</em>, <em class="sig-param">resource_path</em>, <em class="sig-param">custom_options=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.mcg_workload.create_workload_job" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates kubernetes job that should utilize MCG bucket.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>job_name</strong> (<em>str</em>) – Name of the job</p></li>
<li><p><strong>bucket</strong> (<em>objt</em>) – MCG bucket with S3 interface</p></li>
<li><p><strong>project</strong> (<em>obj</em>) – OCP object representing OCP project which will be
used for the job</p></li>
<li><p><strong>mcg_obj</strong> (<em>obj</em>) – instance of MCG class</p></li>
<li><p><strong>resource_path</strong> (<em>str</em>) – path to directory where should be created
resources</p></li>
<li><p><strong>custom_options</strong> (<em>dict</em>) – Dictionary of lists containing tuples with
additional configuration for fio in format:
{‘section’: [(‘option’, ‘value’),…],…}
e.g.
{‘global’:[(‘name’,’bucketname’)],’create’:[(‘time_based’,’1’),(‘runtime’,’48h’)]}
Those values can be added to the config or rewrite already existing
values</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Job object</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>obj</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.mcg_workload.get_configmap_dict">
<code class="sig-prename descclassname">ocs_ci.ocs.mcg_workload.</code><code class="sig-name descname">get_configmap_dict</code><span class="sig-paren">(</span><em class="sig-param">fio_job</em>, <em class="sig-param">mcg_obj</em>, <em class="sig-param">bucket</em>, <em class="sig-param">custom_options=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.mcg_workload.get_configmap_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Fio configmap dictionary with configuration set for MCG workload.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fio_job</strong> (<em>dict</em>) – Definition of fio job</p></li>
<li><p><strong>mcg_obj</strong> (<em>obj</em>) – instance of MCG class</p></li>
<li><p><strong>bucket</strong> (<em>obj</em>) – MCG bucket to be used for workload</p></li>
<li><p><strong>custom_options</strong> (<em>dict</em>) – Dictionary of lists containing tuples with
additional configuration for fio in format:
{‘section’: [(‘option’, ‘value’),…],…}
e.g.
{‘global’:[(‘name’,’bucketname’)],’create’:[(‘time_based’,’1’),(‘runtime’,’48h’)]}
Those values can be added to the config or rewrite already existing
values</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Configmap definition</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.mcg_workload.get_job_dict">
<code class="sig-prename descclassname">ocs_ci.ocs.mcg_workload.</code><code class="sig-name descname">get_job_dict</code><span class="sig-paren">(</span><em class="sig-param">job_name</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.mcg_workload.get_job_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Fio job dictionary with configuration set for MCG workload.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>job_name</strong> (<em>str</em>) – Name of the workload job</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Specification for the workload job</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.mcg_workload.mcg_job_factory">
<code class="sig-prename descclassname">ocs_ci.ocs.mcg_workload.</code><code class="sig-name descname">mcg_job_factory</code><span class="sig-paren">(</span><em class="sig-param">request</em>, <em class="sig-param">bucket_factory</em>, <em class="sig-param">project_factory</em>, <em class="sig-param">mcg_obj</em>, <em class="sig-param">resource_path</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.mcg_workload.mcg_job_factory" title="Permalink to this definition">¶</a></dt>
<dd><p>MCG IO workload factory. Calling this fixture creates a OpenShift Job.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>request</strong> (<em>obj</em>) – request fixture instance</p></li>
<li><p><strong>bucket_factory</strong> (<em>func</em>) – factory function for bucket creation</p></li>
<li><p><strong>project_factory</strong> (<em>func</em>) – factory function for project creation</p></li>
<li><p><strong>mcg_obj</strong> (<em>obj</em>) – instance of MCG class</p></li>
<li><p><strong>resource_path</strong> (<em>str</em>) – path to directory where should be created
resources</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>MCG workload job factory function</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>func</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.mcg_workload.wait_for_active_pods">
<code class="sig-prename descclassname">ocs_ci.ocs.mcg_workload.</code><code class="sig-name descname">wait_for_active_pods</code><span class="sig-paren">(</span><em class="sig-param">job</em>, <em class="sig-param">desired_count</em>, <em class="sig-param">timeout=3</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.mcg_workload.wait_for_active_pods" title="Permalink to this definition">¶</a></dt>
<dd><p>Wait for job to load desired number of active pods in time specified
in timeout.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>job</strong> (<em>obj</em>) – OCS job object</p></li>
<li><p><strong>desired_count</strong> (<em>str</em>) – Number of desired active pods for provided job</p></li>
<li><p><strong>timeout</strong> (<em>int</em>) – Number of seconds to wait for the job to get into state</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>If job has desired number of active pods</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-ocs_ci.ocs.metrics">
<span id="ocs-ci-ocs-metrics-module"></span><h2>ocs_ci.ocs.metrics module<a class="headerlink" href="#module-ocs_ci.ocs.metrics" title="Permalink to this headline">¶</a></h2>
<p>OCS Metrics module.</p>
<p>Code in this module Supports monitoring test cases dealing with OCS metrics.</p>
<dl class="function">
<dt id="ocs_ci.ocs.metrics.get_missing_metrics">
<code class="sig-prename descclassname">ocs_ci.ocs.metrics.</code><code class="sig-name descname">get_missing_metrics</code><span class="sig-paren">(</span><em class="sig-param">prometheus</em>, <em class="sig-param">metrics</em>, <em class="sig-param">current_platform=None</em>, <em class="sig-param">start=None</em>, <em class="sig-param">stop=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.metrics.get_missing_metrics" title="Permalink to this definition">¶</a></dt>
<dd><p>Using given prometheus instance, check that all given metrics which are
expected to be available on current platform are there.</p>
<p>If start and stop timestamps are specified, the function will try to fetch
metric data from a middle of this time range (instead of fetching the
current value). Expected to be used with workload fixtures.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>prometheus</strong> (<a class="reference internal" href="ocs_ci.utility.html#ocs_ci.utility.prometheus.PrometheusAPI" title="ocs_ci.utility.prometheus.PrometheusAPI"><em>ocs_ci.utility.prometheus.PrometheusAPI</em></a>) – prometheus instance</p></li>
<li><p><strong>metrics</strong> (<em>list</em>) – list or tuple with metrics to be checked</p></li>
<li><p><strong>current_platform</strong> (<em>str</em>) – name of current platform (optional)</p></li>
<li><p><strong>start</strong> (<em>float</em>) – start timestamp (unix time number)</p></li>
<li><p><strong>stop</strong> (<em>float</em>) – stop timestamp (unix time number)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>metrics which were not available but should be</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-ocs_ci.ocs.monitoring">
<span id="ocs-ci-ocs-monitoring-module"></span><h2>ocs_ci.ocs.monitoring module<a class="headerlink" href="#module-ocs_ci.ocs.monitoring" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="ocs_ci.ocs.monitoring.check_ceph_health_status_metrics_on_prometheus">
<code class="sig-prename descclassname">ocs_ci.ocs.monitoring.</code><code class="sig-name descname">check_ceph_health_status_metrics_on_prometheus</code><span class="sig-paren">(</span><em class="sig-param">mgr_pod</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.monitoring.check_ceph_health_status_metrics_on_prometheus" title="Permalink to this definition">¶</a></dt>
<dd><p>Check ceph health status metric is collected on prometheus pod</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>mgr_pod</strong> (<em>str</em>) – Name of the mgr pod</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True on success, false otherwise</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.monitoring.check_ceph_metrics_available">
<code class="sig-prename descclassname">ocs_ci.ocs.monitoring.</code><code class="sig-name descname">check_ceph_metrics_available</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.monitoring.check_ceph_metrics_available" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that all healthy ceph metrics are available.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True on success, false otherwise</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.monitoring.check_if_monitoring_stack_exists">
<code class="sig-prename descclassname">ocs_ci.ocs.monitoring.</code><code class="sig-name descname">check_if_monitoring_stack_exists</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.monitoring.check_if_monitoring_stack_exists" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if monitoring is configured on the cluster with ODF backed PVCs</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True if monitoring is configured on the cluster, false otherwise</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.monitoring.check_pvcdata_collected_on_prometheus">
<code class="sig-prename descclassname">ocs_ci.ocs.monitoring.</code><code class="sig-name descname">check_pvcdata_collected_on_prometheus</code><span class="sig-paren">(</span><em class="sig-param">pvc_name</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.monitoring.check_pvcdata_collected_on_prometheus" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks whether initially pvc related data is collected on pod</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>pvc_name</strong> (<em>str</em>) – Name of the pvc</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True on success, raises UnexpectedBehaviour on failures</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.monitoring.create_configmap_cluster_monitoring_pod">
<code class="sig-prename descclassname">ocs_ci.ocs.monitoring.</code><code class="sig-name descname">create_configmap_cluster_monitoring_pod</code><span class="sig-paren">(</span><em class="sig-param">sc_name=None</em>, <em class="sig-param">telemeter_server_url=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.monitoring.create_configmap_cluster_monitoring_pod" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a configmap named cluster-monitoring-config based on the arguments.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sc_name</strong> (<em>str</em>) – Name of the storage class which will be used for
persistent storage needs of OCP Prometheus and Alert Manager.
If not defined, the related options won’t be present in the
monitoring config map and the default (non persistent) storage
will be used for OCP Prometheus and Alert Manager.</p></li>
<li><p><strong>telemeter_server_url</strong> (<em>str</em>) – URL of Telemeter server where telemeter
client (running in the cluster) will send it’s telemetry data. If
not defined, related option won’t be present in the monitoring
config map and the default (production) telemeter server will
receive the metrics data.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.monitoring.get_list_pvc_objs_created_on_monitoring_pods">
<code class="sig-prename descclassname">ocs_ci.ocs.monitoring.</code><code class="sig-name descname">get_list_pvc_objs_created_on_monitoring_pods</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.monitoring.get_list_pvc_objs_created_on_monitoring_pods" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns list of pvc objects created on monitoring pods</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>List of pvc objs</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.monitoring.get_metrics_persistentvolumeclaims_info">
<code class="sig-prename descclassname">ocs_ci.ocs.monitoring.</code><code class="sig-name descname">get_metrics_persistentvolumeclaims_info</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.monitoring.get_metrics_persistentvolumeclaims_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the created pvc information on prometheus pod</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The pvc metrics collected on prometheus pod</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>response.content (dict)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.monitoring.prometheus_health_check">
<code class="sig-prename descclassname">ocs_ci.ocs.monitoring.</code><code class="sig-name descname">prometheus_health_check</code><span class="sig-paren">(</span><em class="sig-param">name='monitoring'</em>, <em class="sig-param">kind='ClusterOperator'</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.monitoring.prometheus_health_check" title="Permalink to this definition">¶</a></dt>
<dd><p>Return true if the prometheus cluster is healthy</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Name of the resources</p></li>
<li><p><strong>kind</strong> (<em>str</em>) – Kind of the resource</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True on prometheus health is ok, false otherwise</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.monitoring.validate_pvc_are_mounted_on_monitoring_pods">
<code class="sig-prename descclassname">ocs_ci.ocs.monitoring.</code><code class="sig-name descname">validate_pvc_are_mounted_on_monitoring_pods</code><span class="sig-paren">(</span><em class="sig-param">pod_list</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.monitoring.validate_pvc_are_mounted_on_monitoring_pods" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate created pvc are mounted on monitoring pods</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>pod_list</strong> (<em>list</em>) – List of the pods where pvc are mounted</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.monitoring.validate_pvc_created_and_bound_on_monitoring_pods">
<code class="sig-prename descclassname">ocs_ci.ocs.monitoring.</code><code class="sig-name descname">validate_pvc_created_and_bound_on_monitoring_pods</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.monitoring.validate_pvc_created_and_bound_on_monitoring_pods" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate pvc’s created and bound in state
on monitoring pods</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>AssertionError</strong> – If no PVC are created or if any PVC are not
    in the Bound state</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-ocs_ci.ocs.node">
<span id="ocs-ci-ocs-node-module"></span><h2>ocs_ci.ocs.node module<a class="headerlink" href="#module-ocs_ci.ocs.node" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="ocs_ci.ocs.node.add_disk_to_node">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">add_disk_to_node</code><span class="sig-paren">(</span><em class="sig-param">node_obj</em>, <em class="sig-param">disk_size=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.add_disk_to_node" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a new disk to a node</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>node_obj</strong> (<a class="reference internal" href="ocs_ci.ocs.resources.html#ocs_ci.ocs.resources.ocs.OCS" title="ocs_ci.ocs.resources.ocs.OCS"><em>ocs_ci.ocs.resources.ocs.OCS</em></a>) – The node object</p></li>
<li><p><strong>disk_size</strong> (<em>int</em>) – The size of the new disk to attach. If not specified,
the disk size will be equal to the size of the previous disk.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.add_new_disk_for_vsphere">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">add_new_disk_for_vsphere</code><span class="sig-paren">(</span><em class="sig-param">sc_name</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.add_new_disk_for_vsphere" title="Permalink to this definition">¶</a></dt>
<dd><p>Check the PVS in use per node, and add a new disk to the worker node with the minimum PVS.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>sc_name</strong> (<em>str</em>) – The storage class name</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.add_new_node_and_label_it">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">add_new_node_and_label_it</code><span class="sig-paren">(</span><em class="sig-param">machineset_name</em>, <em class="sig-param">num_nodes=1</em>, <em class="sig-param">mark_for_ocs_label=True</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.add_new_node_and_label_it" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a new node for ipi and label it</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>machineset_name</strong> (<em>str</em>) – Name of the machine set</p></li>
<li><p><strong>num_nodes</strong> (<em>int</em>) – number of nodes to add</p></li>
<li><p><strong>mark_for_ocs_label</strong> (<em>bool</em>) – True if label the new node</p></li>
</ul>
</dd>
</dl>
<p>eg: add_new_node_and_label_it(“new-tdesala-zlqzn-worker-us-east-2a”)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>new spun node names</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.add_new_node_and_label_upi">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">add_new_node_and_label_upi</code><span class="sig-paren">(</span><em class="sig-param">node_type</em>, <em class="sig-param">num_nodes</em>, <em class="sig-param">mark_for_ocs_label=True</em>, <em class="sig-param">node_conf=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.add_new_node_and_label_upi" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a new node for aws/vmware upi platform and label it</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>node_type</strong> (<em>str</em>) – Type of node, RHEL or RHCOS</p></li>
<li><p><strong>num_nodes</strong> (<em>int</em>) – number of nodes to add</p></li>
<li><p><strong>mark_for_ocs_label</strong> (<em>bool</em>) – True if label the new node</p></li>
<li><p><strong>node_conf</strong> (<em>dict</em>) – The node configurations.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>new spun node names</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.add_new_nodes_and_label_after_node_failure_ipi">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">add_new_nodes_and_label_after_node_failure_ipi</code><span class="sig-paren">(</span><em class="sig-param">machineset_name</em>, <em class="sig-param">num_nodes=1</em>, <em class="sig-param">mark_for_ocs_label=True</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.add_new_nodes_and_label_after_node_failure_ipi" title="Permalink to this definition">¶</a></dt>
<dd><p>Add new nodes for ipi and label them after node failure</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>machineset_name</strong> (<em>str</em>) – Name of the machine set</p></li>
<li><p><strong>num_nodes</strong> (<em>int</em>) – number of nodes to add</p></li>
<li><p><strong>mark_for_ocs_label</strong> (<em>bool</em>) – True if label the new node</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>new spun node names</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.add_new_nodes_and_label_upi_lso">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">add_new_nodes_and_label_upi_lso</code><span class="sig-paren">(</span><em class="sig-param">node_type</em>, <em class="sig-param">num_nodes</em>, <em class="sig-param">mark_for_ocs_label=True</em>, <em class="sig-param">node_conf=None</em>, <em class="sig-param">add_disks=True</em>, <em class="sig-param">add_nodes_to_lvs_and_lvd=True</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.add_new_nodes_and_label_upi_lso" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a new node for aws/vmware upi lso platform and label it</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>node_type</strong> (<em>str</em>) – Type of node, RHEL or RHCOS</p></li>
<li><p><strong>num_nodes</strong> (<em>int</em>) – number of nodes to add</p></li>
<li><p><strong>mark_for_ocs_label</strong> (<em>bool</em>) – True if label the new nodes</p></li>
<li><p><strong>node_conf</strong> (<em>dict</em>) – The node configurations.</p></li>
<li><p><strong>add_disks</strong> (<em>bool</em>) – True if add disks to the new nodes.</p></li>
<li><p><strong>add_nodes_to_lvs_and_lvd</strong> (<em>bool</em>) – True if add the new nodes to
localVolumeDiscovery and localVolumeSet.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>new spun node names</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.add_node_to_lvd_and_lvs">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">add_node_to_lvd_and_lvs</code><span class="sig-paren">(</span><em class="sig-param">node_name</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.add_node_to_lvd_and_lvs" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a new node to localVolumeDiscovery and localVolumeSet</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>node_name</strong> (<em>str</em>) – the new node name to add to localVolumeDiscovery and localVolumeSet</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True in case the changes are applied successfully. False otherwise</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.check_for_zombie_process_on_node">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">check_for_zombie_process_on_node</code><span class="sig-paren">(</span><em class="sig-param">node_name=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.check_for_zombie_process_on_node" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if there are any zombie process on the nodes</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>node_name</strong> (<em>list</em>) – Node names list to check for zombie process</p>
</dd>
</dl>
<dl class="simple">
<dt>Raise:</dt><dd><p>ZombieProcessFoundException: In case zombie process are found on the node</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.check_node_ip_equal_to_associated_pods_ips">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">check_node_ip_equal_to_associated_pods_ips</code><span class="sig-paren">(</span><em class="sig-param">node_obj</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.check_node_ip_equal_to_associated_pods_ips" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that the node ip is equal to the pods ips associated with the node.
This function is mainly for the managed service deployment.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>node_obj</strong> (<a class="reference internal" href="ocs_ci.ocs.resources.html#ocs_ci.ocs.resources.ocs.OCS" title="ocs_ci.ocs.resources.ocs.OCS"><em>ocs_ci.ocs.resources.ocs.OCS</em></a>) – The node object</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>True, if the node ip is equal to the pods ips associated with the node.</dt><dd><p>False, otherwise.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.check_nodes_specs">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">check_nodes_specs</code><span class="sig-paren">(</span><em class="sig-param">min_memory</em>, <em class="sig-param">min_cpu</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.check_nodes_specs" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that the cluster worker nodes meet the required minimum CPU and memory</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>min_memory</strong> (<em>int</em>) – The required minimum memory in bytes</p></li>
<li><p><strong>min_cpu</strong> (<em>int</em>) – The required minimum number of vCPUs</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if all nodes meet the required minimum specs, False otherwise</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.check_taint_on_nodes">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">check_taint_on_nodes</code><span class="sig-paren">(</span><em class="sig-param">taint=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.check_taint_on_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to check for particular taint on nodes</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>taint</strong> (<em>str</em>) – The taint to check on nodes</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if taint is present on node. False otherwise</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.consumer_verification_steps_after_provider_node_replacement">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">consumer_verification_steps_after_provider_node_replacement</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.consumer_verification_steps_after_provider_node_replacement" title="Permalink to this definition">¶</a></dt>
<dd><p>Check the consumer verification steps after a provider node replacement
The steps are as follows:</p>
<ol class="arabic simple">
<li><dl class="simple">
<dt>Check if the consumer “storageProviderEndpoint” IP is found in the provider worker node ips</dt><dd><dl class="simple">
<dt>1.1 If not found, edit the rosa addon installation - modify the param ‘storage-provider-endpoint’</dt><dd><p>with the first provider worker node IP.</p>
</dd>
<dt>1.2 Wait and check again if the consumer “storageProviderEndpoint” IP is found in the</dt><dd><p>provider worker node IPs.</p>
</dd>
</dl>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>If found, Check if the mon endpoint ips are found in the provider worker node ips, and we can execute</dt><dd><p>a ceph command from the consumer
2.1 If not found, restart the ocs-operator pod
2.2 Wait and check again if the mon endpoint ips are found in the provider worker node ips, and we
can execute a ceph command from the consumer</p>
</dd>
</dl>
</li>
</ol>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True, if the consumer verification steps finished successfully. False, otherwise.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.delete_and_create_osd_node_aws_upi">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">delete_and_create_osd_node_aws_upi</code><span class="sig-paren">(</span><em class="sig-param">osd_node_name</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.delete_and_create_osd_node_aws_upi" title="Permalink to this definition">¶</a></dt>
<dd><p>Unschedule, drain and delete osd node, and creating a new osd node.
At the end of the function there should be the same number of osd nodes as
it was in the beginning, and also ceph health should be OK.
This function is for AWS UPI.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>osd_node_name</strong> (<em>str</em>) – the name of the osd node</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The new node name</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.delete_and_create_osd_node_ipi">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">delete_and_create_osd_node_ipi</code><span class="sig-paren">(</span><em class="sig-param">osd_node_name</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.delete_and_create_osd_node_ipi" title="Permalink to this definition">¶</a></dt>
<dd><p>Unschedule, drain and delete osd node, and creating a new osd node.
At the end of the function there should be the same number of osd nodes as
it was in the beginning, and also ceph health should be OK.</p>
<p>This function is for any IPI platform.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>osd_node_name</strong> (<em>str</em>) – the name of the osd node</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The new node name</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.delete_and_create_osd_node_vsphere_upi">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">delete_and_create_osd_node_vsphere_upi</code><span class="sig-paren">(</span><em class="sig-param">osd_node_name</em>, <em class="sig-param">use_existing_node=False</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.delete_and_create_osd_node_vsphere_upi" title="Permalink to this definition">¶</a></dt>
<dd><p>Unschedule, drain and delete osd node, and creating a new osd node.
At the end of the function there should be the same number of osd nodes as
it was in the beginning, and also ceph health should be OK.
This function is for vSphere UPI.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>osd_node_name</strong> (<em>str</em>) – the name of the osd node</p></li>
<li><p><strong>use_existing_node</strong> (<em>bool</em>) – If False, create a new node and label it.
If True, use an existing node to replace the deleted node
and label it.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The new node name</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.delete_and_create_osd_node_vsphere_upi_lso">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">delete_and_create_osd_node_vsphere_upi_lso</code><span class="sig-paren">(</span><em class="sig-param">osd_node_name</em>, <em class="sig-param">use_existing_node=False</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.delete_and_create_osd_node_vsphere_upi_lso" title="Permalink to this definition">¶</a></dt>
<dd><p>Unschedule, drain and delete osd node, and creating a new osd node.
At the end of the function there should be the same number of osd nodes as
it was in the beginning, and also ceph health should be OK.
This function is for vSphere UPI.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>osd_node_name</strong> (<em>str</em>) – the name of the osd node</p></li>
<li><p><strong>use_existing_node</strong> (<em>bool</em>) – If False, create a new node and label it.
If True, use an existing node to replace the deleted node
and label it.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The new node name</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.drain_nodes">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">drain_nodes</code><span class="sig-paren">(</span><em class="sig-param">node_names</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.drain_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Drain nodes</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>node_names</strong> (<em>list</em>) – The names of the nodes</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>TimeoutExpired</strong> – in case drain command fails to complete in time</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.generate_nodes_for_provider_worker_node_tests">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">generate_nodes_for_provider_worker_node_tests</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.generate_nodes_for_provider_worker_node_tests" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate worker node objects for the provider worker node tests.</p>
<p>The function generates the node objects as follows:
- If we have 3 worker nodes in the cluster, it generates all the 3 worker nodes
- If we have more than 3 worker nodes, it generates one mgr node, 2 mon nodes, and 2 osd nodes.
The nodes can overlap, but at least 3 nodes should be selected(and no more than 5 nodes).</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The list of the node objects for the provider node tests</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.get_all_nodes">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">get_all_nodes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.get_all_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the all nodes in cluster</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>List of node name</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.get_another_osd_node_in_same_rack_or_zone">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">get_another_osd_node_in_same_rack_or_zone</code><span class="sig-paren">(</span><em class="sig-param">failure_domain</em>, <em class="sig-param">node_obj</em>, <em class="sig-param">node_names_to_search=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.get_another_osd_node_in_same_rack_or_zone" title="Permalink to this definition">¶</a></dt>
<dd><p>Get another osd node in the same rack or zone of a given node.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>failure_domain</strong> (<em>str</em>) – The failure domain</p></li>
<li><p><strong>node_obj</strong> (<a class="reference internal" href="ocs_ci.ocs.resources.html#ocs_ci.ocs.resources.ocs.OCS" title="ocs_ci.ocs.resources.ocs.OCS"><em>ocs_ci.ocs.resources.ocs.OCS</em></a>) – The node object to search for another
osd node in the same rack or zone.</p></li>
<li><p><strong>node_names_to_search</strong> (<em>list</em>) – The list of node names to search for another osd node in the
same rack or zone. If not specified, it will search in all the worker nodes.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>The osd node in the same rack or zone of the given node.</dt><dd><p>If not found, it returns None.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="ocs_ci.ocs.resources.html#ocs_ci.ocs.resources.ocs.OCS" title="ocs_ci.ocs.resources.ocs.OCS">ocs_ci.ocs.resources.ocs.OCS</a></p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.get_app_pod_running_nodes">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">get_app_pod_running_nodes</code><span class="sig-paren">(</span><em class="sig-param">pod_obj</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.get_app_pod_running_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the app pod running node names</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>pod_obj</strong> (<em>list</em>) – List of app pod objects</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>App pod running node names</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.get_both_osd_and_app_pod_running_node">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">get_both_osd_and_app_pod_running_node</code><span class="sig-paren">(</span><em class="sig-param">osd_running_nodes</em>, <em class="sig-param">app_pod_running_nodes</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.get_both_osd_and_app_pod_running_node" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets both osd and app pod running node names</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>osd_running_nodes</strong> (<em>list</em>) – List of osd running node names</p></li>
<li><p><strong>app_pod_running_nodes</strong> (<em>list</em>) – List of app pod running node names</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Both OSD and app pod running node names</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.get_compute_node_names">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">get_compute_node_names</code><span class="sig-paren">(</span><em class="sig-param">no_replace=False</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.get_compute_node_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the compute node names</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>no_replace</strong> (<em>bool</em>) – If False ‘.’ will replaced with ‘-‘</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of compute node names</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.get_crashcollector_nodes">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">get_crashcollector_nodes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.get_crashcollector_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the nodes names where crashcollector pods are running</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>node names where crashcollector pods are running</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>set</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.get_encrypted_osd_devices">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">get_encrypted_osd_devices</code><span class="sig-paren">(</span><em class="sig-param">node_obj</em>, <em class="sig-param">node</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.get_encrypted_osd_devices" title="Permalink to this definition">¶</a></dt>
<dd><p>Get osd encrypted device names of a node</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>node_obj</strong> – OCP object of kind node</p></li>
<li><p><strong>node</strong> – node name</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of encrypted osd device names</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.get_master_nodes">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">get_master_nodes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.get_master_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetches all master nodes.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>List of names of master nodes</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.get_mon_running_nodes">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">get_mon_running_nodes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.get_mon_running_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the mon running node names</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>MON node names</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.get_node_az">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">get_node_az</code><span class="sig-paren">(</span><em class="sig-param">node</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.get_node_az" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the node availability zone</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>node</strong> (<a class="reference internal" href="ocs_ci.ocs.resources.html#ocs_ci.ocs.resources.ocs.OCS" title="ocs_ci.ocs.resources.ocs.OCS"><em>ocs_ci.ocs.resources.ocs.OCS</em></a>) – The node object</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The name of the node availability zone</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.get_node_from_machine_name">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">get_node_from_machine_name</code><span class="sig-paren">(</span><em class="sig-param">machine_name</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.get_node_from_machine_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Get node name from a given machine_name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>machine_name</strong> (<em>str</em>) – Name of Machine</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Name of Node (or None if not found)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.get_node_hostname_label">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">get_node_hostname_label</code><span class="sig-paren">(</span><em class="sig-param">node_obj</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.get_node_hostname_label" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the hostname label of a node</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>node_obj</strong> (<a class="reference internal" href="ocs_ci.ocs.resources.html#ocs_ci.ocs.resources.ocs.OCS" title="ocs_ci.ocs.resources.ocs.OCS"><em>ocs_ci.ocs.resources.ocs.OCS</em></a>) – The node object</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The node’s hostname label</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.get_node_index_in_local_block">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">get_node_index_in_local_block</code><span class="sig-paren">(</span><em class="sig-param">node_name</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.get_node_index_in_local_block" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the node index in the node values as it appears in the local block resource</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>node_name</strong> (<em>str</em>) – The node name to search for his index</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The node index in the nodeSelector values</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.get_node_internal_ip">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">get_node_internal_ip</code><span class="sig-paren">(</span><em class="sig-param">node_obj</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.get_node_internal_ip" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the node internal ip</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>node_obj</strong> (<a class="reference internal" href="ocs_ci.ocs.resources.html#ocs_ci.ocs.resources.ocs.OCS" title="ocs_ci.ocs.resources.ocs.OCS"><em>ocs_ci.ocs.resources.ocs.OCS</em></a>) – The node object</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The node internal ip or <cite>None</cite></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.get_node_ip_addresses">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">get_node_ip_addresses</code><span class="sig-paren">(</span><em class="sig-param">ipkind</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.get_node_ip_addresses" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets a dictionary of required IP addresses for all nodes</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>ipkind</strong> – ExternalIP or InternalIP or Hostname</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Internal or Exteranl IP addresses keyed off of node name</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.get_node_ips">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">get_node_ips</code><span class="sig-paren">(</span><em class="sig-param">node_type='worker'</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.get_node_ips" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the node public IP</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>node_type</strong> (<em>str</em>) – The node type (e.g. worker, master)</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Node IP’s</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.get_node_logs">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">get_node_logs</code><span class="sig-paren">(</span><em class="sig-param">node_name</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.get_node_logs" title="Permalink to this definition">¶</a></dt>
<dd><p>Get logs from a given node</p>
<p>pod_name (str): Name of the node</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Output of ‘dmesg’ run on node</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.get_node_mon_ids">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">get_node_mon_ids</code><span class="sig-paren">(</span><em class="sig-param">node_name</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.get_node_mon_ids" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the node mon ids</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>node_name</strong> (<em>str</em>) – The node name to get the mon ids</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The list of the mon ids</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.get_node_name">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">get_node_name</code><span class="sig-paren">(</span><em class="sig-param">node_obj</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.get_node_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Get oc node’s name</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>node_obj</strong> (<em>node_obj</em>) – oc node object</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>node’s name</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.get_node_names">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">get_node_names</code><span class="sig-paren">(</span><em class="sig-param">node_type='worker'</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.get_node_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Get node names</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>node_type</strong> (<em>str</em>) – The node type (e.g. worker, master)</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The node names</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.get_node_objs">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">get_node_objs</code><span class="sig-paren">(</span><em class="sig-param">node_names=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.get_node_objs" title="Permalink to this definition">¶</a></dt>
<dd><p>Get node objects by node names</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>node_names</strong> (<em>list</em>) – The node names to get their objects for.
If None, will return all cluster nodes</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Cluster node OCP objects</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.get_node_osd_ids">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">get_node_osd_ids</code><span class="sig-paren">(</span><em class="sig-param">node_name</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.get_node_osd_ids" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the node osd ids</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>node_name</strong> (<em>str</em>) – The node name to get the osd ids</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The list of the osd ids</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.get_node_pods">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">get_node_pods</code><span class="sig-paren">(</span><em class="sig-param">node_name</em>, <em class="sig-param">pods_to_search=None</em>, <em class="sig-param">raise_pod_not_found_error=False</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.get_node_pods" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all the pods of a specified node</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>node_name</strong> (<em>str</em>) – The node name to get the pods</p></li>
<li><p><strong>pods_to_search</strong> (<em>list</em>) – list of pods to search for the node pods.
If not specified, will search in all the pods.</p></li>
<li><p><strong>raise_pod_not_found_error</strong> (<em>bool</em>) – If True, it raises an exception, if one of the pods
in the pod names are not found. If False, it ignores the case of pod not found and
returns the pod objects of the rest of the pod nodes. The default value is False</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list of all the pods of the specified node</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.get_node_pods_to_scale_down">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">get_node_pods_to_scale_down</code><span class="sig-paren">(</span><em class="sig-param">node_name</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.get_node_pods_to_scale_down" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the pods of a node to scale down as described in the documents
of node replacement with LSO</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>node_name</strong> (<em>str</em>) – The node name</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The node’s pods to scale down</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.get_node_rack">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">get_node_rack</code><span class="sig-paren">(</span><em class="sig-param">node_obj</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.get_node_rack" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the worker node rack</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>node_obj</strong> (<a class="reference internal" href="ocs_ci.ocs.resources.html#ocs_ci.ocs.resources.ocs.OCS" title="ocs_ci.ocs.resources.ocs.OCS"><em>ocs_ci.ocs.resources.ocs.OCS</em></a>) – The node object</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The worker node rack name</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.get_node_rack_dict">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">get_node_rack_dict</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.get_node_rack_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Get worker node rack</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>{“Node name”:”Rack name”}</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.get_node_rack_or_zone">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">get_node_rack_or_zone</code><span class="sig-paren">(</span><em class="sig-param">failure_domain</em>, <em class="sig-param">node_obj</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.get_node_rack_or_zone" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the worker node rack or zone name based on the failure domain value</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>failure_domain</strong> (<em>str</em>) – The failure domain</p></li>
<li><p><strong>node_obj</strong> (<a class="reference internal" href="ocs_ci.ocs.resources.html#ocs_ci.ocs.resources.ocs.OCS" title="ocs_ci.ocs.resources.ocs.OCS"><em>ocs_ci.ocs.resources.ocs.OCS</em></a>) – The node object</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The worker node rack/zone name</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.get_node_rack_or_zone_dict">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">get_node_rack_or_zone_dict</code><span class="sig-paren">(</span><em class="sig-param">failure_domain</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.get_node_rack_or_zone_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Get worker node rack or zone dictionary based on the failure domain value</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>failure_domain</strong> (<em>str</em>) – The failure domain</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>{“Node name”:”Zone/Rack name”}</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.get_node_resource_utilization_from_adm_top">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">get_node_resource_utilization_from_adm_top</code><span class="sig-paren">(</span><em class="sig-param">nodename=None</em>, <em class="sig-param">node_type='worker'</em>, <em class="sig-param">print_table=False</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.get_node_resource_utilization_from_adm_top" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the node’s cpu and memory utilization in percentage using adm top command.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nodename</strong> (<em>str</em>) – The node name</p></li>
<li><p><strong>node_type</strong> (<em>str</em>) – The node type (e.g. master, worker)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>Node name and its cpu and memory utilization in</dt><dd><p>percentage</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.get_node_resource_utilization_from_oc_describe">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">get_node_resource_utilization_from_oc_describe</code><span class="sig-paren">(</span><em class="sig-param">nodename=None</em>, <em class="sig-param">node_type='worker'</em>, <em class="sig-param">print_table=False</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.get_node_resource_utilization_from_oc_describe" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the node’s cpu and memory utilization in percentage using oc describe node</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nodename</strong> (<em>str</em>) – The node name</p></li>
<li><p><strong>node_type</strong> (<em>str</em>) – The node type (e.g. master, worker)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>Node name and its cpu and memory utilization in</dt><dd><p>percentage</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.get_node_rook_ceph_pod_names">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">get_node_rook_ceph_pod_names</code><span class="sig-paren">(</span><em class="sig-param">node_name</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.get_node_rook_ceph_pod_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the rook ceph pod names associated with the node</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>node_name</strong> (<em>str</em>) – The node name</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The rook ceph pod names associated with the node</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.get_node_status">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">get_node_status</code><span class="sig-paren">(</span><em class="sig-param">node_obj</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.get_node_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the node status.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>node_obj</strong> (<a class="reference internal" href="ocs_ci.ocs.resources.html#ocs_ci.ocs.resources.ocs.OCS" title="ocs_ci.ocs.resources.ocs.OCS"><em>ocs_ci.ocs.resources.ocs.OCS</em></a>) – The node object</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The node status. If the command failed, it returns None.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.get_node_zone">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">get_node_zone</code><span class="sig-paren">(</span><em class="sig-param">node_obj</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.get_node_zone" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the worker node zone</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>node_obj</strong> (<a class="reference internal" href="ocs_ci.ocs.resources.html#ocs_ci.ocs.resources.ocs.OCS" title="ocs_ci.ocs.resources.ocs.OCS"><em>ocs_ci.ocs.resources.ocs.OCS</em></a>) – The node object</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The worker node zone name</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.get_node_zone_dict">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">get_node_zone_dict</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.get_node_zone_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Get worker node zone dictionary</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>{“Node name”:”Zone name”}</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.get_nodes">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">get_nodes</code><span class="sig-paren">(</span><em class="sig-param">node_type='worker'</em>, <em class="sig-param">num_of_nodes=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.get_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Get cluster’s nodes according to the node type (e.g. worker, master) and the
number of requested nodes from that type</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>node_type</strong> (<em>str</em>) – The node type (e.g. worker, master)</p></li>
<li><p><strong>num_of_nodes</strong> (<em>int</em>) – The number of nodes to be returned</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The nodes OCP instances</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.get_nodes_in_statuses">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">get_nodes_in_statuses</code><span class="sig-paren">(</span><em class="sig-param">statuses</em>, <em class="sig-param">node_objs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.get_nodes_in_statuses" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all nodes in specific statuses</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>statuses</strong> (<em>list</em>) – List of the statuses to search for the nodes</p></li>
<li><p><strong>node_objs</strong> (<em>list</em>) – The node objects to check their statues. If not specified,
it gets all the nodes.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>OCP objects representing the nodes in the specific statuses</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.get_nodes_racks_or_zones">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">get_nodes_racks_or_zones</code><span class="sig-paren">(</span><em class="sig-param">failure_domain</em>, <em class="sig-param">node_names</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.get_nodes_racks_or_zones" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the nodes racks or zones</p>
<p>failure_domain (str): The failure domain
node_names (list): The node names to get their racks or zones</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The nodes racks or zones</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.get_nodes_where_ocs_pods_running">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">get_nodes_where_ocs_pods_running</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.get_nodes_where_ocs_pods_running" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the node names where rook ceph pods are running</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>node names where rook ceph pods are running</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>set</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.get_ocs_nodes">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">get_ocs_nodes</code><span class="sig-paren">(</span><em class="sig-param">num_of_nodes=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.get_ocs_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the ocs nodes</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>num_of_nodes</strong> (<em>int</em>) – The number of ocs nodes to return. If not specified,
it returns all the ocs nodes.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of the ocs nodes</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.get_odf_zone_count">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">get_odf_zone_count</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.get_odf_zone_count" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the number of Availability zones used by ODF cluster</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the number of availability zones</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.get_osd_ids_per_node">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">get_osd_ids_per_node</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.get_osd_ids_per_node" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a dictionary of the osd ids per node</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The dictionary of the osd ids per node</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.get_osd_running_nodes">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">get_osd_running_nodes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.get_osd_running_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the osd running node names</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>OSD node names</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.get_osds_per_node">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">get_osds_per_node</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.get_osds_per_node" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the osd running pod names per node name</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>{“Node name”:[“osd running pod name running on the node”,..,]}</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.get_other_worker_nodes_in_same_rack_or_zone">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">get_other_worker_nodes_in_same_rack_or_zone</code><span class="sig-paren">(</span><em class="sig-param">failure_domain</em>, <em class="sig-param">node_obj</em>, <em class="sig-param">node_names_to_search=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.get_other_worker_nodes_in_same_rack_or_zone" title="Permalink to this definition">¶</a></dt>
<dd><p>Get other worker nodes in the same rack or zone of a given node.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>failure_domain</strong> (<em>str</em>) – The failure domain</p></li>
<li><p><strong>node_obj</strong> (<a class="reference internal" href="ocs_ci.ocs.resources.html#ocs_ci.ocs.resources.ocs.OCS" title="ocs_ci.ocs.resources.ocs.OCS"><em>ocs_ci.ocs.resources.ocs.OCS</em></a>) – The node object to search for other
worker nodes in the same rack or zone.</p></li>
<li><p><strong>node_names_to_search</strong> (<em>list</em>) – The list of node names to search the other worker nodes in
the same rack or zone. If not specified, it will search in all the worker nodes.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The list of the other worker nodes in the same rack or zone of the given node.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.get_provider">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">get_provider</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.get_provider" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the OCP Provider (Platform)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The Provider that the OCP is running on</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.get_running_pod_count_from_node">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">get_running_pod_count_from_node</code><span class="sig-paren">(</span><em class="sig-param">nodename=None</em>, <em class="sig-param">node_type='worker'</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.get_running_pod_count_from_node" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the node running pod count using oc describe node</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nodename</strong> (<em>str</em>) – The node name</p></li>
<li><p><strong>node_type</strong> (<em>str</em>) – The node type (e.g. master, worker)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Node name and its pod_count</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.get_typed_worker_nodes">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">get_typed_worker_nodes</code><span class="sig-paren">(</span><em class="sig-param">os_id='rhcos'</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.get_typed_worker_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Get worker nodes with specific OS</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>os_id</strong> (<em>str</em>) – OS type like rhcos, RHEL etc…</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list of worker nodes instances having specified os</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.get_worker_nodes">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">get_worker_nodes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.get_worker_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetches all worker nodes.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>List of names of worker nodes</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.get_worker_nodes_not_in_ocs">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">get_worker_nodes_not_in_ocs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.get_worker_nodes_not_in_ocs" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the worker nodes that are not ocs labeled.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>list of worker node objects that are not ocs labeled</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.gracefully_reboot_nodes">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">gracefully_reboot_nodes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.gracefully_reboot_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Gracefully reboot OpenShift Container Platform nodes</p>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.is_node_labeled">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">is_node_labeled</code><span class="sig-paren">(</span><em class="sig-param">node_name</em>, <em class="sig-param">label=&quot;cluster.ocs.openshift.io/openshift-storage=''&quot;</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.is_node_labeled" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if the node is labeled with a specified label.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>node_name</strong> (<em>str</em>) – The node name to check if it has the specific label</p></li>
<li><p><strong>label</strong> (<em>str</em>) – The name of the label. Default value is the OCS label.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if the node is labeled with the specified label. False otherwise</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.label_nodes">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">label_nodes</code><span class="sig-paren">(</span><em class="sig-param">nodes</em>, <em class="sig-param">label=&quot;cluster.ocs.openshift.io/openshift-storage=''&quot;</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.label_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Label nodes</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nodes</strong> (<em>list</em>) – list of node objects need to label</p></li>
<li><p><strong>label</strong> (<em>str</em>) – New label to be assigned for these nodes.
Default value is the OCS label</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.node_network_failure">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">node_network_failure</code><span class="sig-paren">(</span><em class="sig-param">node_names</em>, <em class="sig-param">wait=True</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.node_network_failure" title="Permalink to this definition">¶</a></dt>
<dd><p>Induce node network failure
Bring node network interface down, making the node unresponsive</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>node_names</strong> (<em>list</em>) – The names of the nodes</p></li>
<li><p><strong>wait</strong> (<em>bool</em>) – True in case wait for status is needed, False otherwise</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if node network fail is successful</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.node_replacement_verification_steps_ceph_side">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">node_replacement_verification_steps_ceph_side</code><span class="sig-paren">(</span><em class="sig-param">old_node_name</em>, <em class="sig-param">new_node_name</em>, <em class="sig-param">new_osd_node_name=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.node_replacement_verification_steps_ceph_side" title="Permalink to this definition">¶</a></dt>
<dd><p>Check the verification steps from the Ceph side, after the process
of node replacement as described in the docs</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>old_node_name</strong> (<em>str</em>) – The name of the old node that has been deleted</p></li>
<li><p><strong>new_node_name</strong> (<em>str</em>) – The name of the new node that has been created</p></li>
<li><p><strong>new_osd_node_name</strong> (<em>str</em>) – The name of the new node that has been added to osd nodes</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if all the verification steps passed. False otherwise</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.node_replacement_verification_steps_user_side">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">node_replacement_verification_steps_user_side</code><span class="sig-paren">(</span><em class="sig-param">old_node_name</em>, <em class="sig-param">new_node_name</em>, <em class="sig-param">new_osd_node_name</em>, <em class="sig-param">old_osd_ids</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.node_replacement_verification_steps_user_side" title="Permalink to this definition">¶</a></dt>
<dd><p>Check the verification steps that the user should perform after the process
of node replacement as described in the docs</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>old_node_name</strong> (<em>str</em>) – The name of the old node that has been deleted</p></li>
<li><p><strong>new_node_name</strong> (<em>str</em>) – The name of the new node that has been created</p></li>
<li><p><strong>new_osd_node_name</strong> (<em>str</em>) – The name of the new node that has been added to osd nodes</p></li>
<li><p><strong>old_osd_ids</strong> (<em>list</em>) – List of the old osd ids</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if all the verification steps passed. False otherwise</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.print_table_node_resource_utilization">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">print_table_node_resource_utilization</code><span class="sig-paren">(</span><em class="sig-param">utilization_dict</em>, <em class="sig-param">field_names</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.print_table_node_resource_utilization" title="Permalink to this definition">¶</a></dt>
<dd><p>Print table of node utilization</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>utilization_dict</strong> (<em>dict</em>) – CPU and Memory utilization per Node</p></li>
<li><p><strong>field_names</strong> (<em>list</em>) – The field names of the table</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.recover_node_to_ready_state">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">recover_node_to_ready_state</code><span class="sig-paren">(</span><em class="sig-param">node_obj</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.recover_node_to_ready_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Recover the node to be in Ready state.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>node_obj</strong> (<a class="reference internal" href="ocs_ci.ocs.resources.html#ocs_ci.ocs.resources.ocs.OCS" title="ocs_ci.ocs.resources.ocs.OCS"><em>ocs_ci.ocs.resources.ocs.OCS</em></a>) – The node object</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if the node recovered to Ready state. False otherwise</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.remove_nodes">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">remove_nodes</code><span class="sig-paren">(</span><em class="sig-param">nodes</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.remove_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove the nodes from cluster</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>nodes</strong> (<em>list</em>) – list of node instances to remove from cluster</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.replace_old_node_in_lvd_and_lvs">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">replace_old_node_in_lvd_and_lvs</code><span class="sig-paren">(</span><em class="sig-param">old_node_name</em>, <em class="sig-param">new_node_name</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.replace_old_node_in_lvd_and_lvs" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace the old node with the new node in localVolumeDiscovery and localVolumeSet,
as described in the documents of node replacement with LSO</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>old_node_name</strong> (<em>str</em>) – The old node name to remove from the local volume</p></li>
<li><p><strong>new_node_name</strong> (<em>str</em>) – the new node name to add to the local volume</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True in case if changes are applied. False otherwise</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.scale_down_deployments">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">scale_down_deployments</code><span class="sig-paren">(</span><em class="sig-param">node_name</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.scale_down_deployments" title="Permalink to this definition">¶</a></dt>
<dd><p>Scale down the deployments of a node as described in the documents
of node replacement with LSO</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>node_name</strong> (<em>str</em>) – The node name</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.schedule_nodes">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">schedule_nodes</code><span class="sig-paren">(</span><em class="sig-param">node_names</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.schedule_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Change nodes to be scheduled</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>node_names</strong> (<em>list</em>) – The names of the nodes</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.taint_nodes">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">taint_nodes</code><span class="sig-paren">(</span><em class="sig-param">nodes</em>, <em class="sig-param">taint_label=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.taint_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Taint nodes</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nodes</strong> (<em>list</em>) – list of node names need to taint</p></li>
<li><p><strong>taint_label</strong> (<em>str</em>) – Taint label to be used,
If None the constants.OPERATOR_NODE_TAINT will be used.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.unschedule_nodes">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">unschedule_nodes</code><span class="sig-paren">(</span><em class="sig-param">node_names</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.unschedule_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Change nodes to be unscheduled</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>node_names</strong> (<em>list</em>) – The names of the nodes</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.untaint_nodes">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">untaint_nodes</code><span class="sig-paren">(</span><em class="sig-param">taint_label=None</em>, <em class="sig-param">nodes_to_untaint=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.untaint_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to remove taints from nodes</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>taint_label</strong> (<em>str</em>) – taint to use</p></li>
<li><p><strong>nodes_to_untaint</strong> (<em>list</em>) – list of node objs to untaint</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if untainted, false otherwise</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.verify_all_nodes_created">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">verify_all_nodes_created</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.verify_all_nodes_created" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify all nodes are created or not</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference internal" href="#ocs_ci.ocs.exceptions.NotAllNodesCreated" title="ocs_ci.ocs.exceptions.NotAllNodesCreated"><strong>NotAllNodesCreated</strong></a> – In case all nodes are not created</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.verify_worker_nodes_security_groups">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">verify_worker_nodes_security_groups</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.verify_worker_nodes_security_groups" title="Permalink to this definition">¶</a></dt>
<dd><p>Check the worker nodes security groups set correctly.
The function checks that the pods ip are equal to their associated nodes.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True, if the worker nodes security groups set correctly. False otherwise</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.wait_for_all_osd_ids_come_up_on_nodes">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">wait_for_all_osd_ids_come_up_on_nodes</code><span class="sig-paren">(</span><em class="sig-param">expected_osd_ids_per_node</em>, <em class="sig-param">timeout=360</em>, <em class="sig-param">sleep=20</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.wait_for_all_osd_ids_come_up_on_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Wait for all the expected osd ids to come up on their associated nodes</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>expected_osd_ids_per_node</strong> (<em>dict</em>) – The expected osd ids per node</p></li>
<li><p><strong>timeout</strong> (<em>int</em>) – Time to wait for all the expected osd ids to come up on
their associated nodes</p></li>
<li><p><strong>sleep</strong> (<em>int</em>) – Time in seconds to sleep between attempts</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>True, if all the expected osd ids come up on their associated nodes.</dt><dd><p>False, otherwise</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.wait_for_new_osd_node">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">wait_for_new_osd_node</code><span class="sig-paren">(</span><em class="sig-param">old_osd_node_names</em>, <em class="sig-param">timeout=600</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.wait_for_new_osd_node" title="Permalink to this definition">¶</a></dt>
<dd><p>Wait for the new osd node to appear.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>old_osd_node_names</strong> (<em>list</em>) – List of the old osd node names</p></li>
<li><p><strong>timeout</strong> (<em>int</em>) – time to wait for the new osd node to appear</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>The new osd node name if the new osd node appear in the specific timeout.</dt><dd><p>Else it returns None</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.wait_for_new_worker_node_ipi">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">wait_for_new_worker_node_ipi</code><span class="sig-paren">(</span><em class="sig-param">machineset</em>, <em class="sig-param">old_wnodes</em>, <em class="sig-param">timeout=900</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.wait_for_new_worker_node_ipi" title="Permalink to this definition">¶</a></dt>
<dd><p>Wait for the new worker node to be ready</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>machineset</strong> (<em>str</em>) – The machineset name</p></li>
<li><p><strong>old_wnodes</strong> (<em>list</em>) – The old worker nodes</p></li>
<li><p><strong>timeout</strong> (<em>int</em>) – Time to wait for the new worker node to be ready.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The new worker node object</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="ocs_ci.ocs.resources.html#ocs_ci.ocs.resources.ocs.OCS" title="ocs_ci.ocs.resources.ocs.OCS">ocs_ci.ocs.resources.ocs.OCS</a></p>
</dd>
</dl>
<dl class="simple">
<dt>Raise:</dt><dd><dl class="simple">
<dt>ResourceWrongStatusException: In case the new spun machine fails to reach Ready state</dt><dd><p>or replica count didn’t match. Or in case one or more nodes haven’t reached
the desired state.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.wait_for_node_count_to_reach_status">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">wait_for_node_count_to_reach_status</code><span class="sig-paren">(</span><em class="sig-param">node_count</em>, <em class="sig-param">node_type='worker'</em>, <em class="sig-param">expected_status='Ready'</em>, <em class="sig-param">timeout=300</em>, <em class="sig-param">sleep=20</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.wait_for_node_count_to_reach_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Wait for a node count to reach the expected status</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>node_count</strong> (<em>int</em>) – The node count</p></li>
<li><p><strong>node_type</strong> (<em>str</em>) – The node type. Default value is worker.</p></li>
<li><p><strong>expected_status</strong> (<em>str</em>) – The expected status. Default value is “Ready”.</p></li>
<li><p><strong>timeout</strong> (<em>int</em>) – Time to wait for the node count to reach the expected status.</p></li>
<li><p><strong>sleep</strong> (<em>int</em>) – Time in seconds to wait between attempts.</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Raise:</dt><dd><p>TimeoutExpiredError: In case the node count didn’t reach the expected status in the given timeout.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.wait_for_nodes_racks_or_zones">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">wait_for_nodes_racks_or_zones</code><span class="sig-paren">(</span><em class="sig-param">failure_domain</em>, <em class="sig-param">node_names</em>, <em class="sig-param">timeout=120</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.wait_for_nodes_racks_or_zones" title="Permalink to this definition">¶</a></dt>
<dd><p>Wait for the nodes racks or zones to appear</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>failure_domain</strong> (<em>str</em>) – The failure domain</p></li>
<li><p><strong>node_names</strong> (<em>list</em>) – The node names to get their racks or zones</p></li>
<li><p><strong>timeout</strong> (<em>int</em>) – The time to wait for the racks or zones to appear on the nodes</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Raise:</dt><dd><p>TimeoutExpiredError: In case not all the nodes racks or zones appear in the given timeout</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.wait_for_nodes_status">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">wait_for_nodes_status</code><span class="sig-paren">(</span><em class="sig-param">node_names=None</em>, <em class="sig-param">status='Ready'</em>, <em class="sig-param">timeout=180</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.wait_for_nodes_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Wait until all nodes are in the given status</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>node_names</strong> (<em>list</em>) – The node names to wait for to reached the desired state
If None, will wait for all cluster nodes</p></li>
<li><p><strong>status</strong> (<em>str</em>) – The node status to wait for
(e.g. ‘Ready’, ‘NotReady’, ‘SchedulingDisabled’)</p></li>
<li><p><strong>timeout</strong> (<em>int</em>) – The number in seconds to wait for the nodes to reach
the status</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="#ocs_ci.ocs.exceptions.ResourceWrongStatusException" title="ocs_ci.ocs.exceptions.ResourceWrongStatusException"><strong>ResourceWrongStatusException</strong></a> – In case one or more nodes haven’t
    reached the desired state</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.node.wait_for_osd_ids_come_up_on_node">
<code class="sig-prename descclassname">ocs_ci.ocs.node.</code><code class="sig-name descname">wait_for_osd_ids_come_up_on_node</code><span class="sig-paren">(</span><em class="sig-param">node_name</em>, <em class="sig-param">expected_osd_ids</em>, <em class="sig-param">timeout=180</em>, <em class="sig-param">sleep=10</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.node.wait_for_osd_ids_come_up_on_node" title="Permalink to this definition">¶</a></dt>
<dd><p>Wait for the expected osd ids to come up on a node</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>node_name</strong> (<em>str</em>) – The node name</p></li>
<li><p><strong>expected_osd_ids</strong> (<em>list</em>) – The list of the expected osd ids to come up on the node</p></li>
<li><p><strong>timeout</strong> (<em>int</em>) – Time to wait for the osd ids to come up on the node</p></li>
<li><p><strong>sleep</strong> (<em>int</em>) – Time in seconds to sleep between attempts</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True, the osd ids to come up on the node. False, otherwise</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-ocs_ci.ocs.ocp">
<span id="ocs-ci-ocs-ocp-module"></span><h2>ocs_ci.ocs.ocp module<a class="headerlink" href="#module-ocs_ci.ocs.ocp" title="Permalink to this headline">¶</a></h2>
<p>General OCP object</p>
<dl class="class">
<dt id="ocs_ci.ocs.ocp.OCP">
<em class="property">class </em><code class="sig-prename descclassname">ocs_ci.ocs.ocp.</code><code class="sig-name descname">OCP</code><span class="sig-paren">(</span><em class="sig-param">api_version='v1'</em>, <em class="sig-param">kind='Service'</em>, <em class="sig-param">namespace=None</em>, <em class="sig-param">resource_name=''</em>, <em class="sig-param">selector=None</em>, <em class="sig-param">field_selector=None</em>, <em class="sig-param">cluster_kubeconfig=''</em>, <em class="sig-param">threading_lock=None</em>, <em class="sig-param">silent=False</em>, <em class="sig-param">skip_tls_verify=False</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.ocp.OCP" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A basic OCP object to run basic ‘oc’ commands</p>
<dl class="method">
<dt id="ocs_ci.ocs.ocp.OCP.add_label">
<code class="sig-name descname">add_label</code><span class="sig-paren">(</span><em class="sig-param">resource_name</em>, <em class="sig-param">label</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.ocp.OCP.add_label" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a new label for this pod</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>resource_name</strong> (<em>str</em>) – Name of the resource you want to label</p></li>
<li><p><strong>label</strong> (<em>str</em>) – New label to be assigned for this pod
E.g: “label=app=’rook-ceph-mds’”</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.ocp.OCP.annotate">
<code class="sig-name descname">annotate</code><span class="sig-paren">(</span><em class="sig-param">annotation</em>, <em class="sig-param">resource_name=''</em>, <em class="sig-param">overwrite=True</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.ocp.OCP.annotate" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the annotations on resource.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>annotation</strong> (<em>str</em>) – Annotation string (key=value pair or key- for
removing annotation) E.g: ‘cluster.x-k8s.io/paused=””’</p></li>
<li><p><strong>resource_name</strong> (<em>str</em>) – Name of the resource you want to label</p></li>
<li><p><strong>overwrite</strong> (<em>bool</em>) – Overwrite existing annotation with the same key,
(default: True)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dictionary represents a returned yaml file</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.ocp.OCP.api_version">
<em class="property">property </em><code class="sig-name descname">api_version</code><a class="headerlink" href="#ocs_ci.ocs.ocp.OCP.api_version" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.ocp.OCP.apply">
<code class="sig-name descname">apply</code><span class="sig-paren">(</span><em class="sig-param">yaml_file</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.ocp.OCP.apply" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies configuration changes to a resource</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>yaml_file</strong> (<em>str</em>) – Path to a yaml file to use in ‘oc apply -f
file.yaml</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dictionary represents a returned yaml file</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.ocp.OCP.check_function_supported">
<code class="sig-name descname">check_function_supported</code><span class="sig-paren">(</span><em class="sig-param">support_var</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.ocp.OCP.check_function_supported" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if the resource supports the functionality based on the
support_var.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>support_var</strong> (<em>bool</em>) – True if functionality is supported, False
otherwise.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="#ocs_ci.ocs.exceptions.NotSupportedFunctionError" title="ocs_ci.ocs.exceptions.NotSupportedFunctionError"><strong>NotSupportedFunctionError</strong></a> – If support_var == False</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.ocp.OCP.check_name_is_specified">
<code class="sig-name descname">check_name_is_specified</code><span class="sig-paren">(</span><em class="sig-param">resource_name=''</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.ocp.OCP.check_name_is_specified" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if the name of the resource is specified in class level and
if not raise the exception.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference internal" href="#ocs_ci.ocs.exceptions.ResourceNameNotSpecifiedException" title="ocs_ci.ocs.exceptions.ResourceNameNotSpecifiedException"><strong>ResourceNameNotSpecifiedException</strong></a> – in case the name is not
    specified.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.ocp.OCP.check_phase">
<code class="sig-name descname">check_phase</code><span class="sig-paren">(</span><em class="sig-param">phase</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.ocp.OCP.check_phase" title="Permalink to this definition">¶</a></dt>
<dd><p>Check phase of resource</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>phase</strong> (<em>str</em>) – Phase of resource object</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>True if phase of object is the same as passed one, False</dt><dd><p>otherwise.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference internal" href="#ocs_ci.ocs.exceptions.NotSupportedFunctionError" title="ocs_ci.ocs.exceptions.NotSupportedFunctionError"><strong>NotSupportedFunctionError</strong></a> – If resource doesn’t have phase!</p></li>
<li><p><a class="reference internal" href="#ocs_ci.ocs.exceptions.ResourceNameNotSpecifiedException" title="ocs_ci.ocs.exceptions.ResourceNameNotSpecifiedException"><strong>ResourceNameNotSpecifiedException</strong></a> – in case the name is not
    specified.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.ocp.OCP.check_resource_existence">
<code class="sig-name descname">check_resource_existence</code><span class="sig-paren">(</span><em class="sig-param">should_exist</em>, <em class="sig-param">timeout=60</em>, <em class="sig-param">resource_name=''</em>, <em class="sig-param">selector=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.ocp.OCP.check_resource_existence" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks whether an OCP() resource exists</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>should_exist</strong> (<em>bool</em>) – Whether the resource should or shouldn’t be found</p></li>
<li><p><strong>timeout</strong> (<em>int</em>) – How long should the check run before moving on</p></li>
<li><p><strong>resource_name</strong> (<em>str</em>) – Name of the resource.</p></li>
<li><p><strong>selector</strong> (<em>str</em>) – Selector of the resource.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if the resource was found, False otherwise</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.ocp.OCP.create">
<code class="sig-name descname">create</code><span class="sig-paren">(</span><em class="sig-param">yaml_file=None</em>, <em class="sig-param">resource_name=''</em>, <em class="sig-param">out_yaml_format=True</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.ocp.OCP.create" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a new resource</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>yaml_file</strong> (<em>str</em>) – Path to a yaml file to use in ‘oc create -f
file.yaml</p></li>
<li><p><strong>resource_name</strong> (<em>str</em>) – Name of the resource you want to create</p></li>
<li><p><strong>out_yaml_format</strong> (<em>bool</em>) – Determines if the output should be
formatted to a yaml like string</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dictionary represents a returned yaml file</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.ocp.OCP.data">
<em class="property">property </em><code class="sig-name descname">data</code><a class="headerlink" href="#ocs_ci.ocs.ocp.OCP.data" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.ocp.OCP.delete">
<code class="sig-name descname">delete</code><span class="sig-paren">(</span><em class="sig-param">yaml_file=None</em>, <em class="sig-param">resource_name=''</em>, <em class="sig-param">wait=True</em>, <em class="sig-param">force=False</em>, <em class="sig-param">timeout=600</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.ocp.OCP.delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes a resource</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>yaml_file</strong> (<em>str</em>) – Path to a yaml file to use in ‘oc delete -f
file.yaml</p></li>
<li><p><strong>resource_name</strong> (<em>str</em>) – Name of the resource you want to delete</p></li>
<li><p><strong>wait</strong> (<em>bool</em>) – Determines if the delete command should wait to
completion</p></li>
<li><p><strong>force</strong> (<em>bool</em>) – True for force deletion with –grace-period=0,
False otherwise</p></li>
<li><p><strong>timeout</strong> (<em>int</em>) – timeout for the oc_cmd, defaults to 600 seconds</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dictionary represents a returned yaml file</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="#ocs_ci.ocs.exceptions.CommandFailed" title="ocs_ci.ocs.exceptions.CommandFailed"><strong>CommandFailed</strong></a> – In case yaml_file and resource_name wasn’t provided</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.ocp.OCP.delete_project">
<code class="sig-name descname">delete_project</code><span class="sig-paren">(</span><em class="sig-param">project_name</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.ocp.OCP.delete_project" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete a project.  A project created by the new_project function does
not have a corresponding yaml file so normal resource deletion calls
do not work</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>project_name</strong> (<em>str</em>) – Name of the project to be deleted</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True in case project deletion succeeded.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="#ocs_ci.ocs.exceptions.CommandFailed" title="ocs_ci.ocs.exceptions.CommandFailed"><strong>CommandFailed</strong></a> – When the project deletion does not succeed.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.ocp.OCP.describe">
<code class="sig-name descname">describe</code><span class="sig-paren">(</span><em class="sig-param">resource_name=''</em>, <em class="sig-param">selector=None</em>, <em class="sig-param">all_namespaces=False</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.ocp.OCP.describe" title="Permalink to this definition">¶</a></dt>
<dd><p>Get command - ‘oc describe &lt;resource&gt;’</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>resource_name</strong> (<em>str</em>) – The resource name to fetch</p></li>
<li><p><strong>selector</strong> (<em>str</em>) – The label selector to look for</p></li>
<li><p><strong>all_namespaces</strong> (<em>bool</em>) – Equal to oc describe &lt;resource&gt; -A</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<p>describe(‘my-pv1’)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Dictionary represents a returned yaml file</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.ocp.OCP.exec_oc_cmd">
<code class="sig-name descname">exec_oc_cmd</code><span class="sig-paren">(</span><em class="sig-param">command</em>, <em class="sig-param">out_yaml_format=True</em>, <em class="sig-param">secrets=None</em>, <em class="sig-param">timeout=600</em>, <em class="sig-param">ignore_error=False</em>, <em class="sig-param">silent=False</em>, <em class="sig-param">cluster_config=None</em>, <em class="sig-param">skip_tls_verify=False</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.ocp.OCP.exec_oc_cmd" title="Permalink to this definition">¶</a></dt>
<dd><p>Executing ‘oc’ command</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>command</strong> (<em>str</em>) – The command to execute (e.g. create -f file.yaml)
without the initial ‘oc’ at the beginning</p></li>
<li><p><strong>out_yaml_format</strong> (<em>bool</em>) – whether to return  yaml loaded python
object or raw output</p></li>
<li><p><strong>secrets</strong> (<em>list</em>) – A list of secrets to be masked with asterisks
This kwarg is popped in order to not interfere with
subprocess.run(<code class="docutils literal notranslate"><span class="pre">**kwargs</span></code>)</p></li>
<li><p><strong>timeout</strong> (<em>int</em>) – timeout for the oc_cmd, defaults to 600 seconds</p></li>
<li><p><strong>ignore_error</strong> (<em>bool</em>) – True if ignore non zero return code and do not
raise the exception.</p></li>
<li><p><strong>silent</strong> (<em>bool</em>) – If True will silent errors from the server, default false</p></li>
<li><p><strong>cluster_config</strong> (<a class="reference internal" href="ocs_ci.framework.html#ocs_ci.framework.MultiClusterConfig" title="ocs_ci.framework.MultiClusterConfig"><em>MultiClusterConfig</em></a>) – cluster_config will be used only in the context of multiclsuter
executions</p></li>
<li><p><strong>skip_tls_verify</strong> (<em>bool</em>) – Adding ‘–insecure-skip-tls-verify’ to oc command</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dictionary represents a returned yaml file.
str: If out_yaml_format is False.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.ocp.OCP.exec_oc_debug_cmd">
<code class="sig-name descname">exec_oc_debug_cmd</code><span class="sig-paren">(</span><em class="sig-param">node</em>, <em class="sig-param">cmd_list</em>, <em class="sig-param">timeout=300</em>, <em class="sig-param">namespace=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.ocp.OCP.exec_oc_debug_cmd" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to execute “oc debug” command on OCP node</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>node</strong> (<em>str</em>) – Node name where the command to be executed</p></li>
<li><p><strong>cmd_list</strong> (<em>list</em>) – List of commands eg: [‘cmd1’, ‘cmd2’]</p></li>
<li><p><strong>timeout</strong> (<em>int</em>) – timeout for the exec_oc_cmd, defaults to 600 seconds</p></li>
<li><p><strong>namespace</strong> (<em>str</em>) – Namespace name which will be used to create debug pods</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Returns output of the executed command/commands</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>out (str)</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="#ocs_ci.ocs.exceptions.CommandFailed" title="ocs_ci.ocs.exceptions.CommandFailed"><strong>CommandFailed</strong></a> – When failure in command execution</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.ocp.OCP.get">
<code class="sig-name descname">get</code><span class="sig-paren">(</span><em class="sig-param">resource_name=''</em>, <em class="sig-param">out_yaml_format=True</em>, <em class="sig-param">selector=None</em>, <em class="sig-param">all_namespaces=False</em>, <em class="sig-param">retry=0</em>, <em class="sig-param">wait=3</em>, <em class="sig-param">dont_raise=False</em>, <em class="sig-param">silent=False</em>, <em class="sig-param">field_selector=None</em>, <em class="sig-param">cluster_config=None</em>, <em class="sig-param">skip_tls_verify=False</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.ocp.OCP.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Get command - ‘oc get &lt;resource&gt;’</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>resource_name</strong> (<em>str</em>) – The resource name to fetch</p></li>
<li><p><strong>out_yaml_format</strong> (<em>bool</em>) – Adding ‘-o yaml’ to oc command</p></li>
<li><p><strong>selector</strong> (<em>str</em>) – The label selector to look for.</p></li>
<li><p><strong>all_namespaces</strong> (<em>bool</em>) – Equal to oc get &lt;resource&gt; -A</p></li>
<li><p><strong>retry</strong> (<em>int</em>) – Number of attempts to retry to get resource</p></li>
<li><p><strong>wait</strong> (<em>int</em>) – Number of seconds to wait between attempts for retry</p></li>
<li><p><strong>dont_raise</strong> (<em>bool</em>) – If True will raise when get is not found</p></li>
<li><p><strong>field_selector</strong> (<em>str</em>) – Selector (field query) to filter on, supports
‘=’, ‘==’, and ‘!=’. (e.g. status.phase=Running)</p></li>
<li><p><strong>skip_tls_verify</strong> (<em>bool</em>) – Adding ‘–insecure-skip-tls-verify’ to oc command</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<p>get(‘my-pv1’)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Dictionary represents a returned yaml file
None: Incase dont_raise is True and get is not found</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.ocp.OCP.get_logs">
<code class="sig-name descname">get_logs</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">container_name=None</em>, <em class="sig-param">all_containers=False</em>, <em class="sig-param">secrets=None</em>, <em class="sig-param">timeout=None</em>, <em class="sig-param">ignore_error=False</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.ocp.OCP.get_logs" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute <code class="docutils literal notranslate"><span class="pre">oc</span> <span class="pre">logs</span></code> command to fetch logs for a given k8s resource.</p>
<p>Since the log is stored as a string in memory, this will be
problematic when the log is large.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – name of the resource to fetch logs from</p></li>
<li><p><strong>container_name</strong> (<em>str</em>) – name of the container (optional)</p></li>
<li><p><strong>all_containers</strong> (<em>bool</em>) – fetch logs from all containers of the
resource</p></li>
<li><p><strong>secrets</strong> (<em>list</em>) – A list of secrets to be masked with asterisks</p></li>
<li><p><strong>timeout</strong> (<em>int</em>) – timeout for the oc_cmd</p></li>
<li><p><strong>ignore_error</strong> (<em>bool</em>) – True if ignore non zero return code and do not
raise the exception.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>container logs</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.ocp.OCP.get_resource">
<code class="sig-name descname">get_resource</code><span class="sig-paren">(</span><em class="sig-param">resource_name</em>, <em class="sig-param">column</em>, <em class="sig-param">retry=0</em>, <em class="sig-param">wait=3</em>, <em class="sig-param">selector=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.ocp.OCP.get_resource" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a column value for a resource based on:
‘oc get &lt;resource_kind&gt; &lt;resource_name&gt;’ command</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>resource_name</strong> (<em>str</em>) – The name of the resource to get its column value</p></li>
<li><p><strong>column</strong> (<em>str</em>) – The name of the column to retrive</p></li>
<li><p><strong>retry</strong> (<em>int</em>) – Number of attempts to retry to get resource</p></li>
<li><p><strong>wait</strong> (<em>int</em>) – Number of seconds to wait beteween attempts for retry</p></li>
<li><p><strong>selector</strong> (<em>str</em>) – The resource selector to search with.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>The output returned by ‘oc get’ command not in the ‘yaml’</dt><dd><p>format</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.ocp.OCP.get_resource_status">
<code class="sig-name descname">get_resource_status</code><span class="sig-paren">(</span><em class="sig-param">resource_name</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.ocp.OCP.get_resource_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the resource STATUS column based on:
‘oc get &lt;resource_kind&gt; &lt;resource_name&gt;’ command</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>resource_name</strong> (<em>str</em>) – The name of the resource to get its STATUS</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>The status returned by ‘oc get’ command not in the ‘yaml’</dt><dd><p>format</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.ocp.OCP.get_user_token">
<code class="sig-name descname">get_user_token</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.ocp.OCP.get_user_token" title="Permalink to this definition">¶</a></dt>
<dd><p>Get user access token</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>access token</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.ocp.OCP.is_exist">
<code class="sig-name descname">is_exist</code><span class="sig-paren">(</span><em class="sig-param">resource_name=''</em>, <em class="sig-param">selector=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.ocp.OCP.is_exist" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if at least one of the resource exists.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>resource_name</strong> (<em>str</em>) – Name of the resource.</p></li>
<li><p><strong>selector</strong> (<em>str</em>) – Selector of the resource.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="#ocs_ci.ocs.exceptions.ResourceNameNotSpecifiedException" title="ocs_ci.ocs.exceptions.ResourceNameNotSpecifiedException"><strong>ResourceNameNotSpecifiedException</strong></a> – In case the name is not
    specified.</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True if the resource exists False otherwise.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.ocp.OCP.kind">
<em class="property">property </em><code class="sig-name descname">kind</code><a class="headerlink" href="#ocs_ci.ocs.ocp.OCP.kind" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.ocp.OCP.login">
<code class="sig-name descname">login</code><span class="sig-paren">(</span><em class="sig-param">user</em>, <em class="sig-param">password</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.ocp.OCP.login" title="Permalink to this definition">¶</a></dt>
<dd><p>Logs user in</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>user</strong> (<em>str</em>) – Name of user to be logged in</p></li>
<li><p><strong>password</strong> (<em>str</em>) – Password of user to be logged in</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>output of login command</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.ocp.OCP.login_as_sa">
<code class="sig-name descname">login_as_sa</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.ocp.OCP.login_as_sa" title="Permalink to this definition">¶</a></dt>
<dd><p>Logs in as system:admin</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>output of login command</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.ocp.OCP.namespace">
<em class="property">property </em><code class="sig-name descname">namespace</code><a class="headerlink" href="#ocs_ci.ocs.ocp.OCP.namespace" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.ocp.OCP.new_project">
<code class="sig-name descname">new_project</code><span class="sig-paren">(</span><em class="sig-param">project_name</em>, <em class="sig-param">policy='baseline'</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.ocp.OCP.new_project" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a new project</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>project_name</strong> (<em>str</em>) – Name of the project to be created</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True in case project creation succeeded, False otherwise</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.ocp.OCP.patch">
<code class="sig-name descname">patch</code><span class="sig-paren">(</span><em class="sig-param">resource_name=''</em>, <em class="sig-param">params=None</em>, <em class="sig-param">format_type=''</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.ocp.OCP.patch" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies changes to resources</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>resource_name</strong> (<em>str</em>) – Name of the resource</p></li>
<li><p><strong>params</strong> (<em>str</em>) – Changes to be added to the resource</p></li>
<li><p><strong>type</strong> (<em>str</em>) – Type of the operation</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True in case if changes are applied. False otherwise</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.ocp.OCP.reload_data">
<code class="sig-name descname">reload_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.ocp.OCP.reload_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Reloading data of OCP object</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.ocp.OCP.remove_label">
<code class="sig-name descname">remove_label</code><span class="sig-paren">(</span><em class="sig-param">resource_name</em>, <em class="sig-param">label</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.ocp.OCP.remove_label" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove label from the resource.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>resource_name</strong> (<em>str</em>) – Name of the resource you want to remove label.</p></li>
<li><p><strong>label</strong> (<em>str</em>) – Label Name to be remove.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.ocp.OCP.resource_name">
<em class="property">property </em><code class="sig-name descname">resource_name</code><a class="headerlink" href="#ocs_ci.ocs.ocp.OCP.resource_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.ocp.OCP.wait_for_delete">
<code class="sig-name descname">wait_for_delete</code><span class="sig-paren">(</span><em class="sig-param">resource_name=''</em>, <em class="sig-param">timeout=60</em>, <em class="sig-param">sleep=3</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.ocp.OCP.wait_for_delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Wait for a resource to be deleted</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>resource_name</strong> (<em>str</em>) – The name of the resource to wait
for (e.g.my-pv1)</p></li>
<li><p><strong>timeout</strong> (<em>int</em>) – Time in seconds to wait</p></li>
<li><p><strong>sleep</strong> (<em>int</em>) – Sampling time in seconds</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference internal" href="#ocs_ci.ocs.exceptions.CommandFailed" title="ocs_ci.ocs.exceptions.CommandFailed"><strong>CommandFailed</strong></a> – If failed to verify the resource deletion</p></li>
<li><p><strong>TimeoutError</strong> – If resource is not deleted within specified timeout</p></li>
</ul>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True in case resource deletion is successful</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.ocp.OCP.wait_for_phase">
<code class="sig-name descname">wait_for_phase</code><span class="sig-paren">(</span><em class="sig-param">phase</em>, <em class="sig-param">timeout=300</em>, <em class="sig-param">sleep=5</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.ocp.OCP.wait_for_phase" title="Permalink to this definition">¶</a></dt>
<dd><p>Wait till phase of resource is the same as required one passed in
the phase parameter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>phase</strong> (<em>str</em>) – Desired phase of resource object</p></li>
<li><p><strong>timeout</strong> (<em>int</em>) – Timeout in seconds to wait for desired phase</p></li>
<li><p><strong>sleep</strong> (<em>int</em>) – Time in seconds to sleep between attempts</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference internal" href="#ocs_ci.ocs.exceptions.ResourceWrongStatusException" title="ocs_ci.ocs.exceptions.ResourceWrongStatusException"><strong>ResourceWrongStatusException</strong></a> – In case the resource is not in expected
    phase.</p></li>
<li><p><a class="reference internal" href="#ocs_ci.ocs.exceptions.NotSupportedFunctionError" title="ocs_ci.ocs.exceptions.NotSupportedFunctionError"><strong>NotSupportedFunctionError</strong></a> – If resource doesn’t have phase!</p></li>
<li><p><a class="reference internal" href="#ocs_ci.ocs.exceptions.ResourceNameNotSpecifiedException" title="ocs_ci.ocs.exceptions.ResourceNameNotSpecifiedException"><strong>ResourceNameNotSpecifiedException</strong></a> – in case the name is not
    specified.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.ocp.OCP.wait_for_resource">
<code class="sig-name descname">wait_for_resource</code><span class="sig-paren">(</span><em class="sig-param">condition</em>, <em class="sig-param">resource_name=''</em>, <em class="sig-param">column='STATUS'</em>, <em class="sig-param">selector=None</em>, <em class="sig-param">resource_count=0</em>, <em class="sig-param">timeout=60</em>, <em class="sig-param">sleep=3</em>, <em class="sig-param">dont_allow_other_resources=False</em>, <em class="sig-param">error_condition=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.ocp.OCP.wait_for_resource" title="Permalink to this definition">¶</a></dt>
<dd><p>Wait for a resource to reach to a desired condition</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>condition</strong> (<em>str</em>) – The desired state the resource that is sampled
from ‘oc get &lt;kind&gt; &lt;resource_name&gt;’ command</p></li>
<li><p><strong>resource_name</strong> (<em>str</em>) – The name of the resource to wait
for (e.g.my-pv1)</p></li>
<li><p><strong>column</strong> (<em>str</em>) – The name of the column to compare with</p></li>
<li><p><strong>selector</strong> (<em>str</em>) – The resource selector to search with.
Example: ‘app=rook-ceph-mds’</p></li>
<li><p><strong>resource_count</strong> (<em>int</em>) – How many resources expected to be</p></li>
<li><p><strong>timeout</strong> (<em>int</em>) – Time in seconds to wait</p></li>
<li><p><strong>sleep</strong> (<em>int</em>) – Sampling time in seconds</p></li>
<li><p><strong>dont_allow_other_resources</strong> (<em>bool</em>) – If True it will not allow other
resources in different state. For example you are waiting for 2
resources and there are currently 3 (2 in running state,
1 in ContainerCreating) the function will continue to next
iteration to wait for only 2 resources in running state and no
other exists.</p></li>
<li><p><strong>error_condition</strong> (<em>str</em>) – State of the resource that is sampled
from ‘oc get &lt;kind&gt; &lt;resource_name&gt;’ command, which makes this
method to fail immediately without waiting for a timeout. This
is optional and makes sense only when there is a well defined
unrecoverable state of the resource(s) which is not expected to
be part of a workflow under test, and at the same time, the
timeout itself is large.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>True in case all resources reached desired condition,</dt><dd><p>False otherwise</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.ocp.clear_overprovision_spec">
<code class="sig-prename descclassname">ocs_ci.ocs.ocp.</code><code class="sig-name descname">clear_overprovision_spec</code><span class="sig-paren">(</span><em class="sig-param">ignore_errors=False</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.ocp.clear_overprovision_spec" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove cluster overprovision policy.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>ignore_errors</strong> (<em>bool</em>) – Flag to report errors.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True on success and False on error.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.ocp.confirm_cluster_operator_version">
<code class="sig-prename descclassname">ocs_ci.ocs.ocp.</code><code class="sig-name descname">confirm_cluster_operator_version</code><span class="sig-paren">(</span><em class="sig-param">target_version</em>, <em class="sig-param">cluster_operator</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.ocp.confirm_cluster_operator_version" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if cluster operator upgrade process is completed:</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cluster_operator</strong> – (str): ClusterOperator name</p></li>
<li><p><strong>target_version</strong> (<em>str</em>) – expected OCP client</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if success, False if failed</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.ocp.get_all_cluster_operators">
<code class="sig-prename descclassname">ocs_ci.ocs.ocp.</code><code class="sig-name descname">get_all_cluster_operators</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.ocp.get_all_cluster_operators" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all ClusterOperators names in OCP</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>cluster-operator names</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.ocp.get_all_resource_names_of_a_kind">
<code class="sig-prename descclassname">ocs_ci.ocs.ocp.</code><code class="sig-name descname">get_all_resource_names_of_a_kind</code><span class="sig-paren">(</span><em class="sig-param">kind</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.ocp.get_all_resource_names_of_a_kind" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all the resource names of a particular type</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>kind</strong> (<em>str</em>) – The resource type to look for</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of strings</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>(list)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.ocp.get_all_resource_of_kind_containing_string">
<code class="sig-prename descclassname">ocs_ci.ocs.ocp.</code><code class="sig-name descname">get_all_resource_of_kind_containing_string</code><span class="sig-paren">(</span><em class="sig-param">search_string</em>, <em class="sig-param">kind</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.ocp.get_all_resource_of_kind_containing_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Return all the resource of kind which name contain search_string
:param search_string: The string to search in name of the resource
:type search_string: str
:param kind: Kind of the resource to search for
:type kind: str</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>List of resource</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>(list)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.ocp.get_build">
<code class="sig-prename descclassname">ocs_ci.ocs.ocp.</code><code class="sig-name descname">get_build</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.ocp.get_build" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the OCP Build Version</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The build version of the OCP</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.ocp.get_cluster_operator_version">
<code class="sig-prename descclassname">ocs_ci.ocs.ocp.</code><code class="sig-name descname">get_cluster_operator_version</code><span class="sig-paren">(</span><em class="sig-param">cluster_operator_name</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.ocp.get_cluster_operator_version" title="Permalink to this definition">¶</a></dt>
<dd><p>Get image version of selected cluster operator</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>cluster_operator_name</strong> (<em>str</em>) – ClusterOperator name</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>cluster operator version: ClusterOperator image version</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.ocp.get_clustername">
<code class="sig-prename descclassname">ocs_ci.ocs.ocp.</code><code class="sig-name descname">get_clustername</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.ocp.get_clustername" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the name (DNS short name) of the cluster</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the short DNS name of the cluster</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.ocp.get_current_oc_version">
<code class="sig-prename descclassname">ocs_ci.ocs.ocp.</code><code class="sig-name descname">get_current_oc_version</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.ocp.get_current_oc_version" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets Current OCP client version</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>current COP client version</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.ocp.get_images">
<code class="sig-prename descclassname">ocs_ci.ocs.ocp.</code><code class="sig-name descname">get_images</code><span class="sig-paren">(</span><em class="sig-param">data</em>, <em class="sig-param">images=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.ocp.get_images" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the images from the ocp object like pod, CSV and so on.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>dict</em>) – Yaml data from the object.</p></li>
<li><p><strong>images</strong> (<em>dict</em>) – Dict where to put the images (doesn’t have to be set!).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Images dict like: {‘image_name’: ‘image.url.to:tag’, …}</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.ocp.get_ocp_channel">
<code class="sig-prename descclassname">ocs_ci.ocs.ocp.</code><code class="sig-name descname">get_ocp_channel</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.ocp.get_ocp_channel" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the OCP Channel</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The channel of the OCP</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.ocp.get_ocp_upgrade_channel">
<code class="sig-prename descclassname">ocs_ci.ocs.ocp.</code><code class="sig-name descname">get_ocp_upgrade_channel</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.ocp.get_ocp_upgrade_channel" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets OCP upgrade channel</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>OCP upgrade channel name</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.ocp.get_ocp_url">
<code class="sig-prename descclassname">ocs_ci.ocs.ocp.</code><code class="sig-name descname">get_ocp_url</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.ocp.get_ocp_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Getting default URL for OCP console
:returns: OCP console URL
:rtype: str</p>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.ocp.get_services_by_label">
<code class="sig-prename descclassname">ocs_ci.ocs.ocp.</code><code class="sig-name descname">get_services_by_label</code><span class="sig-paren">(</span><em class="sig-param">label</em>, <em class="sig-param">namespace</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.ocp.get_services_by_label" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetches deployment resources with given label in given namespace</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>label</strong> (<em>str</em>) – label which deployments might have</p></li>
<li><p><strong>namespace</strong> (<em>str</em>) – Namespace in which to be looked up</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>deployment OCP instances</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.ocp.patch_ocp_upgrade_channel">
<code class="sig-prename descclassname">ocs_ci.ocs.ocp.</code><code class="sig-name descname">patch_ocp_upgrade_channel</code><span class="sig-paren">(</span><em class="sig-param">channel_variable='stable-4.14'</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.ocp.patch_ocp_upgrade_channel" title="Permalink to this definition">¶</a></dt>
<dd><p>Using ‘oc patch clusterversion’ if new OCP upgrade channel is
different than current one</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>channel_variable</strong> (<em>str</em>) – New OCP upgrade subscription channel</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.ocp.rsync">
<code class="sig-prename descclassname">ocs_ci.ocs.ocp.</code><code class="sig-name descname">rsync</code><span class="sig-paren">(</span><em class="sig-param">src</em>, <em class="sig-param">dst</em>, <em class="sig-param">node</em>, <em class="sig-param">dst_node=True</em>, <em class="sig-param">extra_params=''</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.ocp.rsync" title="Permalink to this definition">¶</a></dt>
<dd><p>This function will rsync source folder to destination path.
You can rsync local folder to the node or vice versa depends on
dst_node parameter. By default the rsync is from local to the node.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>src</strong> (<em>str</em>) – Source path of folder to rsync.</p></li>
<li><p><strong>dst</strong> (<em>str</em>) – Destination path where to rsync.</p></li>
<li><p><strong>node</strong> (<em>str</em>) – Node to/from copy.</p></li>
<li><p><strong>dst_node</strong> (<em>bool</em>) – True if the destination (dst) is the node, False
when dst is the local folder.</p></li>
<li><p><strong>extra_params</strong> (<em>str</em>) – “See: oc rsync –help for the extra params”</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.ocp.set_overprovision_policy">
<code class="sig-prename descclassname">ocs_ci.ocs.ocp.</code><code class="sig-name descname">set_overprovision_policy</code><span class="sig-paren">(</span><em class="sig-param">capacity</em>, <em class="sig-param">quota_name</em>, <em class="sig-param">sc_name</em>, <em class="sig-param">label</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.ocp.set_overprovision_policy" title="Permalink to this definition">¶</a></dt>
<dd><p>Set OverProvisionControl Policy.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>capacity</strong> (<em>str</em>) – storage capacity e.g. 50Gi</p></li>
<li><p><strong>quota_name</strong> (<em>str</em>) – quota name.</p></li>
<li><p><strong>sc_name</strong> (<em>str</em>) – storage class name</p></li>
<li><p><strong>label</strong> (<em>dict</em>) – storage quota labels.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True on success and False on error.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.ocp.switch_to_default_rook_cluster_project">
<code class="sig-prename descclassname">ocs_ci.ocs.ocp.</code><code class="sig-name descname">switch_to_default_rook_cluster_project</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.ocp.switch_to_default_rook_cluster_project" title="Permalink to this definition">¶</a></dt>
<dd><p>Switch to default project</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True on success, False otherwise</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.ocp.switch_to_project">
<code class="sig-prename descclassname">ocs_ci.ocs.ocp.</code><code class="sig-name descname">switch_to_project</code><span class="sig-paren">(</span><em class="sig-param">project_name</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.ocp.switch_to_project" title="Permalink to this definition">¶</a></dt>
<dd><p>Switch to another project</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>project_name</strong> (<em>str</em>) – Name of the project to be switched to</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True on success, False otherwise</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.ocp.upgrade_ocp">
<code class="sig-prename descclassname">ocs_ci.ocs.ocp.</code><code class="sig-name descname">upgrade_ocp</code><span class="sig-paren">(</span><em class="sig-param">image_path</em>, <em class="sig-param">image</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.ocp.upgrade_ocp" title="Permalink to this definition">¶</a></dt>
<dd><p>upgrade OCP version</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> (<em>str</em>) – image to be installed</p></li>
<li><p><strong>image_path</strong> (<em>str</em>) – path to image</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.ocp.validate_cluster_version_status">
<code class="sig-prename descclassname">ocs_ci.ocs.ocp.</code><code class="sig-name descname">validate_cluster_version_status</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.ocp.validate_cluster_version_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify OCP upgrade is completed, by checking ‘oc get clusterversion’
status</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><dl class="simple">
<dt>False in case that one of condition flags is invalid:</dt><dd><p>Progressing (should be False), Failing(should be False)
or Available (should be True)</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.ocp.verify_cluster_operator_status">
<code class="sig-prename descclassname">ocs_ci.ocs.ocp.</code><code class="sig-name descname">verify_cluster_operator_status</code><span class="sig-paren">(</span><em class="sig-param">cluster_operator</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.ocp.verify_cluster_operator_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if cluster operator status is degraded or progressing,
as sign that upgrade not yet completed</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>cluster_operator</strong> (<em>str</em>) – OCP cluster operator name</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if cluster operator status is valid, False if cluster operator status
is “degraded” or “progressing”</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.ocp.verify_images_upgraded">
<code class="sig-prename descclassname">ocs_ci.ocs.ocp.</code><code class="sig-name descname">verify_images_upgraded</code><span class="sig-paren">(</span><em class="sig-param">old_images</em>, <em class="sig-param">object_data</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.ocp.verify_images_upgraded" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify that all images in ocp object are upgraded.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>old_images</strong> (<em>set</em>) – Set with old images.</p></li>
<li><p><strong>object_data</strong> (<em>dict</em>) – OCP object yaml data.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="#ocs_ci.ocs.exceptions.NonUpgradedImagesFoundError" title="ocs_ci.ocs.exceptions.NonUpgradedImagesFoundError"><strong>NonUpgradedImagesFoundError</strong></a> – In case the images weren’t upgraded.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.ocp.verify_ocp_upgrade_channel">
<code class="sig-prename descclassname">ocs_ci.ocs.ocp.</code><code class="sig-name descname">verify_ocp_upgrade_channel</code><span class="sig-paren">(</span><em class="sig-param">channel_variable='stable-4.14'</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.ocp.verify_ocp_upgrade_channel" title="Permalink to this definition">¶</a></dt>
<dd><p>When upgrade OCP version, verify that subscription channel is same
as current one</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>channel_variable</strong> (<em>str</em>) – New OCP upgrade subscription channel</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>True when OCP subscription channel is correct,</dt><dd><p>and no patch needed</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.ocp.wait_for_cluster_connectivity">
<code class="sig-prename descclassname">ocs_ci.ocs.ocp.</code><code class="sig-name descname">wait_for_cluster_connectivity</code><span class="sig-paren">(</span><em class="sig-param">tries=200</em>, <em class="sig-param">delay=3</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.ocp.wait_for_cluster_connectivity" title="Permalink to this definition">¶</a></dt>
<dd><p>Wait for the cluster to be reachable</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tries</strong> (<em>int</em>) – The number of retries</p></li>
<li><p><strong>delay</strong> (<em>int</em>) – The delay in seconds between retries</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if cluster is reachable, False otherwise</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="#ocs_ci.ocs.exceptions.CommandFailed" title="ocs_ci.ocs.exceptions.CommandFailed"><strong>CommandFailed</strong></a> – In case the cluster is unreachable</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-ocs_ci.ocs.ocs_upgrade">
<span id="ocs-ci-ocs-ocs-upgrade-module"></span><h2>ocs_ci.ocs.ocs_upgrade module<a class="headerlink" href="#module-ocs_ci.ocs.ocs_upgrade" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ocs_ci.ocs.ocs_upgrade.OCSUpgrade">
<em class="property">class </em><code class="sig-prename descclassname">ocs_ci.ocs.ocs_upgrade.</code><code class="sig-name descname">OCSUpgrade</code><span class="sig-paren">(</span><em class="sig-param">namespace</em>, <em class="sig-param">version_before_upgrade</em>, <em class="sig-param">ocs_registry_image</em>, <em class="sig-param">upgrade_in_current_source</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.ocs_upgrade.OCSUpgrade" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>OCS Upgrade helper class</p>
<dl class="method">
<dt id="ocs_ci.ocs.ocs_upgrade.OCSUpgrade.check_if_upgrade_completed">
<code class="sig-name descname">check_if_upgrade_completed</code><span class="sig-paren">(</span><em class="sig-param">channel</em>, <em class="sig-param">csv_name_pre_upgrade</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.ocs_upgrade.OCSUpgrade.check_if_upgrade_completed" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if OCS operator finishes it’s upgrade</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>channel</strong> – (str): OCS subscription channel</p></li>
<li><p><strong>csv_name_pre_upgrade</strong> – (str): OCS operator name</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if upgrade completed, False otherwise</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.ocs_upgrade.OCSUpgrade.get_csv_name_pre_upgrade">
<code class="sig-name descname">get_csv_name_pre_upgrade</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.ocs_upgrade.OCSUpgrade.get_csv_name_pre_upgrade" title="Permalink to this definition">¶</a></dt>
<dd><p>Getting OCS operator name as displayed in CSV</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>OCS operator name, as displayed in CSV</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.ocs_upgrade.OCSUpgrade.get_images_post_upgrade">
<code class="sig-name descname">get_images_post_upgrade</code><span class="sig-paren">(</span><em class="sig-param">channel</em>, <em class="sig-param">pre_upgrade_images</em>, <em class="sig-param">upgrade_version</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.ocs_upgrade.OCSUpgrade.get_images_post_upgrade" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Checks if all images of OCS cluster upgraded,</dt><dd><p>and return list of all images if upgrade success</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>channel</strong> – (str): OCS subscription channel</p></li>
<li><p><strong>pre_upgrade_images</strong> – (dict): Contains all OCS cluster images</p></li>
<li><p><strong>upgrade_version</strong> – (str): version to be upgraded</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Contains full path of OCS cluster old images</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>set</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.ocs_upgrade.OCSUpgrade.get_parsed_versions">
<code class="sig-name descname">get_parsed_versions</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.ocs_upgrade.OCSUpgrade.get_parsed_versions" title="Permalink to this definition">¶</a></dt>
<dd><p>Getting parsed version names, current version, and upgrade version</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><dl class="simple">
<dt>contains 2 strings with parsed names of current version</dt><dd><p>and upgrade version</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.ocs_upgrade.OCSUpgrade.get_pre_upgrade_image">
<code class="sig-name descname">get_pre_upgrade_image</code><span class="sig-paren">(</span><em class="sig-param">csv_name_pre_upgrade</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.ocs_upgrade.OCSUpgrade.get_pre_upgrade_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Getting all OCS cluster images, before upgrade</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>csv_name_pre_upgrade</strong> – (str): OCS operator name</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>Contains all OCS cluster images</dt><dd><p>dict keys: Image name
dict values: Image full path</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.ocs_upgrade.OCSUpgrade.get_upgrade_version">
<code class="sig-name descname">get_upgrade_version</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.ocs_upgrade.OCSUpgrade.get_upgrade_version" title="Permalink to this definition">¶</a></dt>
<dd><p>Getting the required upgrade version</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>version to be upgraded</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.ocs_upgrade.OCSUpgrade.load_version_config_file">
<code class="sig-name descname">load_version_config_file</code><span class="sig-paren">(</span><em class="sig-param">upgrade_version</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.ocs_upgrade.OCSUpgrade.load_version_config_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads config file to the ocs-ci config with upgrade version</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>upgrade_version</strong> – (str): version to be upgraded</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.ocs_upgrade.OCSUpgrade.ocs_registry_image">
<em class="property">property </em><code class="sig-name descname">ocs_registry_image</code><a class="headerlink" href="#ocs_ci.ocs.ocs_upgrade.OCSUpgrade.ocs_registry_image" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.ocs_upgrade.OCSUpgrade.set_upgrade_channel">
<code class="sig-name descname">set_upgrade_channel</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.ocs_upgrade.OCSUpgrade.set_upgrade_channel" title="Permalink to this definition">¶</a></dt>
<dd><p>Wait for the new package manifest for upgrade.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>OCS subscription channel</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.ocs_upgrade.OCSUpgrade.set_upgrade_images">
<code class="sig-name descname">set_upgrade_images</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.ocs_upgrade.OCSUpgrade.set_upgrade_images" title="Permalink to this definition">¶</a></dt>
<dd><p>Set images for upgrade</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.ocs_upgrade.OCSUpgrade.update_subscription">
<code class="sig-name descname">update_subscription</code><span class="sig-paren">(</span><em class="sig-param">channel</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.ocs_upgrade.OCSUpgrade.update_subscription" title="Permalink to this definition">¶</a></dt>
<dd><p>Updating OCS operator subscription</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>channel</strong> – (str): OCS subscription channel</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.ocs_upgrade.OCSUpgrade.version_before_upgrade">
<em class="property">property </em><code class="sig-name descname">version_before_upgrade</code><a class="headerlink" href="#ocs_ci.ocs.ocs_upgrade.OCSUpgrade.version_before_upgrade" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.ocs_upgrade.get_upgrade_image_info">
<code class="sig-prename descclassname">ocs_ci.ocs.ocs_upgrade.</code><code class="sig-name descname">get_upgrade_image_info</code><span class="sig-paren">(</span><em class="sig-param">old_csv_images</em>, <em class="sig-param">new_csv_images</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.ocs_upgrade.get_upgrade_image_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Log the info about the images which are going to be upgraded.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>old_csv_images</strong> (<em>dict</em>) – dictionary with the old images from pre upgrade CSV</p></li>
<li><p><strong>new_csv_images</strong> (<em>dict</em>) – dictionary with the post upgrade images</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>with three sets which contain those types of images</dt><dd><p>old_images_for_upgrade - images which should be upgraded
new_images_to_upgrade - new images to which upgrade
unchanged_images - unchanged images without upgrade</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.ocs_upgrade.ocs_odf_upgrade_ui">
<code class="sig-prename descclassname">ocs_ci.ocs.ocs_upgrade.</code><code class="sig-name descname">ocs_odf_upgrade_ui</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.ocs_upgrade.ocs_odf_upgrade_ui" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to upgrade OCS 4.8 to ODF 4.9 via UI on OCP 4.9
Pass proper versions and upgrade_ui.yaml while running this function for validation to pass</p>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.ocs_upgrade.run_ocs_upgrade">
<code class="sig-prename descclassname">ocs_ci.ocs.ocs_upgrade.</code><code class="sig-name descname">run_ocs_upgrade</code><span class="sig-paren">(</span><em class="sig-param">operation=None</em>, <em class="sig-param">*operation_args</em>, <em class="sig-param">**operation_kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.ocs_upgrade.run_ocs_upgrade" title="Permalink to this definition">¶</a></dt>
<dd><p>Run upgrade procedure of OCS cluster</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>operation</strong> – (function): Function to run</p></li>
<li><p><strong>operation_args</strong> – (iterable): Function’s arguments</p></li>
<li><p><strong>operation_kwargs</strong> – (map): Function’s keyword arguments</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.ocs_upgrade.verify_image_versions">
<code class="sig-prename descclassname">ocs_ci.ocs.ocs_upgrade.</code><code class="sig-name descname">verify_image_versions</code><span class="sig-paren">(</span><em class="sig-param">old_images</em>, <em class="sig-param">upgrade_version</em>, <em class="sig-param">version_before_upgrade</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.ocs_upgrade.verify_image_versions" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify if all the images of OCS objects got upgraded</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>old_images</strong> (<em>set</em>) – set with old images</p></li>
<li><p><strong>upgrade_version</strong> (<em>packaging.version.Version</em>) – version of OCS</p></li>
<li><p><strong>version_before_upgrade</strong> (<em>float</em>) – version of OCS before upgrade</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-ocs_ci.ocs.openshift_ops">
<span id="ocs-ci-ocs-openshift-ops-module"></span><h2>ocs_ci.ocs.openshift_ops module<a class="headerlink" href="#module-ocs_ci.ocs.openshift_ops" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ocs_ci.ocs.openshift_ops.OCP">
<em class="property">class </em><code class="sig-prename descclassname">ocs_ci.ocs.openshift_ops.</code><code class="sig-name descname">OCP</code><a class="headerlink" href="#ocs_ci.ocs.openshift_ops.OCP" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class which contains various utility functions for interacting
with OpenShift</p>
<dl class="method">
<dt id="ocs_ci.ocs.openshift_ops.OCP.call_api">
<em class="property">static </em><code class="sig-name descname">call_api</code><span class="sig-paren">(</span><em class="sig-param">method</em>, <em class="sig-param">**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.openshift_ops.OCP.call_api" title="Permalink to this definition">¶</a></dt>
<dd><p>This function makes generic REST calls</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>method</strong> (<em>str</em>) – one of the GET, CREATE, PATCH, POST, DELETE</p></li>
<li><p><strong>**kw</strong> – Based on context of the call kw will be populated by caller</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ResourceInstance object</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.openshift_ops.OCP.create_project">
<code class="sig-name descname">create_project</code><span class="sig-paren">(</span><em class="sig-param">project</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.openshift_ops.OCP.create_project" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates new project</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>project</strong> (<em>str</em>) – project name</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if successful otherwise False</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.openshift_ops.OCP.get_labels">
<code class="sig-name descname">get_labels</code><span class="sig-paren">(</span><em class="sig-param">pod_name</em>, <em class="sig-param">pod_namespace</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.openshift_ops.OCP.get_labels" title="Permalink to this definition">¶</a></dt>
<dd><p>Get labels from specific pod</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pod_name</strong> (<em>str</em>) – Name of pod in oc cluster</p></li>
<li><p><strong>pod_namespace</strong> (<em>str</em>) – pod namespace in which the pod lives</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="#ocs_ci.ocs.exceptions.NotFoundError" title="ocs_ci.ocs.exceptions.NotFoundError"><strong>NotFoundError</strong></a> – If resource not found</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>All the openshift labels on a given pod</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.openshift_ops.OCP.get_pods">
<code class="sig-name descname">get_pods</code><span class="sig-paren">(</span><em class="sig-param">**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.openshift_ops.OCP.get_pods" title="Permalink to this definition">¶</a></dt>
<dd><p>Get pods in specific namespace or across oc cluster.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>**kw</strong> – ex: namespace=rook-ceph, label_selector=’x==y’</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>of pods names, if no namespace provided then this function</dt><dd><p>returns all pods across openshift cluster.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.openshift_ops.OCP.get_projects">
<code class="sig-name descname">get_projects</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.openshift_ops.OCP.get_projects" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets all the projects in the cluster</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>List of projects</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.openshift_ops.OCP.get_services">
<code class="sig-name descname">get_services</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.openshift_ops.OCP.get_services" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets all the services in the cluster</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><dl class="simple">
<dt>defaultdict of services, key represents the namespace</dt><dd><p>and value represents the services</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.openshift_ops.OCP.get_services_in_namespace">
<code class="sig-name descname">get_services_in_namespace</code><span class="sig-paren">(</span><em class="sig-param">namespace</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.openshift_ops.OCP.get_services_in_namespace" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the services in a namespace</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>list of services in a namespace</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.openshift_ops.OCP.set_kubeconfig">
<em class="property">static </em><code class="sig-name descname">set_kubeconfig</code><span class="sig-paren">(</span><em class="sig-param">kubeconfig_path</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.openshift_ops.OCP.set_kubeconfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Export environment variable KUBECONFIG for future calls of OC commands
or other API calls</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>kubeconfig_path</strong> (<em>str</em>) – path to kubeconfig file to be exported</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if successfully connected to cluster, False otherwise</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>boolean</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-ocs_ci.ocs.openstack">
<span id="ocs-ci-ocs-openstack-module"></span><h2>ocs_ci.ocs.openstack module<a class="headerlink" href="#module-ocs_ci.ocs.openstack" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ocs_ci.ocs.openstack.CephVMNode">
<em class="property">class </em><code class="sig-prename descclassname">ocs_ci.ocs.openstack.</code><code class="sig-name descname">CephVMNode</code><span class="sig-paren">(</span><em class="sig-param">**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.openstack.CephVMNode" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="ocs_ci.ocs.openstack.CephVMNode.attach_floating_ip">
<code class="sig-name descname">attach_floating_ip</code><span class="sig-paren">(</span><em class="sig-param">timeout=120</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.openstack.CephVMNode.attach_floating_ip" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.openstack.CephVMNode.create_node">
<code class="sig-name descname">create_node</code><span class="sig-paren">(</span><em class="sig-param">**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.openstack.CephVMNode.create_node" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.openstack.CephVMNode.destroy_node">
<code class="sig-name descname">destroy_node</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.openstack.CephVMNode.destroy_node" title="Permalink to this definition">¶</a></dt>
<dd><p>Relies on the fact that names <strong>should be</strong> unique. Along the chain we
prevent non-unique names to be used/added.
TODO: raise an exception if more than one node is matched to the name, that
can be propagated back to the client.</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.openstack.CephVMNode.destroy_volume">
<code class="sig-name descname">destroy_volume</code><span class="sig-paren">(</span><em class="sig-param">name</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.openstack.CephVMNode.destroy_volume" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.openstack.CephVMNode.get_driver">
<code class="sig-name descname">get_driver</code><span class="sig-paren">(</span><em class="sig-param">**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.openstack.CephVMNode.get_driver" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.openstack.CephVMNode.get_private_ip">
<code class="sig-name descname">get_private_ip</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.openstack.CephVMNode.get_private_ip" title="Permalink to this definition">¶</a></dt>
<dd><p>Workaround. self.node.private_ips returns empty list.</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.openstack.CephVMNode.get_volume">
<code class="sig-name descname">get_volume</code><span class="sig-paren">(</span><em class="sig-param">name</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.openstack.CephVMNode.get_volume" title="Permalink to this definition">¶</a></dt>
<dd><p>Return libcloud.compute.base.StorageVolume</p>
</dd></dl>

</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.openstack.GetIPError">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.openstack.</code><code class="sig-name descname">GetIPError</code><a class="headerlink" href="#ocs_ci.ocs.openstack.GetIPError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.openstack.InvalidHostName">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.openstack.</code><code class="sig-name descname">InvalidHostName</code><a class="headerlink" href="#ocs_ci.ocs.openstack.InvalidHostName" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="ocs_ci.ocs.openstack.NodeErrorState">
<em class="property">exception </em><code class="sig-prename descclassname">ocs_ci.ocs.openstack.</code><code class="sig-name descname">NodeErrorState</code><a class="headerlink" href="#ocs_ci.ocs.openstack.NodeErrorState" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

</div>
<div class="section" id="module-ocs_ci.ocs.osd_operations">
<span id="ocs-ci-ocs-osd-operations-module"></span><h2>ocs_ci.ocs.osd_operations module<a class="headerlink" href="#module-ocs_ci.ocs.osd_operations" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="ocs_ci.ocs.osd_operations.osd_device_replacement">
<code class="sig-prename descclassname">ocs_ci.ocs.osd_operations.</code><code class="sig-name descname">osd_device_replacement</code><span class="sig-paren">(</span><em class="sig-param">nodes</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.osd_operations.osd_device_replacement" title="Permalink to this definition">¶</a></dt>
<dd><p>Replacing randomly picked osd device
:param node: The OCS object representing the node
:type node: OCS</p>
</dd></dl>

</div>
<div class="section" id="module-ocs_ci.ocs.parallel">
<span id="ocs-ci-ocs-parallel-module"></span><h2>ocs_ci.ocs.parallel module<a class="headerlink" href="#module-ocs_ci.ocs.parallel" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ocs_ci.ocs.parallel.ExceptionHolder">
<em class="property">class </em><code class="sig-prename descclassname">ocs_ci.ocs.parallel.</code><code class="sig-name descname">ExceptionHolder</code><span class="sig-paren">(</span><em class="sig-param">exc_info</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.parallel.ExceptionHolder" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.parallel.capture_traceback">
<code class="sig-prename descclassname">ocs_ci.ocs.parallel.</code><code class="sig-name descname">capture_traceback</code><span class="sig-paren">(</span><em class="sig-param">func</em>, <em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.parallel.capture_traceback" title="Permalink to this definition">¶</a></dt>
<dd><p>Utility function to capture tracebacks of any exception func
raises.</p>
</dd></dl>

<dl class="class">
<dt id="ocs_ci.ocs.parallel.parallel">
<em class="property">class </em><code class="sig-prename descclassname">ocs_ci.ocs.parallel.</code><code class="sig-name descname">parallel</code><a class="headerlink" href="#ocs_ci.ocs.parallel.parallel" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class is a context manager for running functions in parallel.</p>
<p>You add functions to be run with the spawn method:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">parallel</span><span class="p">()</span> <span class="k">as</span> <span class="n">p</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">foo</span> <span class="ow">in</span> <span class="n">bar</span><span class="p">:</span>
        <span class="n">p</span><span class="o">.</span><span class="n">spawn</span><span class="p">(</span><span class="n">quux</span><span class="p">,</span> <span class="n">foo</span><span class="p">,</span> <span class="n">baz</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>You can iterate over the results (which are in arbitrary order):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">parallel</span><span class="p">()</span> <span class="k">as</span> <span class="n">p</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">foo</span> <span class="ow">in</span> <span class="n">bar</span><span class="p">:</span>
        <span class="n">p</span><span class="o">.</span><span class="n">spawn</span><span class="p">(</span><span class="n">quux</span><span class="p">,</span> <span class="n">foo</span><span class="p">,</span> <span class="n">baz</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">p</span><span class="p">:</span>
        <span class="nb">print</span> <span class="n">result</span>
</pre></div>
</div>
<p>If one of the spawned functions throws an exception, it will be thrown
when iterating over the results, or when the with block ends.</p>
<p>At the end of the with block, the main thread waits until all
spawned functions have completed, or, if one exited with an exception,
kills the rest and raises the exception.</p>
<dl class="method">
<dt id="ocs_ci.ocs.parallel.parallel.spawn">
<code class="sig-name descname">spawn</code><span class="sig-paren">(</span><em class="sig-param">func</em>, <em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.parallel.parallel.spawn" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.parallel.resurrect_traceback">
<code class="sig-prename descclassname">ocs_ci.ocs.parallel.</code><code class="sig-name descname">resurrect_traceback</code><span class="sig-paren">(</span><em class="sig-param">exc</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.parallel.resurrect_traceback" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-ocs_ci.ocs.perf_pgsql">
<span id="ocs-ci-ocs-perf-pgsql-module"></span><h2>ocs_ci.ocs.perf_pgsql module<a class="headerlink" href="#module-ocs_ci.ocs.perf_pgsql" title="Permalink to this headline">¶</a></h2>
<p>PGSQL performance workload class</p>
<dl class="class">
<dt id="ocs_ci.ocs.perf_pgsql.PerfPGSQL">
<em class="property">class </em><code class="sig-prename descclassname">ocs_ci.ocs.perf_pgsql.</code><code class="sig-name descname">PerfPGSQL</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.perf_pgsql.PerfPGSQL" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ocs_ci.ocs.pgsql.Postgresql" title="ocs_ci.ocs.pgsql.Postgresql"><code class="xref py py-class docutils literal notranslate"><span class="pre">ocs_ci.ocs.pgsql.Postgresql</span></code></a></p>
<p>Class to create pgsql, pgbench pods
and run workloads</p>
<dl class="method">
<dt id="ocs_ci.ocs.perf_pgsql.PerfPGSQL.validate_pgbench_perf">
<code class="sig-name descname">validate_pgbench_perf</code><span class="sig-paren">(</span><em class="sig-param">pgbench_pods</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.perf_pgsql.PerfPGSQL.validate_pgbench_perf" title="Permalink to this definition">¶</a></dt>
<dd><p>Processing the pod output and prints latency,tps in
table format for all the pods</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-ocs_ci.ocs.perfresult">
<span id="ocs-ci-ocs-perfresult-module"></span><h2>ocs_ci.ocs.perfresult module<a class="headerlink" href="#module-ocs_ci.ocs.perfresult" title="Permalink to this headline">¶</a></h2>
<p>Basic Module to manage performance results</p>
<dl class="class">
<dt id="ocs_ci.ocs.perfresult.PerfResult">
<em class="property">class </em><code class="sig-prename descclassname">ocs_ci.ocs.perfresult.</code><code class="sig-name descname">PerfResult</code><span class="sig-paren">(</span><em class="sig-param">uuid</em>, <em class="sig-param">crd</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.perfresult.PerfResult" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Basic Performance results object for Q-PAS team</p>
<dl class="method">
<dt id="ocs_ci.ocs.perfresult.PerfResult.add_key">
<code class="sig-name descname">add_key</code><span class="sig-paren">(</span><em class="sig-param">key</em>, <em class="sig-param">value</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.perfresult.PerfResult.add_key" title="Permalink to this definition">¶</a></dt>
<dd><p>Adding (key and value) to this object results dictionary as a new
dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<em>str</em>) – String which will be the key for the value</p></li>
<li><p><strong>value</strong> – value to add, can be any kind of data type</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.perfresult.PerfResult.dump_to_file">
<code class="sig-name descname">dump_to_file</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.perfresult.PerfResult.dump_to_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Writing the test results data into a JSON file, which can be loaded
into the ElasticSearch server</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.perfresult.PerfResult.es_connect">
<code class="sig-name descname">es_connect</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.perfresult.PerfResult.es_connect" title="Permalink to this definition">¶</a></dt>
<dd><p>Create Elastic-Search server connection</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.perfresult.PerfResult.es_read">
<code class="sig-name descname">es_read</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.perfresult.PerfResult.es_read" title="Permalink to this definition">¶</a></dt>
<dd><p>Reading all test results from the elastic-search server</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>list of results</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
<dl class="simple">
<dt>Assert:</dt><dd><p>if no data found in the server</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.perfresult.PerfResult.es_write">
<code class="sig-name descname">es_write</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.perfresult.PerfResult.es_write" title="Permalink to this definition">¶</a></dt>
<dd><p>Writing the results to the elastic-search server, and to a JSON file</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.perfresult.PerfResult.results_link">
<code class="sig-name descname">results_link</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.perfresult.PerfResult.results_link" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a link to the results of the test in the elasticsearch serer</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>http link to the test results in the elastic-search server</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="ocs_ci.ocs.perfresult.ResultsAnalyse">
<em class="property">class </em><code class="sig-prename descclassname">ocs_ci.ocs.perfresult.</code><code class="sig-name descname">ResultsAnalyse</code><span class="sig-paren">(</span><em class="sig-param">uuid</em>, <em class="sig-param">crd</em>, <em class="sig-param">full_log_path</em>, <em class="sig-param">index_name</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.perfresult.ResultsAnalyse" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ocs_ci.ocs.perfresult.PerfResult" title="ocs_ci.ocs.perfresult.PerfResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">ocs_ci.ocs.perfresult.PerfResult</span></code></a></p>
<p>This class generates results for all tests as one unit
and saves them to an elastic search server on the cluster</p>
</dd></dl>

</div>
<div class="section" id="module-ocs_ci.ocs.perftests">
<span id="ocs-ci-ocs-perftests-module"></span><h2>ocs_ci.ocs.perftests module<a class="headerlink" href="#module-ocs_ci.ocs.perftests" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ocs_ci.ocs.perftests.PASTest">
<em class="property">class </em><code class="sig-prename descclassname">ocs_ci.ocs.perftests.</code><code class="sig-name descname">PASTest</code><a class="headerlink" href="#ocs_ci.ocs.perftests.PASTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="ocs_ci.framework.html#ocs_ci.framework.testlib.BaseTest" title="ocs_ci.framework.testlib.BaseTest"><code class="xref py py-class docutils literal notranslate"><span class="pre">ocs_ci.framework.testlib.BaseTest</span></code></a></p>
<p>Base class for QPAS team - Performance and Scale tests</p>
<p>This class contain functions which used by performance and scale test,
and also can be used by E2E test which used the benchmark-operator (ripsaw)</p>
<dl class="method">
<dt id="ocs_ci.ocs.perftests.PASTest.add_test_to_results_check">
<code class="sig-name descname">add_test_to_results_check</code><span class="sig-paren">(</span><em class="sig-param">test</em>, <em class="sig-param">test_count</em>, <em class="sig-param">test_name</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.perftests.PASTest.add_test_to_results_check" title="Permalink to this definition">¶</a></dt>
<dd><p>Adding test information to list of test(s) that we want to check the results
and push them to the dashboard.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>test</strong> (<em>str</em>) – the name of the test function that we want to check</p></li>
<li><p><strong>test_count</strong> (<em>int</em>) – number of test(s) that need to run - according to parametize</p></li>
<li><p><strong>test_name</strong> (<em>str</em>) – the test name in the Performance dashboard</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.perftests.PASTest.check_results_and_push_to_dashboard">
<code class="sig-name descname">check_results_and_push_to_dashboard</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.perftests.PASTest.check_results_and_push_to_dashboard" title="Permalink to this definition">¶</a></dt>
<dd><p>Checking test(s) results - that all test(s) are finished OK, and push
the results into the performance dashboard</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.perftests.PASTest.check_tests_results">
<code class="sig-name descname">check_tests_results</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.perftests.PASTest.check_tests_results" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that all sub-tests (test multiplication by parameters) finished and
pushed the data to the ElastiSearch server.
It also generate the es link to push into the performance dashboard.</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.perftests.PASTest.cleanup_testing_pod">
<code class="sig-name descname">cleanup_testing_pod</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.perftests.PASTest.cleanup_testing_pod" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.perftests.PASTest.cleanup_testing_pvc">
<code class="sig-name descname">cleanup_testing_pvc</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.perftests.PASTest.cleanup_testing_pvc" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.perftests.PASTest.copy_es_data">
<code class="sig-name descname">copy_es_data</code><span class="sig-paren">(</span><em class="sig-param">elasticsearch</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.perftests.PASTest.copy_es_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy data from Internal ES (if exists) to the main ES</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>elasticsearch</strong> (<em>obj</em>) – elasticsearch object (if exits)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.perftests.PASTest.create_fio_pod_yaml">
<code class="sig-name descname">create_fio_pod_yaml</code><span class="sig-paren">(</span><em class="sig-param">pvc_size=1</em>, <em class="sig-param">filesize=0</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.perftests.PASTest.create_fio_pod_yaml" title="Permalink to this definition">¶</a></dt>
<dd><p>This function create a new performance pod yaml file, which will trigger
the FIO command on starting and getting into Compleat state when finish</p>
<p>If the filesize argument is not provided, The FIO will fillup 70% of the
PVC which will attached to the pod.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pvc_size</strong> (<em>int/float</em>) – the size of the pvc_which will attach to the pod (in GiB)</p></li>
<li><p><strong>file_size</strong> (<em>str</em>) – the filesize to write into (e.g 100Mi, 30Gi)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.perftests.PASTest.create_new_pool">
<code class="sig-name descname">create_new_pool</code><span class="sig-paren">(</span><em class="sig-param">pool_name</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.perftests.PASTest.create_new_pool" title="Permalink to this definition">¶</a></dt>
<dd><p>Creating new Storage pool for RBD / CephFS to use in a test so it can be
deleted in the end of the test for fast cleanup</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>pool_name</strong> (<em>str</em>) – the name of the pool to create</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.perftests.PASTest.create_test_project">
<code class="sig-name descname">create_test_project</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.perftests.PASTest.create_test_project" title="Permalink to this definition">¶</a></dt>
<dd><p>Creating new project (namespace) for performance test</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.perftests.PASTest.create_testing_pod_and_wait_for_completion">
<code class="sig-name descname">create_testing_pod_and_wait_for_completion</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.perftests.PASTest.create_testing_pod_and_wait_for_completion" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.perftests.PASTest.create_testing_pvc_and_wait_for_bound">
<code class="sig-name descname">create_testing_pvc_and_wait_for_bound</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.perftests.PASTest.create_testing_pvc_and_wait_for_bound" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.perftests.PASTest.delete_ceph_pool">
<code class="sig-name descname">delete_ceph_pool</code><span class="sig-paren">(</span><em class="sig-param">pool_name</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.perftests.PASTest.delete_ceph_pool" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete Storage pool (RBD / CephFS) that was created for the test for
fast cleanup.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>pool_name</strong> (<em>str</em>) – the name of the pool to be delete</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.perftests.PASTest.delete_test_project">
<code class="sig-name descname">delete_test_project</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.perftests.PASTest.delete_test_project" title="Permalink to this definition">¶</a></dt>
<dd><p>Deleting the performance test project (namespace)</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.perftests.PASTest.deploy_and_wait_for_wl_to_start">
<code class="sig-name descname">deploy_and_wait_for_wl_to_start</code><span class="sig-paren">(</span><em class="sig-param">timeout=300</em>, <em class="sig-param">sleep=20</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.perftests.PASTest.deploy_and_wait_for_wl_to_start" title="Permalink to this definition">¶</a></dt>
<dd><p>Deploy the workload and wait until it start working</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>timeout</strong> (<em>int</em>) – time in second to wait until the benchmark start</p></li>
<li><p><strong>sleep</strong> (<em>int</em>) – Sleep interval seconds</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.perftests.PASTest.deploy_benchmark_operator">
<code class="sig-name descname">deploy_benchmark_operator</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.perftests.PASTest.deploy_benchmark_operator" title="Permalink to this definition">¶</a></dt>
<dd><p>Deploy the benchmark operator</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.perftests.PASTest.es_connect">
<code class="sig-name descname">es_connect</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.perftests.PASTest.es_connect" title="Permalink to this definition">¶</a></dt>
<dd><p>Create elasticsearch connection to the server</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True if there is a connection to the ES, False if not.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.perftests.PASTest.es_info_backup">
<code class="sig-name descname">es_info_backup</code><span class="sig-paren">(</span><em class="sig-param">elasticsearch</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.perftests.PASTest.es_info_backup" title="Permalink to this definition">¶</a></dt>
<dd><p>Saving the Original elastic-search IP and PORT - if defined in yaml</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>elasticsearch</strong> (<em>obj</em>) – elasticsearch object</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.perftests.PASTest.get_cephfs_data">
<code class="sig-name descname">get_cephfs_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.perftests.PASTest.get_cephfs_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Look through ceph pods and find space usage on all ceph pools</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>total used capacity in GiB.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.perftests.PASTest.get_env_info">
<code class="sig-name descname">get_env_info</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.perftests.PASTest.get_env_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Getting the environment information and update the workload RC if
necessary.</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.perftests.PASTest.get_kibana_indexid">
<code class="sig-name descname">get_kibana_indexid</code><span class="sig-paren">(</span><em class="sig-param">server</em>, <em class="sig-param">name</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.perftests.PASTest.get_kibana_indexid" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the kibana Index ID by its name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>server</strong> (<em>str</em>) – the IP (or name) of the Kibana server</p></li>
<li><p><strong>name</strong> (<em>str</em>) – the name of the index</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>the index ID of the given name</dt><dd><p>return None if the index does not exist.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.perftests.PASTest.get_node_info">
<code class="sig-name descname">get_node_info</code><span class="sig-paren">(</span><em class="sig-param">node_type='master'</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.perftests.PASTest.get_node_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Getting node type hardware information and update the main environment
dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>node_type</strong> (<em>str</em>) – the node type to collect data about,
can be : master / worker - the default is master</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.perftests.PASTest.get_osd_info">
<code class="sig-name descname">get_osd_info</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.perftests.PASTest.get_osd_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Getting the OSD’s information and update the main environment
dictionary.</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.perftests.PASTest.get_time">
<em class="property">static </em><code class="sig-name descname">get_time</code><span class="sig-paren">(</span><em class="sig-param">time_format=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.perftests.PASTest.get_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Getting the current GMT time in a specific format for the ES report,
or for seeking in the containers log</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>time_format</strong> (<em>str</em>) – which thime format to return - None / CSI</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>current date and time in formatted way</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.perftests.PASTest.initialize_test_crd">
<code class="sig-name descname">initialize_test_crd</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.perftests.PASTest.initialize_test_crd" title="Permalink to this definition">¶</a></dt>
<dd><p>Initializing the test CRD file.
this include the Elasticsearch info, cluster name and user name which run the test</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.perftests.PASTest.push_to_dashboard">
<code class="sig-name descname">push_to_dashboard</code><span class="sig-paren">(</span><em class="sig-param">test_name</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.perftests.PASTest.push_to_dashboard" title="Permalink to this definition">¶</a></dt>
<dd><p>Pushing the test results into the performance dashboard, if exist</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>test_name</strong> (<em>str</em>) – the test name as defined in the performance dashboard</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None in case of pushing the results to the dashboard failed</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.perftests.PASTest.read_from_es">
<code class="sig-name descname">read_from_es</code><span class="sig-paren">(</span><em class="sig-param">es</em>, <em class="sig-param">index</em>, <em class="sig-param">uuid</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.perftests.PASTest.read_from_es" title="Permalink to this definition">¶</a></dt>
<dd><p>Reading all results from elasticsearch server</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>es</strong> (<em>dict</em>) – dictionary with elasticsearch info  {server, port}</p></li>
<li><p><strong>index</strong> (<em>str</em>) – the index name to read from the elasticsearch server</p></li>
<li><p><strong>uuid</strong> (<em>str</em>) – the test UUID to find in the elasticsearch server</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list of all results</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.perftests.PASTest.set_results_path_and_file">
<code class="sig-name descname">set_results_path_and_file</code><span class="sig-paren">(</span><em class="sig-param">func_name</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.perftests.PASTest.set_results_path_and_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Setting the results_path and results_file parameter for a specific test</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>func_name</strong> (<em>str</em>) – the name of the function which use for the test</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.perftests.PASTest.set_storageclass">
<code class="sig-name descname">set_storageclass</code><span class="sig-paren">(</span><em class="sig-param">interface</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.perftests.PASTest.set_storageclass" title="Permalink to this definition">¶</a></dt>
<dd><p>Setting the benchmark CRD storageclass</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>interface</strong> (<em>str</em>) – The interface which will used in the test</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.perftests.PASTest.setup">
<code class="sig-name descname">setup</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.perftests.PASTest.setup" title="Permalink to this definition">¶</a></dt>
<dd><p>Setting up the environment for each performance and scale test</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em>) – The test name that will use in the performance dashboard</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.perftests.PASTest.teardown">
<code class="sig-name descname">teardown</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.perftests.PASTest.teardown" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.perftests.PASTest.wait_for_wl_to_finish">
<code class="sig-name descname">wait_for_wl_to_finish</code><span class="sig-paren">(</span><em class="sig-param">timeout=18000</em>, <em class="sig-param">sleep=300</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.perftests.PASTest.wait_for_wl_to_finish" title="Permalink to this definition">¶</a></dt>
<dd><p>Waiting until the workload is finished and get the test log</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>timeout</strong> (<em>int</em>) – time in second to wait until the benchmark start</p></li>
<li><p><strong>sleep</strong> (<em>int</em>) – Sleep interval seconds</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Raise:</dt><dd><p>exception for too much restarts of the test.
ResourceWrongStatusException : test Failed / Error
TimeoutExpiredError : test did not completed on time.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.perftests.PASTest.write_result_to_file">
<code class="sig-name descname">write_result_to_file</code><span class="sig-paren">(</span><em class="sig-param">res_link</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.perftests.PASTest.write_result_to_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the results link into file, to combine all sub-tests results
together in one file, so it can be easily pushed into the performance dashboard</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>res_link</strong> (<em>str</em>) – http link to the test results in the ES server</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-ocs_ci.ocs.pgsql">
<span id="ocs-ci-ocs-pgsql-module"></span><h2>ocs_ci.ocs.pgsql module<a class="headerlink" href="#module-ocs_ci.ocs.pgsql" title="Permalink to this headline">¶</a></h2>
<p>Postgresql workload class</p>
<dl class="class">
<dt id="ocs_ci.ocs.pgsql.Postgresql">
<em class="property">class </em><code class="sig-prename descclassname">ocs_ci.ocs.pgsql.</code><code class="sig-name descname">Postgresql</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.pgsql.Postgresql" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ocs_ci.ocs.benchmark_operator.BenchmarkOperator" title="ocs_ci.ocs.benchmark_operator.BenchmarkOperator"><code class="xref py py-class docutils literal notranslate"><span class="pre">ocs_ci.ocs.benchmark_operator.BenchmarkOperator</span></code></a></p>
<p>Postgresql workload operation</p>
<dl class="method">
<dt id="ocs_ci.ocs.pgsql.Postgresql.attach_pgsql_pod_to_claim_pvc">
<code class="sig-name descname">attach_pgsql_pod_to_claim_pvc</code><span class="sig-paren">(</span><em class="sig-param">pvc_objs</em>, <em class="sig-param">postgres_name</em>, <em class="sig-param">run_benchmark=True</em>, <em class="sig-param">pgbench_name=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.pgsql.Postgresql.attach_pgsql_pod_to_claim_pvc" title="Permalink to this definition">¶</a></dt>
<dd><p>Attaches pgsql pod to created claim PVC</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pvc_objs</strong> (<em>list</em>) – List of PVC objs which needs to attached to pod</p></li>
<li><p><strong>postgres_name</strong> (<em>str</em>) – Name of the postgres pod</p></li>
<li><p><strong>run_benchmark</strong> (<em>bool</em>) – On true, runs pgbench benchmark on postgres pod</p></li>
<li><p><strong>pgbench_name</strong> (<em>str</em>) – Name of pgbench benchmark</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of pod objs created</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pgsql_obj_list (list)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.pgsql.Postgresql.cleanup">
<code class="sig-name descname">cleanup</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.pgsql.Postgresql.cleanup" title="Permalink to this definition">¶</a></dt>
<dd><p>Clean up</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.pgsql.Postgresql.create_pgbench_benchmark">
<code class="sig-name descname">create_pgbench_benchmark</code><span class="sig-paren">(</span><em class="sig-param">replicas</em>, <em class="sig-param">pgbench_name=None</em>, <em class="sig-param">postgres_name=None</em>, <em class="sig-param">clients=None</em>, <em class="sig-param">threads=None</em>, <em class="sig-param">transactions=None</em>, <em class="sig-param">scaling_factor=None</em>, <em class="sig-param">timeout=None</em>, <em class="sig-param">samples=None</em>, <em class="sig-param">wait=True</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.pgsql.Postgresql.create_pgbench_benchmark" title="Permalink to this definition">¶</a></dt>
<dd><p>Create pgbench benchmark pods</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>replicas</strong> (<em>int</em>) – Number of pgbench pods to be deployed</p></li>
<li><p><strong>pgbench_name</strong> (<em>str</em>) – Name of pgbench bechmark</p></li>
<li><p><strong>postgres_name</strong> (<em>str</em>) – Name of postgres pod</p></li>
<li><p><strong>clients</strong> (<em>int</em>) – Number of clients</p></li>
<li><p><strong>threads</strong> (<em>int</em>) – Number of threads</p></li>
<li><p><strong>transactions</strong> (<em>int</em>) – Number of transactions</p></li>
<li><p><strong>scaling_factor</strong> (<em>int</em>) – scaling factor</p></li>
<li><p><strong>timeout</strong> (<em>int</em>) – Time in seconds to wait</p></li>
<li><p><strong>wait</strong> (<em>bool</em>) – On true waits till pgbench reaches Completed state</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>pgbench pod objects list</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>List</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.pgsql.Postgresql.delete_pgbench_pods">
<code class="sig-name descname">delete_pgbench_pods</code><span class="sig-paren">(</span><em class="sig-param">pg_obj_list</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.pgsql.Postgresql.delete_pgbench_pods" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete all pgbench pods on cluster</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True if deleted, False otherwise</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.pgsql.Postgresql.export_pgoutput_to_googlesheet">
<code class="sig-name descname">export_pgoutput_to_googlesheet</code><span class="sig-paren">(</span><em class="sig-param">pg_output</em>, <em class="sig-param">sheet_name</em>, <em class="sig-param">sheet_index</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.pgsql.Postgresql.export_pgoutput_to_googlesheet" title="Permalink to this definition">¶</a></dt>
<dd><p>Collect pgbench output to google spreadsheet</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pg_output</strong> (<em>list</em>) – pgbench outputs in list</p></li>
<li><p><strong>sheet_name</strong> (<em>str</em>) – Name of the sheet</p></li>
<li><p><strong>sheet_index</strong> (<em>int</em>) – Index of sheet</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.pgsql.Postgresql.filter_pgbench_nodes_from_nodeslist">
<code class="sig-name descname">filter_pgbench_nodes_from_nodeslist</code><span class="sig-paren">(</span><em class="sig-param">nodes_list</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.pgsql.Postgresql.filter_pgbench_nodes_from_nodeslist" title="Permalink to this definition">¶</a></dt>
<dd><p>Filter pgbench nodes from the given nodes list</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>nodes_list</strong> (<em>list</em>) – List of nodes to be filtered</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of pgbench not running nodes from the given nodes list</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.pgsql.Postgresql.get_pgbech_pod_status_table">
<code class="sig-name descname">get_pgbech_pod_status_table</code><span class="sig-paren">(</span><em class="sig-param">pgbench_pods</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.pgsql.Postgresql.get_pgbech_pod_status_table" title="Permalink to this definition">¶</a></dt>
<dd><p>Get pgbench pod data and print results on a table</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>pods</strong> (<em>pgbench</em>) – List of pgbench pods</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.pgsql.Postgresql.get_pgbench_pods">
<code class="sig-name descname">get_pgbench_pods</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.pgsql.Postgresql.get_pgbench_pods" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all pgbench pods</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>pgbench pod objects list</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>List</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.pgsql.Postgresql.get_pgbench_running_nodes">
<code class="sig-name descname">get_pgbench_running_nodes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.pgsql.Postgresql.get_pgbench_running_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>get nodes that contains pgbench pods</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>List of pgbench running nodes</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.pgsql.Postgresql.get_pgbench_status">
<code class="sig-name descname">get_pgbench_status</code><span class="sig-paren">(</span><em class="sig-param">pgbench_pod_name</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.pgsql.Postgresql.get_pgbench_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Get pgbench status</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>pgbench_pod_name</strong> (<em>str</em>) – Name of the pgbench pod</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>state of pgbench pod (running/completed)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.pgsql.Postgresql.get_pgsql_nodes">
<code class="sig-name descname">get_pgsql_nodes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.pgsql.Postgresql.get_pgsql_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Get nodes that contain a pgsql app pod</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Cluster node OCP objects</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.pgsql.Postgresql.get_postgres_pods">
<code class="sig-name descname">get_postgres_pods</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.pgsql.Postgresql.get_postgres_pods" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all postgres pods
:returns: postgres pod objects list
:rtype: List</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.pgsql.Postgresql.get_postgres_pvc">
<code class="sig-name descname">get_postgres_pvc</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.pgsql.Postgresql.get_postgres_pvc" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all postgres pvc</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>postgres pvc objects list</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>List</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.pgsql.Postgresql.get_postgres_used_file_space">
<code class="sig-name descname">get_postgres_used_file_space</code><span class="sig-paren">(</span><em class="sig-param">pod_obj_list</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.pgsql.Postgresql.get_postgres_used_file_space" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the used file space on a mount point</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>pod_obj_list</strong> (<em>POD</em>) – List of pod objects</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of pod object</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.pgsql.Postgresql.is_pgbench_running">
<code class="sig-name descname">is_pgbench_running</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.pgsql.Postgresql.is_pgbench_running" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if pgbench is running</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True if pgbench is running; False otherwise</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.pgsql.Postgresql.pgsql_full">
<code class="sig-name descname">pgsql_full</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.pgsql.Postgresql.pgsql_full" title="Permalink to this definition">¶</a></dt>
<dd><p>Run full pgsql workload</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.pgsql.Postgresql.respin_pgsql_app_pod">
<code class="sig-name descname">respin_pgsql_app_pod</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.pgsql.Postgresql.respin_pgsql_app_pod" title="Permalink to this definition">¶</a></dt>
<dd><p>Respin the pgsql app pod</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>pod status</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.pgsql.Postgresql.setup_postgresql">
<code class="sig-name descname">setup_postgresql</code><span class="sig-paren">(</span><em class="sig-param">replicas</em>, <em class="sig-param">sc_name=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.pgsql.Postgresql.setup_postgresql" title="Permalink to this definition">¶</a></dt>
<dd><p>Deploy postgres sql server</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>replicas</strong> (<em>int</em>) – Number of postgresql pods to be deployed</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="#ocs_ci.ocs.exceptions.CommandFailed" title="ocs_ci.ocs.exceptions.CommandFailed"><strong>CommandFailed</strong></a> – If PostgreSQL server setup fails</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.pgsql.Postgresql.validate_pgbench_run">
<code class="sig-name descname">validate_pgbench_run</code><span class="sig-paren">(</span><em class="sig-param">pgbench_pods</em>, <em class="sig-param">print_table=True</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.pgsql.Postgresql.validate_pgbench_run" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate pgbench run</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>pods</strong> (<em>pgbench</em>) – List of pgbench pods</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>pgbench outputs in list</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pg_output (list)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.pgsql.Postgresql.wait_for_pgbench_status">
<code class="sig-name descname">wait_for_pgbench_status</code><span class="sig-paren">(</span><em class="sig-param">status</em>, <em class="sig-param">timeout=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.pgsql.Postgresql.wait_for_pgbench_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Wait for pgbench benchmark pods status to reach running/completed</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>status</strong> (<em>str</em>) – status to reach Running or Completed</p></li>
<li><p><strong>timeout</strong> (<em>int</em>) – Time in seconds to wait</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.pgsql.Postgresql.wait_for_postgres_status">
<code class="sig-name descname">wait_for_postgres_status</code><span class="sig-paren">(</span><em class="sig-param">status='Running'</em>, <em class="sig-param">timeout=300</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.pgsql.Postgresql.wait_for_postgres_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Wait for postgres pods status to reach running/completed</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>status</strong> (<em>str</em>) – status to reach Running or Completed</p></li>
<li><p><strong>timeout</strong> (<em>int</em>) – Time in seconds to wait</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-ocs_ci.ocs.pillowfight">
<span id="ocs-ci-ocs-pillowfight-module"></span><h2>ocs_ci.ocs.pillowfight module<a class="headerlink" href="#module-ocs_ci.ocs.pillowfight" title="Permalink to this headline">¶</a></h2>
<p>Pillowfight Class to run various workloads and scale tests</p>
<dl class="class">
<dt id="ocs_ci.ocs.pillowfight.PillowFight">
<em class="property">class </em><code class="sig-prename descclassname">ocs_ci.ocs.pillowfight.</code><code class="sig-name descname">PillowFight</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.pillowfight.PillowFight" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Workload operation using PillowFight
This class was modelled after the RipSaw class in this directory.</p>
<dl class="attribute">
<dt id="ocs_ci.ocs.pillowfight.PillowFight.MAX_ACCEPTABLE_RESPONSE_TIME">
<code class="sig-name descname">MAX_ACCEPTABLE_RESPONSE_TIME</code><em class="property"> = 2000</em><a class="headerlink" href="#ocs_ci.ocs.pillowfight.PillowFight.MAX_ACCEPTABLE_RESPONSE_TIME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="ocs_ci.ocs.pillowfight.PillowFight.MIN_ACCEPTABLE_OPS_PER_SEC">
<code class="sig-name descname">MIN_ACCEPTABLE_OPS_PER_SEC</code><em class="property"> = 2000</em><a class="headerlink" href="#ocs_ci.ocs.pillowfight.PillowFight.MIN_ACCEPTABLE_OPS_PER_SEC" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.pillowfight.PillowFight.analyze_all">
<code class="sig-name descname">analyze_all</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.pillowfight.PillowFight.analyze_all" title="Permalink to this definition">¶</a></dt>
<dd><p>Analyze the data extracted into self.logs files</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.pillowfight.PillowFight.cleanup">
<code class="sig-name descname">cleanup</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.pillowfight.PillowFight.cleanup" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove pillowfight pods and temp files</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.pillowfight.PillowFight.export_pfoutput_to_googlesheet">
<code class="sig-name descname">export_pfoutput_to_googlesheet</code><span class="sig-paren">(</span><em class="sig-param">sheet_name</em>, <em class="sig-param">sheet_index</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.pillowfight.PillowFight.export_pfoutput_to_googlesheet" title="Permalink to this definition">¶</a></dt>
<dd><p>Collect pillowfight output to google spreadsheet</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sheet_name</strong> (<em>str</em>) – Name of the sheet</p></li>
<li><p><strong>sheet_index</strong> (<em>int</em>) – Index of sheet</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.pillowfight.PillowFight.parse_pillowfight_log">
<code class="sig-name descname">parse_pillowfight_log</code><span class="sig-paren">(</span><em class="sig-param">data_from_log</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.pillowfight.PillowFight.parse_pillowfight_log" title="Permalink to this definition">¶</a></dt>
<dd><p>Run oc logs on the pillowfight pod passed in.  Cleanup the output
from oc logs to handle peculiarities in the couchbase log results,
and generate a summary of the results.</p>
<p>The dictionary returned has two values; ‘opspersec’ and ‘resptimes’.
opspersec is a list of ops per second numbers reported.’
resptimes is a dictionary index by the max response time of a range.
Each entry in resptimes contains a minimum response time for that range,
and a count of how many messages fall within that range.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>data_from_log</strong> (<em>str</em>) – log data</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ops per sec and response time information</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.pillowfight.PillowFight.run_pillowfights">
<code class="sig-name descname">run_pillowfights</code><span class="sig-paren">(</span><em class="sig-param">replicas=1</em>, <em class="sig-param">num_items=None</em>, <em class="sig-param">num_threads=None</em>, <em class="sig-param">num_of_cycles=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.pillowfight.PillowFight.run_pillowfights" title="Permalink to this definition">¶</a></dt>
<dd><p>loop through all the yaml files extracted from the pillowfight repo
and run them.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>replicas</strong> (<em>int</em>) – Number of pod replicas</p></li>
<li><p><strong>num_items</strong> (<em>int</em>) – Number of items to be loaded to the cluster</p></li>
<li><p><strong>num_threads</strong> (<em>int</em>) – Number of threads</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.pillowfight.PillowFight.sanity_check">
<code class="sig-name descname">sanity_check</code><span class="sig-paren">(</span><em class="sig-param">stats</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.pillowfight.PillowFight.sanity_check" title="Permalink to this definition">¶</a></dt>
<dd><p>Make sure the worst cases for ops per second and response times are
within an acceptable range.</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.pillowfight.PillowFight.wait_for_pillowfights_to_complete">
<code class="sig-name descname">wait_for_pillowfights_to_complete</code><span class="sig-paren">(</span><em class="sig-param">timeout=1800</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.pillowfight.PillowFight.wait_for_pillowfights_to_complete" title="Permalink to this definition">¶</a></dt>
<dd><p>Wait for the pillowfights to complete.
Run oc logs on the results and save the logs in self.logs directory</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>Exception</strong> – If pillowfight fails to reach completed state</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-ocs_ci.ocs.platform_nodes">
<span id="ocs-ci-ocs-platform-nodes-module"></span><h2>ocs_ci.ocs.platform_nodes module<a class="headerlink" href="#module-ocs_ci.ocs.platform_nodes" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ocs_ci.ocs.platform_nodes.AWSNodes">
<em class="property">class </em><code class="sig-prename descclassname">ocs_ci.ocs.platform_nodes.</code><code class="sig-name descname">AWSNodes</code><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.AWSNodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ocs_ci.ocs.platform_nodes.NodesBase" title="ocs_ci.ocs.platform_nodes.NodesBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">ocs_ci.ocs.platform_nodes.NodesBase</span></code></a></p>
<p>AWS EC2 instances class</p>
<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.AWSNodes.all_nodes_found">
<code class="sig-name descname">all_nodes_found</code><span class="sig-paren">(</span><em class="sig-param">node_names</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.AWSNodes.all_nodes_found" title="Permalink to this definition">¶</a></dt>
<dd><p>Relying on oc get nodes -o wide to confirm that
node is added to cluster</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>node_names</strong> (<em>list</em>) – of node names as string</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>‘True’ if all the node names appeared in ‘get nodes’
else ‘False’</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.AWSNodes.approve_all_nodes_csr">
<code class="sig-name descname">approve_all_nodes_csr</code><span class="sig-paren">(</span><em class="sig-param">node_list</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.AWSNodes.approve_all_nodes_csr" title="Permalink to this definition">¶</a></dt>
<dd><p>Make sure that all the newly added nodes are in approved csr state</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>node_list</strong> (<em>list</em>) – of AWSUPINode/AWSIPINode objects</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="#ocs_ci.ocs.exceptions.PendingCSRException" title="ocs_ci.ocs.exceptions.PendingCSRException"><strong>PendingCSRException</strong></a> – If any pending csrs exists</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.AWSNodes.attach_nodes_to_cluster">
<code class="sig-name descname">attach_nodes_to_cluster</code><span class="sig-paren">(</span><em class="sig-param">node_list</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.AWSNodes.attach_nodes_to_cluster" title="Permalink to this definition">¶</a></dt>
<dd><p>Attach nodes in the list to the cluster</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>node_list</strong> (<em>list</em>) – of AWSUPINode/AWSIPINode objects</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.AWSNodes.attach_nodes_to_upi_cluster">
<code class="sig-name descname">attach_nodes_to_upi_cluster</code><span class="sig-paren">(</span><em class="sig-param">node_list</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.AWSNodes.attach_nodes_to_upi_cluster" title="Permalink to this definition">¶</a></dt>
<dd><p>Attach node to upi cluster
Note: For RHCOS nodes, create function itself would have
attached the nodes to cluster so nothing to do here</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>node_list</strong> (<em>list</em>) – of AWSUPINode objects</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.AWSNodes.attach_rhel_nodes_to_upi_cluster">
<code class="sig-name descname">attach_rhel_nodes_to_upi_cluster</code><span class="sig-paren">(</span><em class="sig-param">node_list</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.AWSNodes.attach_rhel_nodes_to_upi_cluster" title="Permalink to this definition">¶</a></dt>
<dd><p>Attach RHEL nodes to upi cluster</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>node_list</strong> (<em>list</em>) – of AWSUPINode objects with RHEL os</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.AWSNodes.attach_volume">
<code class="sig-name descname">attach_volume</code><span class="sig-paren">(</span><em class="sig-param">volume</em>, <em class="sig-param">node</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.AWSNodes.attach_volume" title="Permalink to this definition">¶</a></dt>
<dd><p>Attach a data volume to an instance</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>volume</strong> (<em>Volume</em>) – The volume to delete</p></li>
<li><p><strong>node</strong> (<a class="reference internal" href="ocs_ci.ocs.resources.html#ocs_ci.ocs.resources.ocs.OCS" title="ocs_ci.ocs.resources.ocs.OCS"><em>OCS</em></a>) – The EC2 instance to attach the volume to</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.AWSNodes.build_ansible_inventory">
<code class="sig-name descname">build_ansible_inventory</code><span class="sig-paren">(</span><em class="sig-param">hosts</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.AWSNodes.build_ansible_inventory" title="Permalink to this definition">¶</a></dt>
<dd><p>Build the ansible hosts file from jinja template</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>hosts</strong> (<em>list</em>) – list of private host names</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>path of the ansible file created</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.AWSNodes.check_connection">
<code class="sig-name descname">check_connection</code><span class="sig-paren">(</span><em class="sig-param">rhel_pod_obj</em>, <em class="sig-param">host</em>, <em class="sig-param">pem_dst_path</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.AWSNodes.check_connection" title="Permalink to this definition">¶</a></dt>
<dd><p>Check whether newly brought up RHEL instances are accepting
ssh connections</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rhel_pod_obj</strong> (<a class="reference internal" href="ocs_ci.ocs.resources.html#ocs_ci.ocs.resources.pod.Pod" title="ocs_ci.ocs.resources.pod.Pod"><em>Pod</em></a>) – object for handling ansible pod</p></li>
<li><p><strong>host</strong> (<em>str</em>) – Node to which we want to try ssh</p></li>
<li><p><strong>pem_dst_path</strong> (<em>str</em>) – path to private key for ssh</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.AWSNodes.create_nodes">
<code class="sig-name descname">create_nodes</code><span class="sig-paren">(</span><em class="sig-param">node_conf</em>, <em class="sig-param">node_type</em>, <em class="sig-param">num_nodes</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.AWSNodes.create_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>create aws instances of nodes</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>node_conf</strong> (<em>dict</em>) – of node configuration</p></li>
<li><p><strong>node_type</strong> (<em>str</em>) – type of node to be created RHCOS/RHEL</p></li>
<li><p><strong>num_nodes</strong> (<em>int</em>) – Number of node instances to be created</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>of AWSUPINode objects</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.AWSNodes.detach_volume">
<code class="sig-name descname">detach_volume</code><span class="sig-paren">(</span><em class="sig-param">volume</em>, <em class="sig-param">node=None</em>, <em class="sig-param">delete_from_backend=True</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.AWSNodes.detach_volume" title="Permalink to this definition">¶</a></dt>
<dd><p>Detach a volume from an EC2 instance</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>volume</strong> (<em>Volume</em>) – The volume to delete</p></li>
<li><p><strong>node</strong> (<a class="reference internal" href="ocs_ci.ocs.resources.html#ocs_ci.ocs.resources.ocs.OCS" title="ocs_ci.ocs.resources.ocs.OCS"><em>OCS</em></a>) – The OCS object representing the node</p></li>
<li><p><strong>delete_from_backend</strong> (<em>bool</em>) – True for deleting the disk from the
storage backend, False otherwise</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.AWSNodes.get_available_slots">
<code class="sig-name descname">get_available_slots</code><span class="sig-paren">(</span><em class="sig-param">existing_indexes</em>, <em class="sig-param">required_slots</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.AWSNodes.get_available_slots" title="Permalink to this definition">¶</a></dt>
<dd><p>Get indexes which are free</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>existing_indexes</strong> (<em>list</em>) – of integers</p></li>
<li><p><strong>required_slots</strong> (<em>int</em>) – required number of integers</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>of integers (available slots)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.AWSNodes.get_data_volumes">
<code class="sig-name descname">get_data_volumes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.AWSNodes.get_data_volumes" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the data EBS volumes</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>EBS Volume instances</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.AWSNodes.get_ec2_instances">
<code class="sig-name descname">get_ec2_instances</code><span class="sig-paren">(</span><em class="sig-param">nodes</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.AWSNodes.get_ec2_instances" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the EC2 instances dicts</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>nodes</strong> (<em>list</em>) – The OCS objects of the nodes</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The EC2 instances dicts (IDs and names)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.AWSNodes.get_existing_indexes">
<code class="sig-name descname">get_existing_indexes</code><span class="sig-paren">(</span><em class="sig-param">index_list</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.AWSNodes.get_existing_indexes" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract index suffixes from index_list</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>index_list</strong> (<em>list</em>) – of stack names in the form of
‘clustername-no$i’</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>sorted list of Integers</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.AWSNodes.get_node_by_attached_volume">
<code class="sig-name descname">get_node_by_attached_volume</code><span class="sig-paren">(</span><em class="sig-param">volume</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.AWSNodes.get_node_by_attached_volume" title="Permalink to this definition">¶</a></dt>
<dd><p>Get node OCS object of the EC2 instance that has the volume attached to</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>volume</strong> (<em>Volume</em>) – The volume to get the EC2 according to</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The OCS object of the EC2 instance</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="ocs_ci.ocs.resources.html#ocs_ci.ocs.resources.ocs.OCS" title="ocs_ci.ocs.resources.ocs.OCS">OCS</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.AWSNodes.get_ready_status">
<code class="sig-name descname">get_ready_status</code><span class="sig-paren">(</span><em class="sig-param">node_info</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.AWSNodes.get_ready_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the node ‘Ready’ status</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>node_info</strong> (<em>dict</em>) – Node info which includes details</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if node is Ready else False</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.AWSNodes.get_stack_name_of_node">
<code class="sig-name descname">get_stack_name_of_node</code><span class="sig-paren">(</span><em class="sig-param">node_name</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.AWSNodes.get_stack_name_of_node" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the stack name of a given node</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>node_name</strong> (<em>str</em>) – the name of the node</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The stack name of the given node</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.AWSNodes.restart_nodes">
<code class="sig-name descname">restart_nodes</code><span class="sig-paren">(</span><em class="sig-param">nodes</em>, <em class="sig-param">timeout=300</em>, <em class="sig-param">wait=True</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.AWSNodes.restart_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Restart EC2 instances</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nodes</strong> (<em>list</em>) – The OCS objects of the nodes</p></li>
<li><p><strong>wait</strong> (<em>bool</em>) – True if need to wait till the restarted node reaches
READY state. False otherwise</p></li>
<li><p><strong>timeout</strong> (<em>int</em>) – time in seconds to wait for node to reach ‘not ready’ state,
and ‘ready’ state.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.AWSNodes.restart_nodes_by_stop_and_start">
<code class="sig-name descname">restart_nodes_by_stop_and_start</code><span class="sig-paren">(</span><em class="sig-param">nodes</em>, <em class="sig-param">wait=True</em>, <em class="sig-param">force=True</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.AWSNodes.restart_nodes_by_stop_and_start" title="Permalink to this definition">¶</a></dt>
<dd><p>Restart nodes by stopping and starting EC2 instances</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nodes</strong> (<em>list</em>) – The OCS objects of the nodes</p></li>
<li><p><strong>wait</strong> (<em>bool</em>) – True in case wait for status is needed,
False otherwise</p></li>
<li><p><strong>force</strong> (<em>bool</em>) – True for force instance stop, False otherwise</p></li>
</ul>
</dd>
</dl>
<p>Returns:</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.AWSNodes.restart_nodes_by_stop_and_start_teardown">
<code class="sig-name descname">restart_nodes_by_stop_and_start_teardown</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.AWSNodes.restart_nodes_by_stop_and_start_teardown" title="Permalink to this definition">¶</a></dt>
<dd><p>Make sure all EC2 instances are up. To be used in the test teardown</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.AWSNodes.start_nodes">
<code class="sig-name descname">start_nodes</code><span class="sig-paren">(</span><em class="sig-param">instances=None</em>, <em class="sig-param">nodes=None</em>, <em class="sig-param">wait=True</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.AWSNodes.start_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Start EC2 instances</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nodes</strong> (<em>list</em>) – The OCS objects of the nodes</p></li>
<li><p><strong>instances</strong> (<em>dict</em>) – instance-id and name dict</p></li>
<li><p><strong>wait</strong> (<em>bool</em>) – True for waiting the instances to start, False otherwise</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.AWSNodes.stop_nodes">
<code class="sig-name descname">stop_nodes</code><span class="sig-paren">(</span><em class="sig-param">nodes</em>, <em class="sig-param">wait=True</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.AWSNodes.stop_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Stop EC2 instances</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nodes</strong> (<em>list</em>) – The OCS objects of the nodes</p></li>
<li><p><strong>wait</strong> (<em>bool</em>) – True for waiting the instances to stop, False otherwise</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.AWSNodes.terminate_nodes">
<code class="sig-name descname">terminate_nodes</code><span class="sig-paren">(</span><em class="sig-param">nodes</em>, <em class="sig-param">wait=True</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.AWSNodes.terminate_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Terminate EC2 instances</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nodes</strong> (<em>list</em>) – The OCS objects of the nodes</p></li>
<li><p><strong>wait</strong> (<em>bool</em>) – True for waiting the instances to terminate,</p></li>
<li><p><strong>otherwise</strong> (<em>False</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.AWSNodes.verify_nodes_added">
<code class="sig-name descname">verify_nodes_added</code><span class="sig-paren">(</span><em class="sig-param">hosts</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.AWSNodes.verify_nodes_added" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify RHEL workers are added</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>hosts</strong> (<em>list</em>) – list of aws private hostnames</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="#ocs_ci.ocs.exceptions.FailedToAddNodeException" title="ocs_ci.ocs.exceptions.FailedToAddNodeException"><strong>FailedToAddNodeException</strong></a> – if node addition failed</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.AWSNodes.wait_for_nodes_to_stop">
<code class="sig-name descname">wait_for_nodes_to_stop</code><span class="sig-paren">(</span><em class="sig-param">nodes</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.AWSNodes.wait_for_nodes_to_stop" title="Permalink to this definition">¶</a></dt>
<dd><p>Wait for the nodes to reach status stopped</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>nodes</strong> (<em>list</em>) – The OCS objects of the nodes</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="#ocs_ci.ocs.exceptions.ResourceWrongStatusException" title="ocs_ci.ocs.exceptions.ResourceWrongStatusException"><strong>ResourceWrongStatusException</strong></a> – In case of the nodes didn’t reach the expected status stopped.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.AWSNodes.wait_for_nodes_to_stop_or_terminate">
<code class="sig-name descname">wait_for_nodes_to_stop_or_terminate</code><span class="sig-paren">(</span><em class="sig-param">nodes</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.AWSNodes.wait_for_nodes_to_stop_or_terminate" title="Permalink to this definition">¶</a></dt>
<dd><p>Wait for the nodes to reach status stopped or terminated</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>nodes</strong> (<em>list</em>) – The OCS objects of the nodes</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="#ocs_ci.ocs.exceptions.ResourceWrongStatusException" title="ocs_ci.ocs.exceptions.ResourceWrongStatusException"><strong>ResourceWrongStatusException</strong></a> – In case of the nodes didn’t reach the expected
    status stopped or terminated.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.AWSNodes.wait_for_nodes_to_terminate">
<code class="sig-name descname">wait_for_nodes_to_terminate</code><span class="sig-paren">(</span><em class="sig-param">nodes</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.AWSNodes.wait_for_nodes_to_terminate" title="Permalink to this definition">¶</a></dt>
<dd><p>Wait for the nodes to reach status terminated</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>nodes</strong> (<em>list</em>) – The OCS objects of the nodes</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="#ocs_ci.ocs.exceptions.ResourceWrongStatusException" title="ocs_ci.ocs.exceptions.ResourceWrongStatusException"><strong>ResourceWrongStatusException</strong></a> – In case of the nodes didn’t reach the expected status terminated.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.AWSNodes.wait_for_volume_attach">
<code class="sig-name descname">wait_for_volume_attach</code><span class="sig-paren">(</span><em class="sig-param">volume</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.AWSNodes.wait_for_volume_attach" title="Permalink to this definition">¶</a></dt>
<dd><p>Wait for an EBS volume to be attached to an EC2 instance.
This is used as when detaching the EBS volume from the EC2 instance,
re-attach should take place automatically</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>volume</strong> (<em>Volume</em>) – The volume to wait for to be attached</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>True if the volume has been attached to the</dt><dd><p>instance, False otherwise</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="ocs_ci.ocs.platform_nodes.AWSUPINode">
<em class="property">class </em><code class="sig-prename descclassname">ocs_ci.ocs.platform_nodes.</code><code class="sig-name descname">AWSUPINode</code><span class="sig-paren">(</span><em class="sig-param">node_conf</em>, <em class="sig-param">node_type</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.AWSUPINode" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ocs_ci.ocs.platform_nodes.AWSNodes" title="ocs_ci.ocs.platform_nodes.AWSNodes"><code class="xref py py-class docutils literal notranslate"><span class="pre">ocs_ci.ocs.platform_nodes.AWSNodes</span></code></a></p>
<p>Node object representing AWS upi nodes</p>
<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.AWSUPINode.add_cert_to_template">
<code class="sig-name descname">add_cert_to_template</code><span class="sig-paren">(</span><em class="sig-param">worker_template_path</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.AWSUPINode.add_cert_to_template" title="Permalink to this definition">¶</a></dt>
<dd><p>Add cert to worker template</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>worker_template_path</strong> (<em>str</em>) – Path where template file is located</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.AWSUPINode.build_stack_params">
<code class="sig-name descname">build_stack_params</code><span class="sig-paren">(</span><em class="sig-param">index</em>, <em class="sig-param">conf</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.AWSUPINode.build_stack_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Build all the params required for a stack creation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>index</strong> (<em>int</em>) – An integer index for this stack</p></li>
<li><p><strong>conf</strong> (<em>dict</em>) – Node config</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>of param dicts</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.AWSUPINode.gather_worker_data">
<code class="sig-name descname">gather_worker_data</code><span class="sig-paren">(</span><em class="sig-param">suffix='no0'</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.AWSUPINode.gather_worker_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Gather various info like vpc, iam role, subnet,security group,
cluster tag from existing RHCOS workers</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>suffix</strong> (<em>str</em>) – suffix to get resource of worker node, ‘no0’ by default</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.AWSUPINode.get_cert_content">
<code class="sig-name descname">get_cert_content</code><span class="sig-paren">(</span><em class="sig-param">worker_ignition_path</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.AWSUPINode.get_cert_content" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the certificate content from worker ignition file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>worker_ignition_path</strong> (<em>str</em>) – Path of the worker ignition file</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>certificate content</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>formatted_cert (str)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.AWSUPINode.get_kube_tag">
<code class="sig-name descname">get_kube_tag</code><span class="sig-paren">(</span><em class="sig-param">tags</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.AWSUPINode.get_kube_tag" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetch kubernets.io tag from worker instance</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>tags</strong> (<em>dict</em>) – AWS tags from existing worker</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>key looks like</dt><dd><p>”kubernetes.io/cluster/&lt;cluster-name&gt;” and value looks like
“share” OR “owned”</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.AWSUPINode.get_rhcos_worker_template">
<code class="sig-name descname">get_rhcos_worker_template</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.AWSUPINode.get_rhcos_worker_template" title="Permalink to this definition">¶</a></dt>
<dd><p>Download template and keep it locally</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>local path to template file</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>path (str)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.AWSUPINode.get_worker_resource_id">
<code class="sig-name descname">get_worker_resource_id</code><span class="sig-paren">(</span><em class="sig-param">resource</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.AWSUPINode.get_worker_resource_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the resource ID</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>resource</strong> (<em>dict</em>) – a dictionary of stack resource</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ID of worker stack resource</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.AWSUPINode.update_template_with_cert">
<code class="sig-name descname">update_template_with_cert</code><span class="sig-paren">(</span><em class="sig-param">worker_template_path</em>, <em class="sig-param">cert</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.AWSUPINode.update_template_with_cert" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the template file with cert provided</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>worker_template_path</strong> (<em>str</em>) – template file path</p></li>
<li><p><strong>cert</strong> (<em>str</em>) – Certificate body</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="ocs_ci.ocs.platform_nodes.AZURENodes">
<em class="property">class </em><code class="sig-prename descclassname">ocs_ci.ocs.platform_nodes.</code><code class="sig-name descname">AZURENodes</code><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.AZURENodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ocs_ci.ocs.platform_nodes.NodesBase" title="ocs_ci.ocs.platform_nodes.NodesBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">ocs_ci.ocs.platform_nodes.NodesBase</span></code></a></p>
<p>Azure Nodes class</p>
<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.AZURENodes.attach_nodes_to_cluster">
<code class="sig-name descname">attach_nodes_to_cluster</code><span class="sig-paren">(</span><em class="sig-param">node_list</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.AZURENodes.attach_nodes_to_cluster" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.AZURENodes.attach_volume">
<code class="sig-name descname">attach_volume</code><span class="sig-paren">(</span><em class="sig-param">volume</em>, <em class="sig-param">node</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.AZURENodes.attach_volume" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.AZURENodes.create_and_attach_nodes_to_cluster">
<code class="sig-name descname">create_and_attach_nodes_to_cluster</code><span class="sig-paren">(</span><em class="sig-param">node_conf</em>, <em class="sig-param">node_type</em>, <em class="sig-param">num_nodes</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.AZURENodes.create_and_attach_nodes_to_cluster" title="Permalink to this definition">¶</a></dt>
<dd><p>Create nodes and attach them to cluster
Use this function if you want to do both creation/attachment in
a single call</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>node_conf</strong> (<em>dict</em>) – of node configuration</p></li>
<li><p><strong>node_type</strong> (<em>str</em>) – type of node to be created RHCOS/RHEL</p></li>
<li><p><strong>num_nodes</strong> (<em>int</em>) – Number of node instances to be created</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.AZURENodes.create_nodes">
<code class="sig-name descname">create_nodes</code><span class="sig-paren">(</span><em class="sig-param">node_conf</em>, <em class="sig-param">node_type</em>, <em class="sig-param">num_nodes</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.AZURENodes.create_nodes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.AZURENodes.detach_volume">
<code class="sig-name descname">detach_volume</code><span class="sig-paren">(</span><em class="sig-param">volume</em>, <em class="sig-param">node=None</em>, <em class="sig-param">delete_from_backend=True</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.AZURENodes.detach_volume" title="Permalink to this definition">¶</a></dt>
<dd><p>Detach a volume from an Azure Vm instance</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>volume</strong> (<em>Disk</em>) – The disk object required to delete a volume</p></li>
<li><p><strong>node</strong> (<a class="reference internal" href="ocs_ci.ocs.resources.html#ocs_ci.ocs.resources.ocs.OCS" title="ocs_ci.ocs.resources.ocs.OCS"><em>OCS</em></a>) – The OCS object representing the node</p></li>
<li><p><strong>delete_from_backend</strong> (<em>bool</em>) – True for deleting the disk from the
storage backend, False otherwise</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.AZURENodes.get_data_volumes">
<code class="sig-name descname">get_data_volumes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.AZURENodes.get_data_volumes" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the data Azure disk objects</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>azure disk objects</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.AZURENodes.get_node_by_attached_volume">
<code class="sig-name descname">get_node_by_attached_volume</code><span class="sig-paren">(</span><em class="sig-param">volume</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.AZURENodes.get_node_by_attached_volume" title="Permalink to this definition">¶</a></dt>
<dd><p>Get node OCS object of the Azure vm instance that has the volume attached to</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>volume</strong> (<em>Disk</em>) – The disk object to get the Azure Vm according to</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The OCS object of the Azure Vm instance</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="ocs_ci.ocs.resources.html#ocs_ci.ocs.resources.ocs.OCS" title="ocs_ci.ocs.resources.ocs.OCS">OCS</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.AZURENodes.restart_nodes">
<code class="sig-name descname">restart_nodes</code><span class="sig-paren">(</span><em class="sig-param">nodes</em>, <em class="sig-param">timeout=900</em>, <em class="sig-param">wait=True</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.AZURENodes.restart_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Restart Azure vm instances</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nodes</strong> (<em>list</em>) – The OCS objects of the nodes / Azure Vm instance</p></li>
<li><p><strong>wait</strong> (<em>bool</em>) – True if need to wait till the restarted node reaches
READY state. False otherwise</p></li>
<li><p><strong>timeout</strong> (<em>int</em>) – time in seconds to wait for node to reach ‘not ready’ state,
and ‘ready’ state.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.AZURENodes.restart_nodes_by_stop_and_start">
<code class="sig-name descname">restart_nodes_by_stop_and_start</code><span class="sig-paren">(</span><em class="sig-param">nodes</em>, <em class="sig-param">timeout=540</em>, <em class="sig-param">wait=True</em>, <em class="sig-param">force=True</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.AZURENodes.restart_nodes_by_stop_and_start" title="Permalink to this definition">¶</a></dt>
<dd><p>Restart Azure vm instances by stop and start</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nodes</strong> (<em>list</em>) – The OCS objects of the nodes / Azure Vm instance</p></li>
<li><p><strong>wait</strong> (<em>bool</em>) – True if need to wait till the restarted node reaches
READY state. False otherwise</p></li>
<li><p><strong>timeout</strong> (<em>int</em>) – time in seconds to wait for node to reach ‘not ready’ state,
and ‘ready’ state.</p></li>
<li><p><strong>force</strong> (<em>bool</em>) – True for force VM stop, False otherwise</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.AZURENodes.restart_nodes_by_stop_and_start_teardown">
<code class="sig-name descname">restart_nodes_by_stop_and_start_teardown</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.AZURENodes.restart_nodes_by_stop_and_start_teardown" title="Permalink to this definition">¶</a></dt>
<dd><p>Make sure all VM instances up by the end of the test</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.AZURENodes.start_nodes">
<code class="sig-name descname">start_nodes</code><span class="sig-paren">(</span><em class="sig-param">nodes</em>, <em class="sig-param">timeout=540</em>, <em class="sig-param">wait=True</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.AZURENodes.start_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Start Azure vm instances</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nodes</strong> (<em>list</em>) – The OCS objects of the nodes</p></li>
<li><p><strong>wait</strong> (<em>bool</em>) – True for waiting the instances to start, False otherwise</p></li>
<li><p><strong>timeout</strong> (<em>int</em>) – time in seconds to wait for node to reach ‘ready’ state.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.AZURENodes.stop_nodes">
<code class="sig-name descname">stop_nodes</code><span class="sig-paren">(</span><em class="sig-param">nodes</em>, <em class="sig-param">timeout=540</em>, <em class="sig-param">wait=True</em>, <em class="sig-param">force=True</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.AZURENodes.stop_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Stop Azure vm instances</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nodes</strong> (<em>list</em>) – The OCS objects of the nodes</p></li>
<li><p><strong>wait</strong> (<em>bool</em>) – True for waiting the instances to stop, False otherwise</p></li>
<li><p><strong>timeout</strong> (<em>int</em>) – time in seconds to wait for node to reach ‘not ready’ state.</p></li>
<li><p><strong>force</strong> (<em>bool</em>) – True for force VM stop, False otherwise</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.AZURENodes.wait_for_volume_attach">
<code class="sig-name descname">wait_for_volume_attach</code><span class="sig-paren">(</span><em class="sig-param">volume</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.AZURENodes.wait_for_volume_attach" title="Permalink to this definition">¶</a></dt>
<dd><p>Wait for a Disk to be attached to an Azure Vm instance.
This is used as when detaching the Disk from the Azure Vm instance,
re-attach should take place automatically</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>volume</strong> (<em>Disk</em>) – The Disk to wait for to be attached</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>True if the volume has been attached to the</dt><dd><p>instance, False otherwise</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="ocs_ci.ocs.platform_nodes.BaremetalNodes">
<em class="property">class </em><code class="sig-prename descclassname">ocs_ci.ocs.platform_nodes.</code><code class="sig-name descname">BaremetalNodes</code><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.BaremetalNodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ocs_ci.ocs.platform_nodes.NodesBase" title="ocs_ci.ocs.platform_nodes.NodesBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">ocs_ci.ocs.platform_nodes.NodesBase</span></code></a></p>
<p>Baremetal Nodes class</p>
<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.BaremetalNodes.attach_nodes_to_cluster">
<code class="sig-name descname">attach_nodes_to_cluster</code><span class="sig-paren">(</span><em class="sig-param">node_list</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.BaremetalNodes.attach_nodes_to_cluster" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.BaremetalNodes.attach_volume">
<code class="sig-name descname">attach_volume</code><span class="sig-paren">(</span><em class="sig-param">volume</em>, <em class="sig-param">node</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.BaremetalNodes.attach_volume" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.BaremetalNodes.create_and_attach_nodes_to_cluster">
<code class="sig-name descname">create_and_attach_nodes_to_cluster</code><span class="sig-paren">(</span><em class="sig-param">node_conf</em>, <em class="sig-param">node_type</em>, <em class="sig-param">num_nodes</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.BaremetalNodes.create_and_attach_nodes_to_cluster" title="Permalink to this definition">¶</a></dt>
<dd><p>Create nodes and attach them to cluster
Use this function if you want to do both creation/attachment in
a single call</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>node_conf</strong> (<em>dict</em>) – of node configuration</p></li>
<li><p><strong>node_type</strong> (<em>str</em>) – type of node to be created RHCOS/RHEL</p></li>
<li><p><strong>num_nodes</strong> (<em>int</em>) – Number of node instances to be created</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.BaremetalNodes.create_nodes">
<code class="sig-name descname">create_nodes</code><span class="sig-paren">(</span><em class="sig-param">node_conf</em>, <em class="sig-param">node_type</em>, <em class="sig-param">num_nodes</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.BaremetalNodes.create_nodes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.BaremetalNodes.detach_volume">
<code class="sig-name descname">detach_volume</code><span class="sig-paren">(</span><em class="sig-param">volume</em>, <em class="sig-param">node=None</em>, <em class="sig-param">delete_from_backend=True</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.BaremetalNodes.detach_volume" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.BaremetalNodes.get_data_volumes">
<code class="sig-name descname">get_data_volumes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.BaremetalNodes.get_data_volumes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.BaremetalNodes.get_node_by_attached_volume">
<code class="sig-name descname">get_node_by_attached_volume</code><span class="sig-paren">(</span><em class="sig-param">volume</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.BaremetalNodes.get_node_by_attached_volume" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.BaremetalNodes.read_default_config">
<code class="sig-name descname">read_default_config</code><span class="sig-paren">(</span><em class="sig-param">default_config_path</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.BaremetalNodes.read_default_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Commonly used function to read default config</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>default_config_path</strong> (<em>str</em>) – Path to default config file</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>of default config loaded</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.BaremetalNodes.restart_nodes">
<code class="sig-name descname">restart_nodes</code><span class="sig-paren">(</span><em class="sig-param">nodes</em>, <em class="sig-param">force=True</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.BaremetalNodes.restart_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Restart Baremetal Machine</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nodes</strong> (<em>list</em>) – The OCS objects of the nodes</p></li>
<li><p><strong>force</strong> (<em>bool</em>) – True for force BM stop, False otherwise</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.BaremetalNodes.restart_nodes_by_stop_and_start_teardown">
<code class="sig-name descname">restart_nodes_by_stop_and_start_teardown</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.BaremetalNodes.restart_nodes_by_stop_and_start_teardown" title="Permalink to this definition">¶</a></dt>
<dd><p>Make sure all BMs are up by the end of the test</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.BaremetalNodes.start_nodes">
<code class="sig-name descname">start_nodes</code><span class="sig-paren">(</span><em class="sig-param">nodes</em>, <em class="sig-param">wait=True</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.BaremetalNodes.start_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Start Baremetal Machine</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nodes</strong> (<em>list</em>) – The OCS objects of the nodes</p></li>
<li><p><strong>wait</strong> (<em>bool</em>) – Wait for node status</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.BaremetalNodes.stop_nodes">
<code class="sig-name descname">stop_nodes</code><span class="sig-paren">(</span><em class="sig-param">nodes</em>, <em class="sig-param">force=True</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.BaremetalNodes.stop_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Stop Baremetal Machine</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nodes</strong> (<em>list</em>) – The OCS objects of the nodes</p></li>
<li><p><strong>force</strong> (<em>bool</em>) – True for force nodes stop, False otherwise</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.BaremetalNodes.wait_for_volume_attach">
<code class="sig-name descname">wait_for_volume_attach</code><span class="sig-paren">(</span><em class="sig-param">volume</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.BaremetalNodes.wait_for_volume_attach" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="ocs_ci.ocs.platform_nodes.IBMCloud">
<em class="property">class </em><code class="sig-prename descclassname">ocs_ci.ocs.platform_nodes.</code><code class="sig-name descname">IBMCloud</code><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.IBMCloud" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ocs_ci.ocs.platform_nodes.NodesBase" title="ocs_ci.ocs.platform_nodes.NodesBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">ocs_ci.ocs.platform_nodes.NodesBase</span></code></a></p>
<p>IBM Cloud class</p>
<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.IBMCloud.attach_volume">
<code class="sig-name descname">attach_volume</code><span class="sig-paren">(</span><em class="sig-param">volume</em>, <em class="sig-param">node</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.IBMCloud.attach_volume" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.IBMCloud.check_workers_ready_state">
<code class="sig-name descname">check_workers_ready_state</code><span class="sig-paren">(</span><em class="sig-param">cmd</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.IBMCloud.check_workers_ready_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if all worker nodes are in Ready state.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>cmd</strong> (<em>str</em>) – command to get the workers</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>‘True’ if all the node names appeared in ‘Ready’
else ‘False’</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.IBMCloud.create_and_attach_nodes_to_cluster">
<code class="sig-name descname">create_and_attach_nodes_to_cluster</code><span class="sig-paren">(</span><em class="sig-param">node_conf</em>, <em class="sig-param">node_type</em>, <em class="sig-param">num_nodes</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.IBMCloud.create_and_attach_nodes_to_cluster" title="Permalink to this definition">¶</a></dt>
<dd><p>Create nodes and attach them to cluster
Use this function if you want to do both creation/attachment in
a single call</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>node_conf</strong> (<em>dict</em>) – of node configuration</p></li>
<li><p><strong>node_type</strong> (<em>str</em>) – type of node to be created</p></li>
<li><p><strong>num_nodes</strong> (<em>int</em>) – Number of node instances to be created</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.IBMCloud.create_nodes">
<code class="sig-name descname">create_nodes</code><span class="sig-paren">(</span><em class="sig-param">node_conf</em>, <em class="sig-param">node_type</em>, <em class="sig-param">num_nodes</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.IBMCloud.create_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates new node on IBM Cloud.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>node_conf</strong> (<em>dict</em>) – of node configuration</p></li>
<li><p><strong>node_type</strong> (<em>str</em>) – type of node to be created</p></li>
<li><p><strong>num_nodes</strong> (<em>int</em>) – Number of node instances to be created</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>of IBMCloudNode objects</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference internal" href="#ocs_ci.ocs.exceptions.NotAllNodesCreated" title="ocs_ci.ocs.exceptions.NotAllNodesCreated"><strong>NotAllNodesCreated</strong></a> – In case all nodes are not created</p></li>
<li><p><a class="reference internal" href="#ocs_ci.ocs.exceptions.TimeoutExpiredError" title="ocs_ci.ocs.exceptions.TimeoutExpiredError"><strong>TimeoutExpiredError</strong></a> – In case node is not created in time</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.IBMCloud.delete_volume_id">
<code class="sig-name descname">delete_volume_id</code><span class="sig-paren">(</span><em class="sig-param">volume</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.IBMCloud.delete_volume_id" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.IBMCloud.detach_volume">
<code class="sig-name descname">detach_volume</code><span class="sig-paren">(</span><em class="sig-param">volume</em>, <em class="sig-param">node=None</em>, <em class="sig-param">delete_from_backend=True</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.IBMCloud.detach_volume" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.IBMCloud.get_data_volumes">
<code class="sig-name descname">get_data_volumes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.IBMCloud.get_data_volumes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.IBMCloud.get_node_by_attached_volume">
<code class="sig-name descname">get_node_by_attached_volume</code><span class="sig-paren">(</span><em class="sig-param">volume</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.IBMCloud.get_node_by_attached_volume" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.IBMCloud.get_volume_id">
<code class="sig-name descname">get_volume_id</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.IBMCloud.get_volume_id" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.IBMCloud.restart_nodes">
<code class="sig-name descname">restart_nodes</code><span class="sig-paren">(</span><em class="sig-param">nodes</em>, <em class="sig-param">timeout=900</em>, <em class="sig-param">wait=True</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.IBMCloud.restart_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Restart all the ibmcloud vm instances</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nodes</strong> (<em>list</em>) – The OCS objects of the nodes instance</p></li>
<li><p><strong>timeout</strong> (<em>int</em>) – time in seconds to wait for node to reach ‘not ready’ state,
and ‘ready’ state.</p></li>
<li><p><strong>wait</strong> (<em>bool</em>) – True if need to wait till the restarted node reaches
READY state. False otherwise</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.IBMCloud.restart_nodes_by_stop_and_start">
<code class="sig-name descname">restart_nodes_by_stop_and_start</code><span class="sig-paren">(</span><em class="sig-param">nodes</em>, <em class="sig-param">force=True</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.IBMCloud.restart_nodes_by_stop_and_start" title="Permalink to this definition">¶</a></dt>
<dd><p>Make sure all the nodes which are not ready on IBM Cloud</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nodes</strong> (<em>list</em>) – The OCS objects of the nodes instance</p></li>
<li><p><strong>force</strong> (<em>bool</em>) – True for force node stop, False otherwise</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.IBMCloud.restart_nodes_by_stop_and_start_teardown">
<code class="sig-name descname">restart_nodes_by_stop_and_start_teardown</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.IBMCloud.restart_nodes_by_stop_and_start_teardown" title="Permalink to this definition">¶</a></dt>
<dd><p>Make sure all nodes are up by the end of the test on IBM Cloud.</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.IBMCloud.wait_for_volume_attach">
<code class="sig-name descname">wait_for_volume_attach</code><span class="sig-paren">(</span><em class="sig-param">volume</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.IBMCloud.wait_for_volume_attach" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="ocs_ci.ocs.platform_nodes.IBMPowerNodes">
<em class="property">class </em><code class="sig-prename descclassname">ocs_ci.ocs.platform_nodes.</code><code class="sig-name descname">IBMPowerNodes</code><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.IBMPowerNodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ocs_ci.ocs.platform_nodes.NodesBase" title="ocs_ci.ocs.platform_nodes.NodesBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">ocs_ci.ocs.platform_nodes.NodesBase</span></code></a></p>
<p>IBM Power Nodes class</p>
<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.IBMPowerNodes.restart_nodes">
<code class="sig-name descname">restart_nodes</code><span class="sig-paren">(</span><em class="sig-param">nodes</em>, <em class="sig-param">timeout=540</em>, <em class="sig-param">wait=True</em>, <em class="sig-param">force=True</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.IBMPowerNodes.restart_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Restart PowerNode</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nodes</strong> (<em>list</em>) – The OCS objects of the nodes</p></li>
<li><p><strong>timeout</strong> (<em>int</em>) – time in seconds to wait for node to reach ‘not ready’ state,
and ‘ready’ state.</p></li>
<li><p><strong>wait</strong> (<em>bool</em>) – True if need to wait till the restarted node reaches timeout</p></li>
<li><p><strong>force</strong> (<em>bool</em>) – True for force BM stop, False otherwise</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.IBMPowerNodes.restart_nodes_by_stop_and_start">
<code class="sig-name descname">restart_nodes_by_stop_and_start</code><span class="sig-paren">(</span><em class="sig-param">nodes</em>, <em class="sig-param">force=True</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.IBMPowerNodes.restart_nodes_by_stop_and_start" title="Permalink to this definition">¶</a></dt>
<dd><p>Restart PowerNodes with stop and start</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nodes</strong> (<em>list</em>) – The OCS objects of the nodes</p></li>
<li><p><strong>force</strong> (<em>bool</em>) – True for force node stop, False otherwise</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.IBMPowerNodes.restart_nodes_by_stop_and_start_teardown">
<code class="sig-name descname">restart_nodes_by_stop_and_start_teardown</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.IBMPowerNodes.restart_nodes_by_stop_and_start_teardown" title="Permalink to this definition">¶</a></dt>
<dd><p>Make sure all PowerNodes are up by the end of the test</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.IBMPowerNodes.start_nodes">
<code class="sig-name descname">start_nodes</code><span class="sig-paren">(</span><em class="sig-param">nodes</em>, <em class="sig-param">force=True</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.IBMPowerNodes.start_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Start PowerNode</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nodes</strong> (<em>list</em>) – The OCS objects of the nodes</p></li>
<li><p><strong>wait</strong> (<em>bool</em>) – Wait for node status</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.IBMPowerNodes.stop_nodes">
<code class="sig-name descname">stop_nodes</code><span class="sig-paren">(</span><em class="sig-param">nodes</em>, <em class="sig-param">force=True</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.IBMPowerNodes.stop_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Stop PowerNode</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nodes</strong> (<em>list</em>) – The OCS objects of the nodes</p></li>
<li><p><strong>force</strong> (<em>bool</em>) – True for force nodes stop, False otherwise</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="ocs_ci.ocs.platform_nodes.NodesBase">
<em class="property">class </em><code class="sig-prename descclassname">ocs_ci.ocs.platform_nodes.</code><code class="sig-name descname">NodesBase</code><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.NodesBase" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A base class for nodes related operations.
Should be inherited by specific platform classes</p>
<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.NodesBase.attach_nodes_to_cluster">
<code class="sig-name descname">attach_nodes_to_cluster</code><span class="sig-paren">(</span><em class="sig-param">node_list</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.NodesBase.attach_nodes_to_cluster" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.NodesBase.attach_volume">
<code class="sig-name descname">attach_volume</code><span class="sig-paren">(</span><em class="sig-param">volume</em>, <em class="sig-param">node</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.NodesBase.attach_volume" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.NodesBase.create_and_attach_nodes_to_cluster">
<code class="sig-name descname">create_and_attach_nodes_to_cluster</code><span class="sig-paren">(</span><em class="sig-param">node_conf</em>, <em class="sig-param">node_type</em>, <em class="sig-param">num_nodes</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.NodesBase.create_and_attach_nodes_to_cluster" title="Permalink to this definition">¶</a></dt>
<dd><p>Create nodes and attach them to cluster
Use this function if you want to do both creation/attachment in
a single call</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>node_conf</strong> (<em>dict</em>) – of node configuration</p></li>
<li><p><strong>node_type</strong> (<em>str</em>) – type of node to be created RHCOS/RHEL</p></li>
<li><p><strong>num_nodes</strong> (<em>int</em>) – Number of node instances to be created</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.NodesBase.create_nodes">
<code class="sig-name descname">create_nodes</code><span class="sig-paren">(</span><em class="sig-param">node_conf</em>, <em class="sig-param">node_type</em>, <em class="sig-param">num_nodes</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.NodesBase.create_nodes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.NodesBase.detach_volume">
<code class="sig-name descname">detach_volume</code><span class="sig-paren">(</span><em class="sig-param">volume</em>, <em class="sig-param">node=None</em>, <em class="sig-param">delete_from_backend=True</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.NodesBase.detach_volume" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.NodesBase.get_data_volumes">
<code class="sig-name descname">get_data_volumes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.NodesBase.get_data_volumes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.NodesBase.get_node_by_attached_volume">
<code class="sig-name descname">get_node_by_attached_volume</code><span class="sig-paren">(</span><em class="sig-param">volume</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.NodesBase.get_node_by_attached_volume" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.NodesBase.read_default_config">
<code class="sig-name descname">read_default_config</code><span class="sig-paren">(</span><em class="sig-param">default_config_path</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.NodesBase.read_default_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Commonly used function to read default config</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>default_config_path</strong> (<em>str</em>) – Path to default config file</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>of default config loaded</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.NodesBase.restart_nodes">
<code class="sig-name descname">restart_nodes</code><span class="sig-paren">(</span><em class="sig-param">nodes</em>, <em class="sig-param">wait=True</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.NodesBase.restart_nodes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.NodesBase.restart_nodes_by_stop_and_start">
<code class="sig-name descname">restart_nodes_by_stop_and_start</code><span class="sig-paren">(</span><em class="sig-param">nodes</em>, <em class="sig-param">force=True</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.NodesBase.restart_nodes_by_stop_and_start" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.NodesBase.restart_nodes_by_stop_and_start_teardown">
<code class="sig-name descname">restart_nodes_by_stop_and_start_teardown</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.NodesBase.restart_nodes_by_stop_and_start_teardown" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.NodesBase.start_nodes">
<code class="sig-name descname">start_nodes</code><span class="sig-paren">(</span><em class="sig-param">nodes</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.NodesBase.start_nodes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.NodesBase.stop_nodes">
<code class="sig-name descname">stop_nodes</code><span class="sig-paren">(</span><em class="sig-param">nodes</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.NodesBase.stop_nodes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.NodesBase.terminate_nodes">
<code class="sig-name descname">terminate_nodes</code><span class="sig-paren">(</span><em class="sig-param">nodes</em>, <em class="sig-param">wait=True</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.NodesBase.terminate_nodes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.NodesBase.wait_for_nodes_to_stop">
<code class="sig-name descname">wait_for_nodes_to_stop</code><span class="sig-paren">(</span><em class="sig-param">nodes</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.NodesBase.wait_for_nodes_to_stop" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.NodesBase.wait_for_nodes_to_stop_or_terminate">
<code class="sig-name descname">wait_for_nodes_to_stop_or_terminate</code><span class="sig-paren">(</span><em class="sig-param">nodes</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.NodesBase.wait_for_nodes_to_stop_or_terminate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.NodesBase.wait_for_nodes_to_terminate">
<code class="sig-name descname">wait_for_nodes_to_terminate</code><span class="sig-paren">(</span><em class="sig-param">nodes</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.NodesBase.wait_for_nodes_to_terminate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.NodesBase.wait_for_volume_attach">
<code class="sig-name descname">wait_for_volume_attach</code><span class="sig-paren">(</span><em class="sig-param">volume</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.NodesBase.wait_for_volume_attach" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="ocs_ci.ocs.platform_nodes.PlatformNodesFactory">
<em class="property">class </em><code class="sig-prename descclassname">ocs_ci.ocs.platform_nodes.</code><code class="sig-name descname">PlatformNodesFactory</code><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.PlatformNodesFactory" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A factory class to get specific nodes platform object</p>
<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.PlatformNodesFactory.get_nodes_platform">
<code class="sig-name descname">get_nodes_platform</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.PlatformNodesFactory.get_nodes_platform" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="ocs_ci.ocs.platform_nodes.RHVNodes">
<em class="property">class </em><code class="sig-prename descclassname">ocs_ci.ocs.platform_nodes.</code><code class="sig-name descname">RHVNodes</code><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.RHVNodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ocs_ci.ocs.platform_nodes.NodesBase" title="ocs_ci.ocs.platform_nodes.NodesBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">ocs_ci.ocs.platform_nodes.NodesBase</span></code></a></p>
<p>RHV Nodes  class</p>
<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.RHVNodes.get_rhv_vm_instances">
<code class="sig-name descname">get_rhv_vm_instances</code><span class="sig-paren">(</span><em class="sig-param">nodes</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.RHVNodes.get_rhv_vm_instances" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the RHV VM instaces list</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>nodes</strong> (<em>list</em>) – The OCS objects of the nodes</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The RHV vm instances list</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.RHVNodes.restart_nodes">
<code class="sig-name descname">restart_nodes</code><span class="sig-paren">(</span><em class="sig-param">nodes</em>, <em class="sig-param">timeout=900</em>, <em class="sig-param">wait=True</em>, <em class="sig-param">force=True</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.RHVNodes.restart_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Restart RHV VM</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nodes</strong> (<em>list</em>) – The OCS objects of the nodes</p></li>
<li><p><strong>timeout</strong> (<em>int</em>) – time in seconds to wait for node to reach ‘ready’ state</p></li>
<li><p><strong>wait</strong> (<em>bool</em>) – True if need to wait till the restarted node reaches
READY state. False otherwise</p></li>
<li><p><strong>force</strong> (<em>bool</em>) – True for force VM reboot, False otherwise</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – Raises if No nodes found for restarting</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.RHVNodes.restart_nodes_by_stop_and_start">
<code class="sig-name descname">restart_nodes_by_stop_and_start</code><span class="sig-paren">(</span><em class="sig-param">nodes</em>, <em class="sig-param">timeout=900</em>, <em class="sig-param">wait=True</em>, <em class="sig-param">force=True</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.RHVNodes.restart_nodes_by_stop_and_start" title="Permalink to this definition">¶</a></dt>
<dd><p>Restart RHV vms by stop and start</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nodes</strong> (<em>list</em>) – The OCS objects of the nodes</p></li>
<li><p><strong>wait</strong> (<em>bool</em>) – True if need to wait till the restarted node reaches
READY state. False otherwise</p></li>
<li><p><strong>timeout</strong> (<em>int</em>) – time in seconds to wait for node to reach ‘not ready’ state,
and ‘ready’ state.</p></li>
<li><p><strong>force</strong> (<em>bool</em>) – True for force VM stop, False otherwise</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.RHVNodes.restart_nodes_by_stop_and_start_teardown">
<code class="sig-name descname">restart_nodes_by_stop_and_start_teardown</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.RHVNodes.restart_nodes_by_stop_and_start_teardown" title="Permalink to this definition">¶</a></dt>
<dd><p>Make sure all RHV VMs are up by the end of the test</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.RHVNodes.start_nodes">
<code class="sig-name descname">start_nodes</code><span class="sig-paren">(</span><em class="sig-param">nodes</em>, <em class="sig-param">timeout=600</em>, <em class="sig-param">wait=True</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.RHVNodes.start_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Start RHV VM</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nodes</strong> (<em>list</em>) – The OCS objects of the nodes</p></li>
<li><p><strong>wait</strong> (<em>bool</em>) – True for waiting the instances to start, False otherwise</p></li>
<li><p><strong>timeout</strong> (<em>int</em>) – time in seconds to wait for node to reach ‘ready’ state.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.RHVNodes.stop_nodes">
<code class="sig-name descname">stop_nodes</code><span class="sig-paren">(</span><em class="sig-param">nodes</em>, <em class="sig-param">timeout=600</em>, <em class="sig-param">wait=True</em>, <em class="sig-param">force=True</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.RHVNodes.stop_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Shutdown RHV VM</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nodes</strong> (<em>list</em>) – The OCS objects of the nodes</p></li>
<li><p><strong>wait</strong> (<em>bool</em>) – True for waiting the instances to stop, False otherwise</p></li>
<li><p><strong>timeout</strong> (<em>int</em>) – time in seconds to wait for node to reach ‘not ready’ state.</p></li>
<li><p><strong>force</strong> (<em>bool</em>) – True for force VM stop, False otherwise</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="ocs_ci.ocs.platform_nodes.VMWareIPINodes">
<em class="property">class </em><code class="sig-prename descclassname">ocs_ci.ocs.platform_nodes.</code><code class="sig-name descname">VMWareIPINodes</code><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.VMWareIPINodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ocs_ci.ocs.platform_nodes.VMWareNodes" title="ocs_ci.ocs.platform_nodes.VMWareNodes"><code class="xref py py-class docutils literal notranslate"><span class="pre">ocs_ci.ocs.platform_nodes.VMWareNodes</span></code></a></p>
<p>VMWare IPI nodes class</p>
<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.VMWareIPINodes.get_vms">
<code class="sig-name descname">get_vms</code><span class="sig-paren">(</span><em class="sig-param">nodes</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.VMWareIPINodes.get_vms" title="Permalink to this definition">¶</a></dt>
<dd><p>Get vSphere vm objects list in the Datacenter(and not just in the cluster scope).
Note: If one of the nodes failed with an exception, it will not return his
corresponding VM object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>nodes</strong> (<em>list</em>) – The OCS objects of the nodes</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>vSphere vm objects list in the Datacenter</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="ocs_ci.ocs.platform_nodes.VMWareLSONodes">
<em class="property">class </em><code class="sig-prename descclassname">ocs_ci.ocs.platform_nodes.</code><code class="sig-name descname">VMWareLSONodes</code><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.VMWareLSONodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ocs_ci.ocs.platform_nodes.VMWareNodes" title="ocs_ci.ocs.platform_nodes.VMWareNodes"><code class="xref py py-class docutils literal notranslate"><span class="pre">ocs_ci.ocs.platform_nodes.VMWareNodes</span></code></a></p>
<p>VMWare LSO nodes class</p>
<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.VMWareLSONodes.detach_volume">
<code class="sig-name descname">detach_volume</code><span class="sig-paren">(</span><em class="sig-param">volume</em>, <em class="sig-param">node=None</em>, <em class="sig-param">delete_from_backend=True</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.VMWareLSONodes.detach_volume" title="Permalink to this definition">¶</a></dt>
<dd><p>Detach disk from a VM and delete from datastore if specified</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>volume</strong> (<em>str</em>) – Volume path</p></li>
<li><p><strong>node</strong> (<a class="reference internal" href="ocs_ci.ocs.resources.html#ocs_ci.ocs.resources.ocs.OCS" title="ocs_ci.ocs.resources.ocs.OCS"><em>OCS</em></a>) – The OCS object representing the node</p></li>
<li><p><strong>delete_from_backend</strong> (<em>bool</em>) – True for deleting the disk (vmdk)
from backend datastore, False otherwise</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.VMWareLSONodes.get_data_volumes">
<code class="sig-name descname">get_data_volumes</code><span class="sig-paren">(</span><em class="sig-param">pvs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.VMWareLSONodes.get_data_volumes" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the data vSphere volumes</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>pvs</strong> (<em>list</em>) – PV OCS objects</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>vSphere volumes</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="ocs_ci.ocs.platform_nodes.VMWareNodes">
<em class="property">class </em><code class="sig-prename descclassname">ocs_ci.ocs.platform_nodes.</code><code class="sig-name descname">VMWareNodes</code><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.VMWareNodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ocs_ci.ocs.platform_nodes.NodesBase" title="ocs_ci.ocs.platform_nodes.NodesBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">ocs_ci.ocs.platform_nodes.NodesBase</span></code></a></p>
<p>VMWare nodes class</p>
<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.VMWareNodes.attach_volume">
<code class="sig-name descname">attach_volume</code><span class="sig-paren">(</span><em class="sig-param">node</em>, <em class="sig-param">volume</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.VMWareNodes.attach_volume" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.VMWareNodes.create_and_attach_nodes_to_cluster">
<code class="sig-name descname">create_and_attach_nodes_to_cluster</code><span class="sig-paren">(</span><em class="sig-param">node_conf</em>, <em class="sig-param">node_type</em>, <em class="sig-param">num_nodes</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.VMWareNodes.create_and_attach_nodes_to_cluster" title="Permalink to this definition">¶</a></dt>
<dd><p>Create nodes and attach them to cluster
Use this function if you want to do both creation/attachment in
a single call</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>node_conf</strong> (<em>dict</em>) – of node configuration</p></li>
<li><p><strong>node_type</strong> (<em>str</em>) – type of node to be created RHCOS/RHEL</p></li>
<li><p><strong>num_nodes</strong> (<em>int</em>) – Number of node instances to be created</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.VMWareNodes.create_and_attach_volume">
<code class="sig-name descname">create_and_attach_volume</code><span class="sig-paren">(</span><em class="sig-param">node</em>, <em class="sig-param">size</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.VMWareNodes.create_and_attach_volume" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new volume and attach it to the given VM</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>node</strong> (<a class="reference internal" href="ocs_ci.ocs.resources.html#ocs_ci.ocs.resources.ocs.OCS" title="ocs_ci.ocs.resources.ocs.OCS"><em>OCS</em></a>) – The OCS object representing the node</p></li>
<li><p><strong>size</strong> (<em>int</em>) – The size in GB for the new volume</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.VMWareNodes.detach_volume">
<code class="sig-name descname">detach_volume</code><span class="sig-paren">(</span><em class="sig-param">volume</em>, <em class="sig-param">node=None</em>, <em class="sig-param">delete_from_backend=True</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.VMWareNodes.detach_volume" title="Permalink to this definition">¶</a></dt>
<dd><p>Detach disk from a VM and delete from datastore if specified</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>volume</strong> (<em>str</em>) – Volume path</p></li>
<li><p><strong>node</strong> (<a class="reference internal" href="ocs_ci.ocs.resources.html#ocs_ci.ocs.resources.ocs.OCS" title="ocs_ci.ocs.resources.ocs.OCS"><em>OCS</em></a>) – The OCS object representing the node</p></li>
<li><p><strong>delete_from_backend</strong> (<em>bool</em>) – True for deleting the disk (vmdk)
from backend datastore, False otherwise</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.VMWareNodes.get_data_volumes">
<code class="sig-name descname">get_data_volumes</code><span class="sig-paren">(</span><em class="sig-param">pvs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.VMWareNodes.get_data_volumes" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the data vSphere volumes</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>pvs</strong> (<em>list</em>) – PV OCS objects</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>vSphere volumes</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.VMWareNodes.get_node_by_attached_volume">
<code class="sig-name descname">get_node_by_attached_volume</code><span class="sig-paren">(</span><em class="sig-param">volume</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.VMWareNodes.get_node_by_attached_volume" title="Permalink to this definition">¶</a></dt>
<dd><p>Get node OCS object of the VM instance that has the volume attached to</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>volume</strong> (<em>Volume</em>) – The volume to get the VM according to</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The OCS object of the VM instance</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="ocs_ci.ocs.resources.html#ocs_ci.ocs.resources.ocs.OCS" title="ocs_ci.ocs.resources.ocs.OCS">OCS</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.VMWareNodes.get_reboot_events">
<code class="sig-name descname">get_reboot_events</code><span class="sig-paren">(</span><em class="sig-param">nodes</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.VMWareNodes.get_reboot_events" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the number of reboot events</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>nodes</strong> (<em>list</em>) – The OCS objects of the nodes</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>Dictionary which contains node names as key and value as number</dt><dd><p>of reboot events
e.g: {‘compute-0’: 11, ‘compute-1’: 9, ‘compute-2’: 9}</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.VMWareNodes.get_vm_from_ips">
<code class="sig-name descname">get_vm_from_ips</code><span class="sig-paren">(</span><em class="sig-param">node_ips</em>, <em class="sig-param">dc</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.VMWareNodes.get_vm_from_ips" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetches VM objects from given IP’s</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>node_ips</strong> (<em>list</em>) – List of node IP’s</p></li>
<li><p><strong>dc</strong> (<em>str</em>) – Datacenter name</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of VM objects</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.VMWareNodes.get_vms">
<code class="sig-name descname">get_vms</code><span class="sig-paren">(</span><em class="sig-param">nodes</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.VMWareNodes.get_vms" title="Permalink to this definition">¶</a></dt>
<dd><p>Get vSphere vm objects list</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>nodes</strong> (<em>list</em>) – The OCS objects of the nodes</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>vSphere vm objects list</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.VMWareNodes.restart_nodes">
<code class="sig-name descname">restart_nodes</code><span class="sig-paren">(</span><em class="sig-param">nodes</em>, <em class="sig-param">force=True</em>, <em class="sig-param">timeout=300</em>, <em class="sig-param">wait=True</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.VMWareNodes.restart_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Restart vSphere VMs</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nodes</strong> (<em>list</em>) – The OCS objects of the nodes</p></li>
<li><p><strong>force</strong> (<em>bool</em>) – True for Hard reboot, False for Soft reboot</p></li>
<li><p><strong>timeout</strong> (<em>int</em>) – time in seconds to wait for node to reach READY state</p></li>
<li><p><strong>wait</strong> (<em>bool</em>) – True if need to wait till the restarted OCP node
reaches READY state. False otherwise</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.VMWareNodes.restart_nodes_by_stop_and_start">
<code class="sig-name descname">restart_nodes_by_stop_and_start</code><span class="sig-paren">(</span><em class="sig-param">nodes</em>, <em class="sig-param">force=True</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.VMWareNodes.restart_nodes_by_stop_and_start" title="Permalink to this definition">¶</a></dt>
<dd><p>Restart vSphere VMs</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nodes</strong> (<em>list</em>) – The OCS objects of the nodes</p></li>
<li><p><strong>force</strong> (<em>bool</em>) – True for force VM stop, False otherwise</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.VMWareNodes.restart_nodes_by_stop_and_start_teardown">
<code class="sig-name descname">restart_nodes_by_stop_and_start_teardown</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.VMWareNodes.restart_nodes_by_stop_and_start_teardown" title="Permalink to this definition">¶</a></dt>
<dd><p>Make sure all VMs are up by the end of the test</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.VMWareNodes.start_nodes">
<code class="sig-name descname">start_nodes</code><span class="sig-paren">(</span><em class="sig-param">nodes</em>, <em class="sig-param">wait=True</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.VMWareNodes.start_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Start vSphere VMs</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nodes</strong> (<em>list</em>) – The OCS objects of the nodes</p></li>
<li><p><strong>wait</strong> (<em>bool</em>) – Wait for the VMs to start</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.VMWareNodes.stop_nodes">
<code class="sig-name descname">stop_nodes</code><span class="sig-paren">(</span><em class="sig-param">nodes</em>, <em class="sig-param">force=True</em>, <em class="sig-param">wait=True</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.VMWareNodes.stop_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Stop vSphere VMs</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nodes</strong> (<em>list</em>) – The OCS objects of the nodes</p></li>
<li><p><strong>force</strong> (<em>bool</em>) – True for force VM stop, False otherwise</p></li>
<li><p><strong>wait</strong> (<em>bool</em>) – Wait for the VMs to stop</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.VMWareNodes.terminate_nodes">
<code class="sig-name descname">terminate_nodes</code><span class="sig-paren">(</span><em class="sig-param">nodes</em>, <em class="sig-param">wait=True</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.VMWareNodes.terminate_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Terminate the VMs.
The VMs will be deleted only from the inventory and not from the disk.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nodes</strong> (<em>list</em>) – The OCS objects of the nodes</p></li>
<li><p><strong>wait</strong> (<em>bool</em>) – True for waiting the VMs to terminate,</p></li>
<li><p><strong>otherwise</strong> (<em>False</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.VMWareNodes.wait_for_volume_attach">
<code class="sig-name descname">wait_for_volume_attach</code><span class="sig-paren">(</span><em class="sig-param">volume</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.VMWareNodes.wait_for_volume_attach" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="ocs_ci.ocs.platform_nodes.VMWareUPINodes">
<em class="property">class </em><code class="sig-prename descclassname">ocs_ci.ocs.platform_nodes.</code><code class="sig-name descname">VMWareUPINodes</code><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.VMWareUPINodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ocs_ci.ocs.platform_nodes.VMWareNodes" title="ocs_ci.ocs.platform_nodes.VMWareNodes"><code class="xref py py-class docutils literal notranslate"><span class="pre">ocs_ci.ocs.platform_nodes.VMWareNodes</span></code></a></p>
<p>VMWare UPI nodes class</p>
<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.VMWareUPINodes.terminate_nodes">
<code class="sig-name descname">terminate_nodes</code><span class="sig-paren">(</span><em class="sig-param">nodes</em>, <em class="sig-param">wait=True</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.VMWareUPINodes.terminate_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Terminate the VMs.
The VMs will be deleted only from the inventory and not from the disk.
After deleting the VMs, it will also modify terraform state file of the removed VMs</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nodes</strong> (<em>list</em>) – The OCS objects of the nodes</p></li>
<li><p><strong>wait</strong> (<em>bool</em>) – True for waiting the VMs to terminate,</p></li>
<li><p><strong>otherwise</strong> (<em>False</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="ocs_ci.ocs.platform_nodes.VSPHEREUPINode">
<em class="property">class </em><code class="sig-prename descclassname">ocs_ci.ocs.platform_nodes.</code><code class="sig-name descname">VSPHEREUPINode</code><span class="sig-paren">(</span><em class="sig-param">node_conf</em>, <em class="sig-param">node_type</em>, <em class="sig-param">compute_count</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.VSPHEREUPINode" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ocs_ci.ocs.platform_nodes.VMWareNodes" title="ocs_ci.ocs.platform_nodes.VMWareNodes"><code class="xref py py-class docutils literal notranslate"><span class="pre">ocs_ci.ocs.platform_nodes.VMWareNodes</span></code></a></p>
<p>Node object representing VMWARE UPI nodes</p>
<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.VSPHEREUPINode.add_node">
<code class="sig-name descname">add_node</code><span class="sig-paren">(</span><em class="sig-param">use_terraform=True</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.VSPHEREUPINode.add_node" title="Permalink to this definition">¶</a></dt>
<dd><p>Add nodes to the current cluster</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>use_terraform</strong> (<em>bool</em>) – if True use terraform to add nodes,
otherwise use manual steps to add nodes</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.VSPHEREUPINode.add_nodes_with_terraform">
<code class="sig-name descname">add_nodes_with_terraform</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.VSPHEREUPINode.add_nodes_with_terraform" title="Permalink to this definition">¶</a></dt>
<dd><p>Add nodes using terraform</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.VSPHEREUPINode.add_nodes_without_terraform">
<code class="sig-name descname">add_nodes_without_terraform</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.VSPHEREUPINode.add_nodes_without_terraform" title="Permalink to this definition">¶</a></dt>
<dd><p>Add nodes without terraform</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.VSPHEREUPINode.change_terraform_statefile_after_remove_vm">
<code class="sig-name descname">change_terraform_statefile_after_remove_vm</code><span class="sig-paren">(</span><em class="sig-param">vm_name</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.VSPHEREUPINode.change_terraform_statefile_after_remove_vm" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove the records from the state file, so that terraform will no longer be tracking the
corresponding remote objects of the vSphere VM object we removed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>vm_name</strong> (<em>str</em>) – The VM name</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.VSPHEREUPINode.change_terraform_tfvars_after_remove_vm">
<code class="sig-name descname">change_terraform_tfvars_after_remove_vm</code><span class="sig-paren">(</span><em class="sig-param">num_nodes_removed=1</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.VSPHEREUPINode.change_terraform_tfvars_after_remove_vm" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the compute count after removing node from cluster</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>num_nodes_removed</strong> (<em>int</em>) – Number of nodes removed from cluster</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.VSPHEREUPINode.generate_node_names_for_vsphere">
<code class="sig-name descname">generate_node_names_for_vsphere</code><span class="sig-paren">(</span><em class="sig-param">count</em>, <em class="sig-param">prefix='compute-'</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.VSPHEREUPINode.generate_node_names_for_vsphere" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate the node names for vsphere platform</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>count</strong> (<em>int</em>) – Number of node names to generate</p></li>
<li><p><strong>prefix</strong> (<em>str</em>) – Prefix for node name</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of node names</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.VSPHEREUPINode.update_terraform_tfvars_compute_count">
<code class="sig-name descname">update_terraform_tfvars_compute_count</code><span class="sig-paren">(</span><em class="sig-param">type</em>, <em class="sig-param">count</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.VSPHEREUPINode.update_terraform_tfvars_compute_count" title="Permalink to this definition">¶</a></dt>
<dd><p>Update terraform tfvars file for compute count</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>type</strong> (<em>str</em>) – Type of operation. Either add or remove</p></li>
<li><p><strong>count</strong> (<em>int</em>) – Number to add or remove to the exiting compute count</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.platform_nodes.VSPHEREUPINode.wait_for_connection_and_set_host_name">
<code class="sig-name descname">wait_for_connection_and_set_host_name</code><span class="sig-paren">(</span><em class="sig-param">ip</em>, <em class="sig-param">host_name</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.platform_nodes.VSPHEREUPINode.wait_for_connection_and_set_host_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Waits for connection to establish to the node and sets the hostname</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ip</strong> (<em>str</em>) – IP of the node</p></li>
<li><p><strong>host_name</strong> (<em>str</em>) – Host name to set for the node</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>NoValidConnectionsError</strong> – Raises if connection is not established</p></li>
<li><p><strong>AuthenticationException</strong> – Raises if credentials are not correct</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-ocs_ci.ocs.pod_exec">
<span id="ocs-ci-ocs-pod-exec-module"></span><h2>ocs_ci.ocs.pod_exec module<a class="headerlink" href="#module-ocs_ci.ocs.pod_exec" title="Permalink to this headline">¶</a></h2>
<p>Dispatcher for proper exec based on api-client config</p>
<p>This class takes care of dispatching a proper api-client instance
to take care of command execution.</p>
<p>WHY this class ?
Execution of command might happen using various means, as of now we are using
kubernetes client but we might also use openshift rest client. To cope with
this we might have to dynamically figure out at run time which backend to use.</p>
<p>This module will have all api client class definitions in this file along with
dispatcher class Exec.</p>
<dl class="class">
<dt id="ocs_ci.ocs.pod_exec.CmdObj">
<em class="property">class </em><code class="sig-prename descclassname">ocs_ci.ocs.pod_exec.</code><code class="sig-name descname">CmdObj</code><span class="sig-paren">(</span><em class="sig-param">cmd</em>, <em class="sig-param">timeout</em>, <em class="sig-param">wait</em>, <em class="sig-param">check_ec</em>, <em class="sig-param">long_running</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.pod_exec.CmdObj" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></p>
<dl class="attribute">
<dt id="ocs_ci.ocs.pod_exec.CmdObj.check_ec">
<code class="sig-name descname">check_ec</code><a class="headerlink" href="#ocs_ci.ocs.pod_exec.CmdObj.check_ec" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 3</p>
</dd></dl>

<dl class="attribute">
<dt id="ocs_ci.ocs.pod_exec.CmdObj.cmd">
<code class="sig-name descname">cmd</code><a class="headerlink" href="#ocs_ci.ocs.pod_exec.CmdObj.cmd" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

<dl class="attribute">
<dt id="ocs_ci.ocs.pod_exec.CmdObj.long_running">
<code class="sig-name descname">long_running</code><a class="headerlink" href="#ocs_ci.ocs.pod_exec.CmdObj.long_running" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 4</p>
</dd></dl>

<dl class="attribute">
<dt id="ocs_ci.ocs.pod_exec.CmdObj.timeout">
<code class="sig-name descname">timeout</code><a class="headerlink" href="#ocs_ci.ocs.pod_exec.CmdObj.timeout" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

<dl class="attribute">
<dt id="ocs_ci.ocs.pod_exec.CmdObj.wait">
<code class="sig-name descname">wait</code><a class="headerlink" href="#ocs_ci.ocs.pod_exec.CmdObj.wait" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 2</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="ocs_ci.ocs.pod_exec.Exec">
<em class="property">class </em><code class="sig-prename descclassname">ocs_ci.ocs.pod_exec.</code><code class="sig-name descname">Exec</code><span class="sig-paren">(</span><em class="sig-param">oc_client='KubClient'</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.pod_exec.Exec" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Dispatcher class for proper api client instantiation</p>
<p>This class has a factory function which returns proper api client instance
necessary for command execution</p>
<dl class="method">
<dt id="ocs_ci.ocs.pod_exec.Exec.run">
<code class="sig-name descname">run</code><span class="sig-paren">(</span><em class="sig-param">podname</em>, <em class="sig-param">namespace</em>, <em class="sig-param">cmd_obj</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.pod_exec.Exec.run" title="Permalink to this definition">¶</a></dt>
<dd><p>actual run happens here
Command will be fwd to api client object
and it should return a 3 tuple
(stdout, stderr, retval)</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="ocs_ci.ocs.pod_exec.KubClient">
<em class="property">class </em><code class="sig-prename descclassname">ocs_ci.ocs.pod_exec.</code><code class="sig-name descname">KubClient</code><a class="headerlink" href="#ocs_ci.ocs.pod_exec.KubClient" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Specific to upstream Kubernetes client library</p>
<dl class="method">
<dt id="ocs_ci.ocs.pod_exec.KubClient.run">
<code class="sig-name descname">run</code><span class="sig-paren">(</span><em class="sig-param">podname</em>, <em class="sig-param">namespace</em>, <em class="sig-param">cmd_obj</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.pod_exec.KubClient.run" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.pod_exec.register_class">
<code class="sig-prename descclassname">ocs_ci.ocs.pod_exec.</code><code class="sig-name descname">register_class</code><span class="sig-paren">(</span><em class="sig-param">cls</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.pod_exec.register_class" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorator for registering a class ‘cls’ in class map</p>
<p>Please make sure that api-client name in config should be same as
class name.</p>
</dd></dl>

</div>
<div class="section" id="module-ocs_ci.ocs.quay_operator">
<span id="ocs-ci-ocs-quay-operator-module"></span><h2>ocs_ci.ocs.quay_operator module<a class="headerlink" href="#module-ocs_ci.ocs.quay_operator" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ocs_ci.ocs.quay_operator.QuayOperator">
<em class="property">class </em><code class="sig-prename descclassname">ocs_ci.ocs.quay_operator.</code><code class="sig-name descname">QuayOperator</code><a class="headerlink" href="#ocs_ci.ocs.quay_operator.QuayOperator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Quay operator class</p>
<dl class="method">
<dt id="ocs_ci.ocs.quay_operator.QuayOperator.check_quay_registry_endpoint">
<code class="sig-name descname">check_quay_registry_endpoint</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.quay_operator.QuayOperator.check_quay_registry_endpoint" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if quay registry endpoint is up</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True if quay endpoint is up else False</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.quay_operator.QuayOperator.create_quay_registry">
<code class="sig-name descname">create_quay_registry</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.quay_operator.QuayOperator.create_quay_registry" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates Quay registry</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.quay_operator.QuayOperator.get_quay_endpoint">
<code class="sig-name descname">get_quay_endpoint</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.quay_operator.QuayOperator.get_quay_endpoint" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns quay endpoint</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.quay_operator.QuayOperator.setup_quay_operator">
<code class="sig-name descname">setup_quay_operator</code><span class="sig-paren">(</span><em class="sig-param">channel=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.quay_operator.QuayOperator.setup_quay_operator" title="Permalink to this definition">¶</a></dt>
<dd><p>Deploys the Quay operator using the specified channel or the default channel if not provided</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>channel</strong> (<em>str</em><em>, </em><em>optional</em>) – The channel of the Quay operator to deploy. If not provided, the default channel
will be used.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>TimeoutError</strong> – If the Quay operator pod fails to reach the ‘Running’ state</p></li>
<li><p><strong>within the timeout.</strong> – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.quay_operator.QuayOperator.teardown">
<code class="sig-name descname">teardown</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.quay_operator.QuayOperator.teardown" title="Permalink to this definition">¶</a></dt>
<dd><p>Quay operator teardown</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.quay_operator.QuayOperator.wait_for_quay_endpoint">
<code class="sig-name descname">wait_for_quay_endpoint</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.quay_operator.QuayOperator.wait_for_quay_endpoint" title="Permalink to this definition">¶</a></dt>
<dd><p>Waits for quay registry endpoint</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.quay_operator.check_super_user">
<code class="sig-prename descclassname">ocs_ci.ocs.quay_operator.</code><code class="sig-name descname">check_super_user</code><span class="sig-paren">(</span><em class="sig-param">endpoint</em>, <em class="sig-param">token</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.quay_operator.check_super_user" title="Permalink to this definition">¶</a></dt>
<dd><p>Validates the super user based on the token</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>endpoint</strong> (<em>str</em>) – Quay Endpoint url</p></li>
<li><p><strong>token</strong> (<em>str</em>) – Super user token</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True in case token is from a super user</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.quay_operator.create_quay_org">
<code class="sig-prename descclassname">ocs_ci.ocs.quay_operator.</code><code class="sig-name descname">create_quay_org</code><span class="sig-paren">(</span><em class="sig-param">endpoint</em>, <em class="sig-param">token</em>, <em class="sig-param">org_name</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.quay_operator.create_quay_org" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates an organization in quay</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>endpoint</strong> (<em>str</em>) – Quay endpoint url</p></li>
<li><p><strong>token</strong> (<em>str</em>) – Super user token</p></li>
<li><p><strong>org_name</strong> (<em>str</em>) – Organization name</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True in case org creation is successful</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.quay_operator.create_quay_repository">
<code class="sig-prename descclassname">ocs_ci.ocs.quay_operator.</code><code class="sig-name descname">create_quay_repository</code><span class="sig-paren">(</span><em class="sig-param">endpoint</em>, <em class="sig-param">token</em>, <em class="sig-param">repo_name</em>, <em class="sig-param">org_name</em>, <em class="sig-param">description='new_repo'</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.quay_operator.create_quay_repository" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a quay repository</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>endpoint</strong> (<em>str</em>) – Quay Endpoint url</p></li>
<li><p><strong>token</strong> (<em>str</em>) – Super user token</p></li>
<li><p><strong>org_name</strong> (<em>str</em>) – Organization name</p></li>
<li><p><strong>repo_name</strong> (<em>str</em>) – Repository name</p></li>
<li><p><strong>description</strong> (<em>str</em>) – Description of the repo</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True in case repo creation is successful</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.quay_operator.delete_quay_repository">
<code class="sig-prename descclassname">ocs_ci.ocs.quay_operator.</code><code class="sig-name descname">delete_quay_repository</code><span class="sig-paren">(</span><em class="sig-param">endpoint</em>, <em class="sig-param">token</em>, <em class="sig-param">org_name</em>, <em class="sig-param">repo_name</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.quay_operator.delete_quay_repository" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes the quay repository</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>endpoint</strong> (<em>str</em>) – Quay Endpoint url</p></li>
<li><p><strong>token</strong> (<em>str</em>) – Super user token</p></li>
<li><p><strong>org_name</strong> (<em>str</em>) – Organization name</p></li>
<li><p><strong>repo_name</strong> (<em>str</em>) – Repository name</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True in case repo is delete successfully</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.quay_operator.get_super_user_token">
<code class="sig-prename descclassname">ocs_ci.ocs.quay_operator.</code><code class="sig-name descname">get_super_user_token</code><span class="sig-paren">(</span><em class="sig-param">endpoint</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.quay_operator.get_super_user_token" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the initialized super user token.
This is one time, cant get the token again once initialized.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>endpoint</strong> (<em>str</em>) – Quay Endpoint url</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Super user token</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.quay_operator.quay_super_user_login">
<code class="sig-prename descclassname">ocs_ci.ocs.quay_operator.</code><code class="sig-name descname">quay_super_user_login</code><span class="sig-paren">(</span><em class="sig-param">endpoint_url</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.quay_operator.quay_super_user_login" title="Permalink to this definition">¶</a></dt>
<dd><p>Logins in to quay endpoint</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>endpoint_url</strong> (<em>str</em>) – External endpoint of quay</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-ocs_ci.ocs.rados_utils">
<span id="ocs-ci-ocs-rados-utils-module"></span><h2>ocs_ci.ocs.rados_utils module<a class="headerlink" href="#module-ocs_ci.ocs.rados_utils" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ocs_ci.ocs.rados_utils.RadosHelper">
<em class="property">class </em><code class="sig-prename descclassname">ocs_ci.ocs.rados_utils.</code><code class="sig-name descname">RadosHelper</code><span class="sig-paren">(</span><em class="sig-param">mon</em>, <em class="sig-param">config=None</em>, <em class="sig-param">log=None</em>, <em class="sig-param">cluster='ceph'</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.rados_utils.RadosHelper" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="ocs_ci.ocs.rados_utils.RadosHelper.create_pool">
<code class="sig-name descname">create_pool</code><span class="sig-paren">(</span><em class="sig-param">pool_name</em>, <em class="sig-param">pg_num=16</em>, <em class="sig-param">erasure_code_profile_name=None</em>, <em class="sig-param">min_size=None</em>, <em class="sig-param">erasure_code_use_overwrites=False</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.rados_utils.RadosHelper.create_pool" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a pool named from the pool_name parameter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pool_name</strong> (<em>str</em>) – name of the pool being created.</p></li>
<li><p><strong>pg_num</strong> (<em>int</em>) – initial number of pgs.</p></li>
<li><p><strong>erasure_code_profile_name</strong> (<em>str</em>) – if set and !None create an
erasure coded pool using the profile</p></li>
<li><p><strong>min_size</strong> (<em>int</em>) – minimum size</p></li>
<li><p><strong>erasure_code_use_overwrites</strong> (<em>bool</em>) – if True, allow overwrites</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.rados_utils.RadosHelper.get_mgr_proxy_container">
<code class="sig-name descname">get_mgr_proxy_container</code><span class="sig-paren">(</span><em class="sig-param">node</em>, <em class="sig-param">docker_image</em>, <em class="sig-param">proxy_container='mgr_proxy'</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.rados_utils.RadosHelper.get_mgr_proxy_container" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns mgr dummy container to access containerized storage
:param node: ceph node
:type node: ceph.ceph.CephNode
:param docker_image: repository/image:tag
:type docker_image: str</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>mgr object</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>ceph.ceph.CephDemon</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.rados_utils.RadosHelper.get_num_pools">
<code class="sig-name descname">get_num_pools</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.rados_utils.RadosHelper.get_num_pools" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>number of pools in the
cluster</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.rados_utils.RadosHelper.get_osd_dump_json">
<code class="sig-name descname">get_osd_dump_json</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.rados_utils.RadosHelper.get_osd_dump_json" title="Permalink to this definition">¶</a></dt>
<dd><p>osd dump –format=json converted to a python object
:returns: the python object</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.rados_utils.RadosHelper.get_pg_primary">
<code class="sig-name descname">get_pg_primary</code><span class="sig-paren">(</span><em class="sig-param">pool</em>, <em class="sig-param">pgnum</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.rados_utils.RadosHelper.get_pg_primary" title="Permalink to this definition">¶</a></dt>
<dd><p>get primary for pool, pgnum (e.g. (data, 0)-&gt;0</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.rados_utils.RadosHelper.get_pg_random">
<code class="sig-name descname">get_pg_random</code><span class="sig-paren">(</span><em class="sig-param">pool</em>, <em class="sig-param">pgnum</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.rados_utils.RadosHelper.get_pg_random" title="Permalink to this definition">¶</a></dt>
<dd><p>get random osd for pool, pgnum (e.g. (data, 0)-&gt;0</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.rados_utils.RadosHelper.get_pgid">
<code class="sig-name descname">get_pgid</code><span class="sig-paren">(</span><em class="sig-param">pool</em>, <em class="sig-param">pgnum</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.rados_utils.RadosHelper.get_pgid" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pool</strong> – pool name</p></li>
<li><p><strong>pgnum</strong> – pg number</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a string representing this pg.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.rados_utils.RadosHelper.get_pool_dump">
<code class="sig-name descname">get_pool_dump</code><span class="sig-paren">(</span><em class="sig-param">pool</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.rados_utils.RadosHelper.get_pool_dump" title="Permalink to this definition">¶</a></dt>
<dd><p>get the osd dump part of a pool</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.rados_utils.RadosHelper.get_pool_num">
<code class="sig-name descname">get_pool_num</code><span class="sig-paren">(</span><em class="sig-param">pool</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.rados_utils.RadosHelper.get_pool_num" title="Permalink to this definition">¶</a></dt>
<dd><p>get number for pool (e.g., data -&gt; 2)</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.rados_utils.RadosHelper.get_pool_property">
<code class="sig-name descname">get_pool_property</code><span class="sig-paren">(</span><em class="sig-param">pool_name</em>, <em class="sig-param">prop</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.rados_utils.RadosHelper.get_pool_property" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pool_name</strong> – pool</p></li>
<li><p><strong>prop</strong> – property to be checked.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>property as an int value.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.rados_utils.RadosHelper.is_up">
<code class="sig-name descname">is_up</code><span class="sig-paren">(</span><em class="sig-param">osd_id</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.rados_utils.RadosHelper.is_up" title="Permalink to this definition">¶</a></dt>
<dd><p>:return 1 if up, 0 if down</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.rados_utils.RadosHelper.kill_osd">
<code class="sig-name descname">kill_osd</code><span class="sig-paren">(</span><em class="sig-param">osd_node</em>, <em class="sig-param">osd_service</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.rados_utils.RadosHelper.kill_osd" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Params</dt>
<dd class="field-odd"><p>id , type of signal, list of osd objects
type: “SIGKILL”, “SIGTERM”, “SIGHUP” etc.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>1 or 0</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.rados_utils.RadosHelper.list_pools">
<code class="sig-name descname">list_pools</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.rados_utils.RadosHelper.list_pools" title="Permalink to this definition">¶</a></dt>
<dd><p>list all pool names</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.rados_utils.RadosHelper.raw_cluster_cmd">
<code class="sig-name descname">raw_cluster_cmd</code><span class="sig-paren">(</span><em class="sig-param">*args</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.rados_utils.RadosHelper.raw_cluster_cmd" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>(stdout, stderr)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.rados_utils.RadosHelper.revive_osd">
<code class="sig-name descname">revive_osd</code><span class="sig-paren">(</span><em class="sig-param">osd_node</em>, <em class="sig-param">osd_service</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.rados_utils.RadosHelper.revive_osd" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>0 if revive success,1 if fail</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.rados_utils.corrupt_pg">
<code class="sig-prename descclassname">ocs_ci.ocs.rados_utils.</code><code class="sig-name descname">corrupt_pg</code><span class="sig-paren">(</span><em class="sig-param">osd_deployment</em>, <em class="sig-param">pool_name</em>, <em class="sig-param">pool_object</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.rados_utils.corrupt_pg" title="Permalink to this definition">¶</a></dt>
<dd><p>Rewrite given object in a ceph pool with /etc/shadow file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>osd_deployment</strong> (<em>object</em>) – OSD deployment object where PG will be corrupted</p></li>
<li><p><strong>pool_name</strong> (<em>str</em>) – name of ceph pool to be corrupted</p></li>
<li><p><strong>pool_object</strong> (<em>str</em>) – name of object to be corrupted</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.rados_utils.get_pg_log_dups_count_via_cot">
<code class="sig-prename descclassname">ocs_ci.ocs.rados_utils.</code><code class="sig-name descname">get_pg_log_dups_count_via_cot</code><span class="sig-paren">(</span><em class="sig-param">osd_deployments</em>, <em class="sig-param">pgid</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.rados_utils.get_pg_log_dups_count_via_cot" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the pg log dup entries count via COT</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>osd_deployments</strong> (<a class="reference internal" href="ocs_ci.ocs.resources.html#ocs_ci.ocs.resources.ocs.OCS" title="ocs_ci.ocs.resources.ocs.OCS"><em>OCS</em></a>) – List of OSD deployment OCS instances</p></li>
<li><p><strong>pgid</strong> (<em>str</em>) – pgid for a pool eg: ‘1.55’</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of total number of pg dups per osd</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.rados_utils.inject_corrupted_dups_into_pg_via_cot">
<code class="sig-prename descclassname">ocs_ci.ocs.rados_utils.</code><code class="sig-name descname">inject_corrupted_dups_into_pg_via_cot</code><span class="sig-paren">(</span><em class="sig-param">osd_deployments</em>, <em class="sig-param">pgid</em>, <em class="sig-param">injected_dups_file_name_prefix='text'</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.rados_utils.inject_corrupted_dups_into_pg_via_cot" title="Permalink to this definition">¶</a></dt>
<dd><p>Inject corrupted dups into a pg via COT</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>osd_deployments</strong> (<a class="reference internal" href="ocs_ci.ocs.resources.html#ocs_ci.ocs.resources.ocs.OCS" title="ocs_ci.ocs.resources.ocs.OCS"><em>OCS</em></a>) – List of OSD deployment OCS instances</p></li>
<li><p><strong>pgid</strong> (<em>str</em>) – pgid for a pool eg: ‘1.55’</p></li>
<li><p><strong>injected_dups_file_name_prefix</strong> (<em>str</em>) – File name prefix for injecting dups</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-ocs_ci.ocs.registry">
<span id="ocs-ci-ocs-registry-module"></span><h2>ocs_ci.ocs.registry module<a class="headerlink" href="#module-ocs_ci.ocs.registry" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="ocs_ci.ocs.registry.add_role_to_user">
<code class="sig-prename descclassname">ocs_ci.ocs.registry.</code><code class="sig-name descname">add_role_to_user</code><span class="sig-paren">(</span><em class="sig-param">role_type</em>, <em class="sig-param">user</em>, <em class="sig-param">cluster_role=False</em>, <em class="sig-param">namespace=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.registry.add_role_to_user" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to add a cluster/regular role to user</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>role_type</strong> (<em>str</em>) – Type of the role to be added</p></li>
<li><p><strong>user</strong> (<em>str</em>) – User to be added for the role</p></li>
<li><p><strong>cluster_role</strong> (<em>bool</em>) – Whether to add a cluster-role or a regular role</p></li>
<li><p><strong>namespace</strong> (<em>str</em>) – Namespace to be used</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>AssertionError</strong> – When failure in adding new role to user</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.registry.change_registry_backend_to_ocs">
<code class="sig-prename descclassname">ocs_ci.ocs.registry.</code><code class="sig-name descname">change_registry_backend_to_ocs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.registry.change_registry_backend_to_ocs" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to deploy registry with OCS backend.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>AssertionError</strong> – When failure in change of registry backend to OCS</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.registry.check_if_registry_stack_exists">
<code class="sig-prename descclassname">ocs_ci.ocs.registry.</code><code class="sig-name descname">check_if_registry_stack_exists</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.registry.check_if_registry_stack_exists" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if registry is configured on the cluster with ODF backed PVCs</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True if registry is configured on the cluster, false otherwise</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.registry.check_image_exists_in_registry">
<code class="sig-prename descclassname">ocs_ci.ocs.registry.</code><code class="sig-name descname">check_image_exists_in_registry</code><span class="sig-paren">(</span><em class="sig-param">image_url</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.registry.check_image_exists_in_registry" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to check either image exists in registry or not</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>image_url</strong> (<em>str</em>) – Image url to be verified</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if image exists, else False</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.registry.enable_route_and_create_ca_for_registry_access">
<code class="sig-prename descclassname">ocs_ci.ocs.registry.</code><code class="sig-name descname">enable_route_and_create_ca_for_registry_access</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.registry.enable_route_and_create_ca_for_registry_access" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to enable route and to create ca,
copy to respective location for registry access</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>AssertionError</strong> – When failure in enabling registry default route</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.registry.get_build_name_by_pattern">
<code class="sig-prename descclassname">ocs_ci.ocs.registry.</code><code class="sig-name descname">get_build_name_by_pattern</code><span class="sig-paren">(</span><em class="sig-param">pattern=''</em>, <em class="sig-param">namespace=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.registry.get_build_name_by_pattern" title="Permalink to this definition">¶</a></dt>
<dd><p>In a given namespace find names of the builds that match
the given pattern</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pattern</strong> (<em>str</em>) – name of the build with given pattern</p></li>
<li><p><strong>namespace</strong> (<em>str</em>) – Namespace value</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of build names matching the pattern</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>build_list (list)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.registry.get_default_route_name">
<code class="sig-prename descclassname">ocs_ci.ocs.registry.</code><code class="sig-name descname">get_default_route_name</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.registry.get_default_route_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to get default route name</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Returns default route name</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>route_name (str)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.registry.get_oc_podman_login_cmd">
<code class="sig-prename descclassname">ocs_ci.ocs.registry.</code><code class="sig-name descname">get_oc_podman_login_cmd</code><span class="sig-paren">(</span><em class="sig-param">skip_tls_verify=True</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.registry.get_oc_podman_login_cmd" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to get oc and podman login commands on node</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>skip_tls_verify</strong> (<em>bool</em>) – If true, the server’s certificate will not be checked for validity</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of cmd for oc/podman login</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>cmd_list (list)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.registry.get_registry_pod_obj">
<code class="sig-prename descclassname">ocs_ci.ocs.registry.</code><code class="sig-name descname">get_registry_pod_obj</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.registry.get_registry_pod_obj" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to get registry pod obj</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>List of Registry pod objs</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>pod_obj (list)</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference internal" href="#ocs_ci.ocs.exceptions.UnexpectedBehaviour" title="ocs_ci.ocs.exceptions.UnexpectedBehaviour"><strong>UnexpectedBehaviour</strong></a> – When image-registry pod is not present.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.registry.image_list_all">
<code class="sig-prename descclassname">ocs_ci.ocs.registry.</code><code class="sig-name descname">image_list_all</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.registry.image_list_all" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to list the images in the podman registry</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Images present in cluster</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>image_list_output (str)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.registry.image_pull">
<code class="sig-prename descclassname">ocs_ci.ocs.registry.</code><code class="sig-name descname">image_pull</code><span class="sig-paren">(</span><em class="sig-param">image_url</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.registry.image_pull" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to pull images from repositories</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>image_url</strong> (<em>str</em>) – Image url container image repo link</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.registry.image_pull_and_push">
<code class="sig-prename descclassname">ocs_ci.ocs.registry.</code><code class="sig-name descname">image_pull_and_push</code><span class="sig-paren">(</span><em class="sig-param">project_name</em>, <em class="sig-param">template='redis-ephemeral'</em>, <em class="sig-param">image='registry.redhat.io/rhel8/redis'</em>, <em class="sig-param">pattern=''</em>, <em class="sig-param">wait=True</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.registry.image_pull_and_push" title="Permalink to this definition">¶</a></dt>
<dd><p>Pull and push images running oc new-app command
:param project_name: Name of project
:type project_name: str
:param template: Name of the template of the image
:type template: str
:param image: Name of the image with tag
:type image: str
:param pattern: name of the build with given pattern
:type pattern: str
:param wait: If true waits till the image pull and push completes.
:type wait: bool</p>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.registry.image_push">
<code class="sig-prename descclassname">ocs_ci.ocs.registry.</code><code class="sig-name descname">image_push</code><span class="sig-paren">(</span><em class="sig-param">image_url</em>, <em class="sig-param">namespace</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.registry.image_push" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to push images to destination</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image_url</strong> (<em>str</em>) – Image url container image repo link</p></li>
<li><p><strong>namespace</strong> (<em>str</em>) – Image to be uploaded namespace</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Uploaded image path</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>registry_path (str)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.registry.image_rm">
<code class="sig-prename descclassname">ocs_ci.ocs.registry.</code><code class="sig-name descname">image_rm</code><span class="sig-paren">(</span><em class="sig-param">registry_path</em>, <em class="sig-param">image_url</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.registry.image_rm" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to remove images from registry</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>registry_path</strong> (<em>str</em>) – Image registry path</p></li>
<li><p><strong>image_url</strong> (<em>str</em>) – Image url container image repo link</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.registry.modify_registry_pod_count">
<code class="sig-prename descclassname">ocs_ci.ocs.registry.</code><code class="sig-name descname">modify_registry_pod_count</code><span class="sig-paren">(</span><em class="sig-param">count</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.registry.modify_registry_pod_count" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to modify registry replica count(increase/decrease pod count)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>count</strong> (<em>int</em>) – registry replica count to be changed to</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True in case if changes are applied. False otherwise</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="#ocs_ci.ocs.exceptions.TimeoutExpiredError" title="ocs_ci.ocs.exceptions.TimeoutExpiredError"><strong>TimeoutExpiredError</strong></a> – When number of image registry pods doesn’t match the count</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.registry.remove_role_from_user">
<code class="sig-prename descclassname">ocs_ci.ocs.registry.</code><code class="sig-name descname">remove_role_from_user</code><span class="sig-paren">(</span><em class="sig-param">role_type</em>, <em class="sig-param">user</em>, <em class="sig-param">cluster_role=False</em>, <em class="sig-param">namespace=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.registry.remove_role_from_user" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to remove a cluster/regular role from a user</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>role_type</strong> (<em>str</em>) – Type of the role to be removed</p></li>
<li><p><strong>user</strong> (<em>str</em>) – User of the role</p></li>
<li><p><strong>cluster_role</strong> (<em>bool</em>) – Whether to remove a cluster-role or a regular role</p></li>
<li><p><strong>namespace</strong> (<em>str</em>) – Namespace to be used</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>AssertionError</strong> – When failure in removing role from user</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.registry.validate_image_exists">
<code class="sig-prename descclassname">ocs_ci.ocs.registry.</code><code class="sig-name descname">validate_image_exists</code><span class="sig-paren">(</span><em class="sig-param">app='redis'</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.registry.validate_image_exists" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate image exists on registries path
:param app: Label or application name
:type app: str</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Dir/Files/Images are listed in string format</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>image_list (str)</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>Exceptions if dir/folders not found</strong> – </p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.registry.validate_pvc_mount_on_registry_pod">
<code class="sig-prename descclassname">ocs_ci.ocs.registry.</code><code class="sig-name descname">validate_pvc_mount_on_registry_pod</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.registry.validate_pvc_mount_on_registry_pod" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to validate pvc mounted on the registry pod</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>AssertionError</strong> – When PVC mount not present in the registry pod</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.registry.validate_registry_pod_status">
<code class="sig-prename descclassname">ocs_ci.ocs.registry.</code><code class="sig-name descname">validate_registry_pod_status</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.registry.validate_registry_pod_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to validate registry pod status</p>
</dd></dl>

</div>
<div class="section" id="module-ocs_ci.ocs.scale_lib">
<span id="ocs-ci-ocs-scale-lib-module"></span><h2>ocs_ci.ocs.scale_lib module<a class="headerlink" href="#module-ocs_ci.ocs.scale_lib" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ocs_ci.ocs.scale_lib.FioPodScale">
<em class="property">class </em><code class="sig-prename descclassname">ocs_ci.ocs.scale_lib.</code><code class="sig-name descname">FioPodScale</code><span class="sig-paren">(</span><em class="sig-param">kind='deploymentconfig'</em>, <em class="sig-param">node_selector={'scale-label': 'app-scale'}</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.scale_lib.FioPodScale" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>FioPodScale Class with required scale library functions and params</p>
<dl class="method">
<dt id="ocs_ci.ocs.scale_lib.FioPodScale.cleanup">
<code class="sig-name descname">cleanup</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.scale_lib.FioPodScale.cleanup" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to tear down</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.scale_lib.FioPodScale.create_and_set_namespace">
<code class="sig-name descname">create_and_set_namespace</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.scale_lib.FioPodScale.create_and_set_namespace" title="Permalink to this definition">¶</a></dt>
<dd><p>Create and set namespace for the pods to be created
Create sa_name if Kind if DeploymentConfig</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.scale_lib.FioPodScale.create_multi_pvc_pod">
<code class="sig-name descname">create_multi_pvc_pod</code><span class="sig-paren">(</span><em class="sig-param">pvc_count=760</em>, <em class="sig-param">pvcs_per_pod=20</em>, <em class="sig-param">obj_name='obj1'</em>, <em class="sig-param">start_io=True</em>, <em class="sig-param">io_runtime=None</em>, <em class="sig-param">pvc_size=None</em>, <em class="sig-param">max_pvc_size=105</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.scale_lib.FioPodScale.create_multi_pvc_pod" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to create PVC of different type and attach them to PODs and start IO.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pvc_count</strong> (<em>int</em>) – Number of PVCs to be created</p></li>
<li><p><strong>pvcs_per_pod</strong> (<em>int</em>) – No of PVCs to be attached to single pod</p></li>
<li><p><strong>If 20 then a POD will be created with 20PVCs attached</strong> (<em>Example</em><em>,</em>) – </p></li>
<li><p><strong>obj_name</strong> (<em>string</em>) – Object name prefix string</p></li>
<li><p><strong>start_io</strong> (<em>bool</em>) – Binary value to start IO default it’s True</p></li>
<li><p><strong>io_runtime</strong> (<em>seconds</em>) – Runtime in Seconds to continue IO</p></li>
<li><p><strong>pvc_size</strong> (<em>int</em>) – Size of PVC to be created</p></li>
<li><p><strong>max_pvc_size</strong> (<em>int</em>) – The max size of the pvc</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List all the rbd PVCs names created
fs_pvc_name (list): List all the fs PVCs names created
pod_running_list (list): List all the PODs names created</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>rbd_pvc_name (list)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.scale_lib.FioPodScale.create_scale_pods">
<code class="sig-name descname">create_scale_pods</code><span class="sig-paren">(</span><em class="sig-param">scale_count=1500</em>, <em class="sig-param">pvc_per_pod_count=20</em>, <em class="sig-param">start_io=True</em>, <em class="sig-param">io_runtime=None</em>, <em class="sig-param">pvc_size=None</em>, <em class="sig-param">max_pvc_size=105</em>, <em class="sig-param">obj_name_prefix='obj'</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.scale_lib.FioPodScale.create_scale_pods" title="Permalink to this definition">¶</a></dt>
<dd><p>Main Function with scale pod creation flow and checks to add nodes
for the supported platforms, validates pg-balancer after scaling
Function breaks the scale_count in multiples of 750 and iterates those
many time to reach the desired count.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>scale_count</strong> (<em>int</em>) – No of PVCs to be Scaled. Should be one of the values in the dict
“constants.SCALE_PVC_ROUND_UP_VALUE”.</p></li>
<li><p><strong>pvc_per_pod_count</strong> (<em>int</em>) – Number of PVCs to be attached to single POD</p></li>
<li><p><strong>If 20 then 20 PVCs will be attached to single POD</strong> (<em>Example</em><em>,</em>) – </p></li>
<li><p><strong>start_io</strong> (<em>bool</em>) – Binary value to start IO default it’s True</p></li>
<li><p><strong>io_runtime</strong> (<em>seconds</em>) – Runtime in Seconds to continue IO</p></li>
<li><p><strong>pvc_size</strong> (<em>int</em>) – Size of PVC to be created</p></li>
<li><p><strong>max_pvc_size</strong> (<em>int</em>) – The max size of the pvc</p></li>
<li><p><strong>obj_name_prefix</strong> (<em>str</em>) – The prefix of the object name. The default value is ‘obj’</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.scale_lib.FioPodScale.kind">
<em class="property">property </em><code class="sig-name descname">kind</code><a class="headerlink" href="#ocs_ci.ocs.scale_lib.FioPodScale.kind" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.scale_lib.FioPodScale.node_selector">
<em class="property">property </em><code class="sig-name descname">node_selector</code><a class="headerlink" href="#ocs_ci.ocs.scale_lib.FioPodScale.node_selector" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.scale_lib.FioPodScale.pvc_expansion">
<code class="sig-name descname">pvc_expansion</code><span class="sig-paren">(</span><em class="sig-param">pvc_new_size</em>, <em class="sig-param">wait_time=30</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.scale_lib.FioPodScale.pvc_expansion" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to expand PVC size and verify the new size is reflected.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pvc_new_size</strong> (<em>int</em>) – Updated/extended PVC size</p></li>
<li><p><strong>wait_time</strong> – timeout for all the pvc in kube job to get extended size</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.scale_lib.add_worker_based_on_cpu_utilization">
<code class="sig-prename descclassname">ocs_ci.ocs.scale_lib.</code><code class="sig-name descname">add_worker_based_on_cpu_utilization</code><span class="sig-paren">(</span><em class="sig-param">node_count</em>, <em class="sig-param">expected_percent</em>, <em class="sig-param">role_type=None</em>, <em class="sig-param">machineset_name=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.scale_lib.add_worker_based_on_cpu_utilization" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to evaluate CPU utilization of nodes and add node if required.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>machineset_name</strong> (<em>list</em>) – Machineset_names to add more nodes if required.</p></li>
<li><p><strong>node_count</strong> (<em>int</em>) – Additional nodes to be added</p></li>
<li><p><strong>expected_percent</strong> (<em>int</em>) – Expected utilization precent</p></li>
<li><p><strong>role_type</strong> (<em>str</em>) – To add type to the nodes getting added</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if Nodes gets added, else false.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.scale_lib.add_worker_based_on_pods_count_per_node">
<code class="sig-prename descclassname">ocs_ci.ocs.scale_lib.</code><code class="sig-name descname">add_worker_based_on_pods_count_per_node</code><span class="sig-paren">(</span><em class="sig-param">node_count</em>, <em class="sig-param">expected_count</em>, <em class="sig-param">role_type=None</em>, <em class="sig-param">machineset_name=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.scale_lib.add_worker_based_on_pods_count_per_node" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to evaluate number of pods up in node and add new node accordingly.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>machineset_name</strong> (<em>list</em>) – Machineset_names to add more nodes if required.</p></li>
<li><p><strong>node_count</strong> (<em>int</em>) – Additional nodes to be added</p></li>
<li><p><strong>expected_count</strong> (<em>int</em>) – Expected pod count in one node</p></li>
<li><p><strong>role_type</strong> (<em>str</em>) – To add type to the nodes getting added</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if Nodes gets added, else false.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.scale_lib.attach_multiple_pvc_to_pod_dict">
<code class="sig-prename descclassname">ocs_ci.ocs.scale_lib.</code><code class="sig-name descname">attach_multiple_pvc_to_pod_dict</code><span class="sig-paren">(</span><em class="sig-param">pvc_list</em>, <em class="sig-param">namespace</em>, <em class="sig-param">raw_block_pv=False</em>, <em class="sig-param">pvcs_per_pod=10</em>, <em class="sig-param">deployment_config=False</em>, <em class="sig-param">start_io=True</em>, <em class="sig-param">node_selector=None</em>, <em class="sig-param">io_runtime=None</em>, <em class="sig-param">io_size=None</em>, <em class="sig-param">pod_yaml='/Users/danielosypenko/Work/automation_4/ocs-ci/ocs_ci/templates/app-pods/performance.yaml'</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.scale_lib.attach_multiple_pvc_to_pod_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to construct pod.yaml with multiple PVC’s
Note: Function supports only performance.yaml which in-built has fio</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pvc_list</strong> (<em>list</em>) – list of PVCs to be attach to single pod</p></li>
<li><p><strong>namespace</strong> (<em>str</em>) – Name of the namespace where to deploy</p></li>
<li><p><strong>raw_block_pv</strong> (<em>bool</em>) – Either PVC is raw block PV or not</p></li>
<li><p><strong>pvcs_per_pod</strong> (<em>int</em>) – No of PVCs to be attached to single pod</p></li>
<li><p><strong>deployment_config</strong> (<em>bool</em>) – If True then DC enabled else not</p></li>
<li><p><strong>start_io</strong> (<em>bool</em>) – Binary value to start IO default it’s True</p></li>
<li><p><strong>node_selector</strong> (<em>dict</em>) – Pods will be created in this node_selector
Example, {‘nodetype’: ‘app-pod’}</p></li>
<li><p><strong>io_runtime</strong> (<em>seconds</em>) – Runtime in Seconds to continue IO</p></li>
<li><p><strong>io_size</strong> (<em>str value with M|K|G</em>) – io_size with respective unit</p></li>
<li><p><strong>pod_yaml</strong> (<em>dict</em>) – Pod yaml file dict</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>pod data with multiple PVC mount paths added</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pod_data (str)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.scale_lib.check_all_pod_reached_running_state_in_kube_job">
<code class="sig-prename descclassname">ocs_ci.ocs.scale_lib.</code><code class="sig-name descname">check_all_pod_reached_running_state_in_kube_job</code><span class="sig-paren">(</span><em class="sig-param">kube_job_obj</em>, <em class="sig-param">namespace</em>, <em class="sig-param">no_of_pod</em>, <em class="sig-param">timeout=30</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.scale_lib.check_all_pod_reached_running_state_in_kube_job" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to check either bulk created PODs reached Running state using kube_job</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kube_job_obj</strong> (<em>obj</em>) – Kube Job Object</p></li>
<li><p><strong>namespace</strong> (<em>str</em>) – Namespace of PVC’s created</p></li>
<li><p><strong>no_of_pod</strong> (<em>int</em>) – POD count</p></li>
<li><p><strong>timeout</strong> (<em>sec</em>) – Timeout between each POD iteration check</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of all PODs reached running state.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pod_running_list (list)</p>
</dd>
</dl>
<dl class="simple">
<dt>Asserts:</dt><dd><p>If not all POD reached Running state.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.scale_lib.check_all_pvc_reached_bound_state_in_kube_job">
<code class="sig-prename descclassname">ocs_ci.ocs.scale_lib.</code><code class="sig-name descname">check_all_pvc_reached_bound_state_in_kube_job</code><span class="sig-paren">(</span><em class="sig-param">kube_job_obj</em>, <em class="sig-param">namespace</em>, <em class="sig-param">no_of_pvc</em>, <em class="sig-param">timeout=30</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.scale_lib.check_all_pvc_reached_bound_state_in_kube_job" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to check either bulk created PVCs reached Bound state using kube_job</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kube_job_obj</strong> (<em>obj</em>) – Kube Job Object</p></li>
<li><p><strong>namespace</strong> (<em>str</em>) – Namespace of PVC’s created</p></li>
<li><p><strong>no_of_pvc</strong> (<em>int</em>) – Bulk PVC count</p></li>
<li><p><strong>timeout</strong> – a timeout for all the pvc in kube job to reach bound status</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of all PVCs which is in Bound state.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pvc_bound_list (list)</p>
</dd>
</dl>
<dl class="simple">
<dt>Asserts:</dt><dd><p>If not all PVC reached to Bound state.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.scale_lib.check_and_add_enough_worker">
<code class="sig-prename descclassname">ocs_ci.ocs.scale_lib.</code><code class="sig-name descname">check_and_add_enough_worker</code><span class="sig-paren">(</span><em class="sig-param">worker_count</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.scale_lib.check_and_add_enough_worker" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to check if there is enough workers available to scale pods.
IF there is no enough worker then worker will be added based on supported platforms
Function also adds scale label to the respective worker nodes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>worker_count</strong> (<em>int</em>) – Expected worker count to be present in the setup</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True is there is enough worker count else raise exception.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>book</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.scale_lib.check_enough_resource_available_in_workers">
<code class="sig-prename descclassname">ocs_ci.ocs.scale_lib.</code><code class="sig-name descname">check_enough_resource_available_in_workers</code><span class="sig-paren">(</span><em class="sig-param">ms_name=None</em>, <em class="sig-param">pod_dict_path=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.scale_lib.check_enough_resource_available_in_workers" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to check if there is enough resource in worker, if not add worker
for automation supported platforms</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ms_name</strong> (<em>list</em>) – Require param in-case of aws platform to increase the worker</p></li>
<li><p><strong>pod_dict_path</strong> (<em>str</em>) – Pod dict path for nginx pod.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.scale_lib.collect_scale_data_in_file">
<code class="sig-prename descclassname">ocs_ci.ocs.scale_lib.</code><code class="sig-name descname">collect_scale_data_in_file</code><span class="sig-paren">(</span><em class="sig-param">namespace</em>, <em class="sig-param">kube_pod_obj_list</em>, <em class="sig-param">kube_pvc_obj_list</em>, <em class="sig-param">scale_count</em>, <em class="sig-param">pvc_per_pod_count</em>, <em class="sig-param">scale_data_file</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.scale_lib.collect_scale_data_in_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to add scale data to a file
:param namespace: Namespace of scale resource created
:type namespace: str
:param kube_pod_obj_list: List of pod kube jobs
:type kube_pod_obj_list: list
:param kube_pvc_obj_list: List of pvc kube jobs
:type kube_pvc_obj_list: list
:param scale_count: Scaled PVC count
:type scale_count: int
:param pvc_per_pod_count: PVCs per pod count
:type pvc_per_pod_count: int
:param scale_data_file: Scale data file with path
:type scale_data_file: str</p>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.scale_lib.construct_pvc_clone_yaml_bulk_for_kube_job">
<code class="sig-prename descclassname">ocs_ci.ocs.scale_lib.</code><code class="sig-name descname">construct_pvc_clone_yaml_bulk_for_kube_job</code><span class="sig-paren">(</span><em class="sig-param">pvc_dict_list</em>, <em class="sig-param">clone_yaml</em>, <em class="sig-param">sc_name</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.scale_lib.construct_pvc_clone_yaml_bulk_for_kube_job" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to construct pvc.yaml to create bulk of pvc clones using kube_job</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pvc_dict_list</strong> (<em>list</em>) – List of PVCs for each of them one clone is to be created</p></li>
<li><p><strong>clone_yaml</strong> (<em>str</em>) – Clone yaml which is the template for building clones</p></li>
<li><p><strong>sc_name</strong> (<em>str</em>) – SC name for pvc creation</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of all PVC.yaml dicts</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pvc_dict_list (list)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.scale_lib.construct_pvc_creation_yaml_bulk_for_kube_job">
<code class="sig-prename descclassname">ocs_ci.ocs.scale_lib.</code><code class="sig-name descname">construct_pvc_creation_yaml_bulk_for_kube_job</code><span class="sig-paren">(</span><em class="sig-param">no_of_pvc</em>, <em class="sig-param">access_mode</em>, <em class="sig-param">sc_name</em>, <em class="sig-param">pvc_size=None</em>, <em class="sig-param">max_pvc_size=105</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.scale_lib.construct_pvc_creation_yaml_bulk_for_kube_job" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to construct pvc.yaml to create bulk of pvc’s using kube_job</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>no_of_pvc</strong> (<em>int</em>) – Bulk PVC count</p></li>
<li><p><strong>access_mode</strong> (<em>str</em>) – PVC access_mode</p></li>
<li><p><strong>sc_name</strong> (<em>str</em>) – SC name for pvc creation</p></li>
<li><p><strong>pvc_size</strong> (<em>str</em>) – size of all pvcs to be created with Gi suffix (e.g. 10Gi).
If None, random size pvc will be created</p></li>
<li><p><strong>max_pvc_size</strong> (<em>int</em>) – The max size of the pvc. It should be greater than 9</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of all PVC.yaml dicts</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pvc_dict_list (list)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.scale_lib.delete_objs_parallel">
<code class="sig-prename descclassname">ocs_ci.ocs.scale_lib.</code><code class="sig-name descname">delete_objs_parallel</code><span class="sig-paren">(</span><em class="sig-param">obj_list</em>, <em class="sig-param">namespace</em>, <em class="sig-param">kind</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.scale_lib.delete_objs_parallel" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to delete objs specified in list</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obj_list</strong> (<em>list</em>) – List can be obj of pod, pvc, etc</p></li>
<li><p><strong>namespace</strong> (<em>str</em>) – Namespace where the obj belongs to</p></li>
<li><p><strong>kind</strong> (<em>str</em>) – Obj Kind</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.scale_lib.get_expected_worker_count">
<code class="sig-prename descclassname">ocs_ci.ocs.scale_lib.</code><code class="sig-name descname">get_expected_worker_count</code><span class="sig-paren">(</span><em class="sig-param">scale_count=1500</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.scale_lib.get_expected_worker_count" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to get expected worker count based on platform to scale pods in cluster</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>scale_count</strong> (<em>int</em>) – Scale count of the PVC+POD to be created</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Expected worker count to scale required number of pod</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>expected_worker_count (int)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.scale_lib.get_max_pvc_count">
<code class="sig-prename descclassname">ocs_ci.ocs.scale_lib.</code><code class="sig-name descname">get_max_pvc_count</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.scale_lib.get_max_pvc_count" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the maximum number of pvcs to test for.
This value is 500 times the number of worker nodes.</p>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.scale_lib.get_pod_creation_time_in_kube_job">
<code class="sig-prename descclassname">ocs_ci.ocs.scale_lib.</code><code class="sig-name descname">get_pod_creation_time_in_kube_job</code><span class="sig-paren">(</span><em class="sig-param">kube_job_obj</em>, <em class="sig-param">namespace</em>, <em class="sig-param">no_of_pod</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.scale_lib.get_pod_creation_time_in_kube_job" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to get pod creation time of pods created using kube_job
Note: Function doesn’t support DeploymentConig pods</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kube_job_obj</strong> (<em>obj</em>) – Kube Job Object</p></li>
<li><p><strong>namespace</strong> (<em>str</em>) – Namespace of PVC’s created</p></li>
<li><p><strong>no_of_pod</strong> (<em>int</em>) – POD count</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dictionary of pod_name with creation time.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pod_dict (dict)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.scale_lib.get_rate_based_on_cls_iops">
<code class="sig-prename descclassname">ocs_ci.ocs.scale_lib.</code><code class="sig-name descname">get_rate_based_on_cls_iops</code><span class="sig-paren">(</span><em class="sig-param">custom_iops_dict=None</em>, <em class="sig-param">osd_size=2048</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.scale_lib.get_rate_based_on_cls_iops" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to check ceph cluster iops and suggest rate param for fio.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>osd_size</strong> (<em>int</em>) – Size of the OSD in GB</p></li>
<li><p><strong>custom_iops_dict</strong> (<em>dict</em>) – Dictionary of rate param to be used during IO run.</p></li>
<li><p><strong>iops_dict = {'usage_below_40%'</strong> (<em>Example</em><em>,</em>) – ‘16k’, ‘usage_40%_60%’: ‘8k’,</p></li>
<li><p><strong>'usage_60%_80%'</strong> – ‘4k’, ‘usage_80%_95%’: ‘2K’}</p></li>
<li><p><strong>Make sure dict key is same as above example.</strong> (<em>Warning</em><em>,</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Rate parm for fio based on ceph cluster IOPs</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>rate_param (str)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.scale_lib.get_size_based_on_cls_usage">
<code class="sig-prename descclassname">ocs_ci.ocs.scale_lib.</code><code class="sig-name descname">get_size_based_on_cls_usage</code><span class="sig-paren">(</span><em class="sig-param">custom_size_dict=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.scale_lib.get_size_based_on_cls_usage" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to check cls capacity suggest IO write to cluster</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>custom_size_dict</strong> (<em>dict</em>) – Dictionary of size param to be used during IO run.</p></li>
<li><p><strong>size_dict = {'usage_below_60'</strong> (<em>Example</em><em>,</em>) – ‘2G’, ‘usage_60_70’: ‘512M’,</p></li>
<li><p><strong>'usage_70_80'</strong> – ‘10M’, ‘usage_80_85’: ‘512K’, ‘usage_above_85’: ‘10K’}</p></li>
<li><p><strong>Make sure dict key is same as above example.</strong> (<em>Warning</em><em>,</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>IO size to be considered for cluster env</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>size (str)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.scale_lib.increase_pods_per_worker_node_count">
<code class="sig-prename descclassname">ocs_ci.ocs.scale_lib.</code><code class="sig-name descname">increase_pods_per_worker_node_count</code><span class="sig-paren">(</span><em class="sig-param">pods_per_node=500</em>, <em class="sig-param">pods_per_core=10</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.scale_lib.increase_pods_per_worker_node_count" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to increase pods per node count, default OCP supports 250 pods per node,
from OCP 4.6 limit is going to be 500, but using this function can override this param
to create more pods per worker nodes.
more detail: <a class="reference external" href="https://docs.openshift.com/container-platform/4.5/nodes/nodes/nodes-nodes-managing-max-pods.html">https://docs.openshift.com/container-platform/4.5/nodes/nodes/nodes-nodes-managing-max-pods.html</a></p>
<p>Example: The default value for podsPerCore is 10 and the default value for maxPods is 250.
This means that unless the node has 25 cores or more, by default, podsPerCore will be the limiting factor.</p>
<p>WARN: This function will perform Unscheduling of workers and reboot so
Please aware if there is any non-dc pods then expected to be terminated.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pods_per_node</strong> (<em>int</em>) – Pods per node limit count</p></li>
<li><p><strong>pods_per_core</strong> (<em>int</em>) – Pods per core limit count</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Raise:</dt><dd><p>UnexpectedBehaviour if machineconfigpool not in Updating state within 40secs.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.scale_lib.scale_capacity_with_deviceset">
<code class="sig-prename descclassname">ocs_ci.ocs.scale_lib.</code><code class="sig-name descname">scale_capacity_with_deviceset</code><span class="sig-paren">(</span><em class="sig-param">add_deviceset_count=2</em>, <em class="sig-param">timeout=300</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.scale_lib.scale_capacity_with_deviceset" title="Permalink to this definition">¶</a></dt>
<dd><p>Scale storagecluster deviceset count by increasing the
value in storagecluster crs fil</p>
<p>Example: If add_deviceset_count = 2 &amp; existing storagecluster
has deviceset count as 1, at the end of function deviceset value
will be existing value + add_deviceset_count i.e. 3</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>add_deviceset_count</strong> (<em>int</em>) – Deviceset count to be added to existing value</p></li>
<li><p><strong>timeout</strong> (<em>sec</em>) – Timeout for wait_for_resource function call</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.scale_lib.scale_ocs_node">
<code class="sig-prename descclassname">ocs_ci.ocs.scale_lib.</code><code class="sig-name descname">scale_ocs_node</code><span class="sig-paren">(</span><em class="sig-param">node_count=3</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.scale_lib.scale_ocs_node" title="Permalink to this definition">¶</a></dt>
<dd><p>Scale OCS worker node by increasing the respective
machineset replica value by node_count.</p>
<p>Example: If node_count = 3 &amp; existing cluster has 3 worker nodes,
then at the end of this function, setup should have 6 OCS worker nodes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>node_count</strong> (<em>int</em>) – Add node_count OCS worker node to the cluster</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.scale_lib.validate_all_expanded_pvc_size_in_kube_job">
<code class="sig-prename descclassname">ocs_ci.ocs.scale_lib.</code><code class="sig-name descname">validate_all_expanded_pvc_size_in_kube_job</code><span class="sig-paren">(</span><em class="sig-param">kube_job_obj</em>, <em class="sig-param">namespace</em>, <em class="sig-param">no_of_pvc</em>, <em class="sig-param">resize_value</em>, <em class="sig-param">timeout=30</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.scale_lib.validate_all_expanded_pvc_size_in_kube_job" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to check either bulk created PVCs has extended size using kube_job</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kube_job_obj</strong> (<em>obj</em>) – Kube Job Object</p></li>
<li><p><strong>namespace</strong> (<em>str</em>) – Namespace of PVC’s created</p></li>
<li><p><strong>no_of_pvc</strong> (<em>int</em>) – Bulk PVC count</p></li>
<li><p><strong>resize_value</strong> (<em>int</em>) – Updated/extended PVC size</p></li>
<li><p><strong>timeout</strong> – a timeout for all the pvc in kube job to get extended size</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of all PVCs which have extended size.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pvc_extended_list (list)</p>
</dd>
</dl>
<dl class="simple">
<dt>Asserts:</dt><dd><p>If not all PVC has the extended size.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.scale_lib.validate_all_pods_and_check_state">
<code class="sig-prename descclassname">ocs_ci.ocs.scale_lib.</code><code class="sig-name descname">validate_all_pods_and_check_state</code><span class="sig-paren">(</span><em class="sig-param">namespace</em>, <em class="sig-param">pod_scale_list</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.scale_lib.validate_all_pods_and_check_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to validate all the PODs are in Running state</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>namespace</strong> (<em>str</em>) – Namespace of PVC’s created</p></li>
<li><p><strong>pod_scale_list</strong> (<em>list</em>) – List of expected PODs scaled</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.scale_lib.validate_all_pvcs_and_check_state">
<code class="sig-prename descclassname">ocs_ci.ocs.scale_lib.</code><code class="sig-name descname">validate_all_pvcs_and_check_state</code><span class="sig-paren">(</span><em class="sig-param">namespace</em>, <em class="sig-param">pvc_scale_list</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.scale_lib.validate_all_pvcs_and_check_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to validate all the PVCs are in Bound state</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>namespace</strong> (<em>str</em>) – Namespace of PVC’s created</p></li>
<li><p><strong>pvc_scale_list</strong> (<em>list</em>) – List of expected PVCs scaled</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.scale_lib.validate_node_and_oc_services_are_up_after_reboot">
<code class="sig-prename descclassname">ocs_ci.ocs.scale_lib.</code><code class="sig-name descname">validate_node_and_oc_services_are_up_after_reboot</code><span class="sig-paren">(</span><em class="sig-param">wait_time=40</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.scale_lib.validate_node_and_oc_services_are_up_after_reboot" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to validation all the nodes(worker/master), pods
and services are up and running in the OCP cluster</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>wait_time</strong> (<em>int</em>) – Wait time before validating nodes and services</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-ocs_ci.ocs.scale_noobaa_lib">
<span id="ocs-ci-ocs-scale-noobaa-lib-module"></span><h2>ocs_ci.ocs.scale_noobaa_lib module<a class="headerlink" href="#module-ocs_ci.ocs.scale_noobaa_lib" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="ocs_ci.ocs.scale_noobaa_lib.check_all_obc_reached_bound_state_in_kube_job">
<code class="sig-prename descclassname">ocs_ci.ocs.scale_noobaa_lib.</code><code class="sig-name descname">check_all_obc_reached_bound_state_in_kube_job</code><span class="sig-paren">(</span><em class="sig-param">kube_job_obj</em>, <em class="sig-param">namespace</em>, <em class="sig-param">no_of_obc</em>, <em class="sig-param">timeout=60</em>, <em class="sig-param">no_wait_time=20</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.scale_noobaa_lib.check_all_obc_reached_bound_state_in_kube_job" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to check either bulk created OBCs reached Bound state using kube_job
:param kube_job_obj: Kube Job Object
:type kube_job_obj: obj
:param namespace: Namespace of OBC’s created
:type namespace: str
:param no_of_obc: Bulk OBC count
:type no_of_obc: int
:param timeout: a timeout for all the obc in kube job to reach bound state
:type timeout: second
:param no_wait_time: number of wait time to ensure all OCBs to reach bound state
:type no_wait_time: int</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>List of all OBCs which is in Bound state.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>obc_bound_list (list)</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>AssertionError</strong> – If not all OBC reached to Bound state</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.scale_noobaa_lib.check_all_obcs_status">
<code class="sig-prename descclassname">ocs_ci.ocs.scale_noobaa_lib.</code><code class="sig-name descname">check_all_obcs_status</code><span class="sig-paren">(</span><em class="sig-param">namespace=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.scale_noobaa_lib.check_all_obcs_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Check all OBCs status in given namespace</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>namespace</strong> (<em>str</em>) – Namespace where endpoint is running</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of all OBCs in Bound state</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>obc_bound_list</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.scale_noobaa_lib.check_memory_leak_in_noobaa_endpoint_log">
<code class="sig-prename descclassname">ocs_ci.ocs.scale_noobaa_lib.</code><code class="sig-name descname">check_memory_leak_in_noobaa_endpoint_log</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.scale_noobaa_lib.check_memory_leak_in_noobaa_endpoint_log" title="Permalink to this definition">¶</a></dt>
<dd><p>Check memory leak log in Noobaa endpoint logs.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference internal" href="#ocs_ci.ocs.exceptions.UnexpectedBehaviour" title="ocs_ci.ocs.exceptions.UnexpectedBehaviour"><strong>UnexpectedBehaviour</strong></a> – If memory leak error is existing in Noobaa endpoint logs.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.scale_noobaa_lib.cleanup">
<code class="sig-prename descclassname">ocs_ci.ocs.scale_noobaa_lib.</code><code class="sig-name descname">cleanup</code><span class="sig-paren">(</span><em class="sig-param">namespace</em>, <em class="sig-param">obc_list=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.scale_noobaa_lib.cleanup" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete all OBCs created in the cluster</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>namespace</strong> (<em>str</em>) – Namespace of OBC’s deleting</p></li>
<li><p><strong>obc_list</strong> (<em>string</em>) – List of OBCs to be deleted</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.scale_noobaa_lib.construct_obc_creation_yaml_bulk_for_kube_job">
<code class="sig-prename descclassname">ocs_ci.ocs.scale_noobaa_lib.</code><code class="sig-name descname">construct_obc_creation_yaml_bulk_for_kube_job</code><span class="sig-paren">(</span><em class="sig-param">no_of_obc</em>, <em class="sig-param">sc_name</em>, <em class="sig-param">namespace</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.scale_noobaa_lib.construct_obc_creation_yaml_bulk_for_kube_job" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructing obc.yaml file to create bulk of obc’s using kube_job</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>no_of_obc</strong> (<em>int</em>) – Bulk obc count</p></li>
<li><p><strong>sc_name</strong> (<em>str</em>) – storage class name using for obc creation</p></li>
<li><p><strong>namespace</strong> (<em>str</em>) – Namespace uses to create bulk of obc</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of all obc.yaml dicts</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>obc_dict_list (list)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.scale_noobaa_lib.create_namespace">
<code class="sig-prename descclassname">ocs_ci.ocs.scale_noobaa_lib.</code><code class="sig-name descname">create_namespace</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.scale_noobaa_lib.create_namespace" title="Permalink to this definition">¶</a></dt>
<dd><p>Create and set namespace for obcs to be created</p>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.scale_noobaa_lib.delete_bucket">
<code class="sig-prename descclassname">ocs_ci.ocs.scale_noobaa_lib.</code><code class="sig-name descname">delete_bucket</code><span class="sig-paren">(</span><em class="sig-param">bucket_name=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.scale_noobaa_lib.delete_bucket" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.scale_noobaa_lib.delete_namespace">
<code class="sig-prename descclassname">ocs_ci.ocs.scale_noobaa_lib.</code><code class="sig-name descname">delete_namespace</code><span class="sig-paren">(</span><em class="sig-param">namespace=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.scale_noobaa_lib.delete_namespace" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete namespace which was created for OBCs
:param namespace: Namespace where OBCs were created
:type namespace: str</p>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.scale_noobaa_lib.delete_object">
<code class="sig-prename descclassname">ocs_ci.ocs.scale_noobaa_lib.</code><code class="sig-name descname">delete_object</code><span class="sig-paren">(</span><em class="sig-param">bucket_name=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.scale_noobaa_lib.delete_object" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.scale_noobaa_lib.get_endpoint_pod_count">
<code class="sig-prename descclassname">ocs_ci.ocs.scale_noobaa_lib.</code><code class="sig-name descname">get_endpoint_pod_count</code><span class="sig-paren">(</span><em class="sig-param">namespace</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.scale_noobaa_lib.get_endpoint_pod_count" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to query number of endpoint running in the cluster.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>namespace</strong> (<em>str</em>) – Namespace where endpoint is running</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Number of endpoint pods</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>endpoint_count (int)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.scale_noobaa_lib.get_hpa_utilization">
<code class="sig-prename descclassname">ocs_ci.ocs.scale_noobaa_lib.</code><code class="sig-name descname">get_hpa_utilization</code><span class="sig-paren">(</span><em class="sig-param">namespace</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.scale_noobaa_lib.get_hpa_utilization" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to get hpa utilization in the cluster.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>namespace</strong> (<em>str</em>) – Namespace where endpoint is running</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Percentage of CPU utilization on HPA.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>hpa_cpu_utilization (int)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.scale_noobaa_lib.get_noobaa_pods_status">
<code class="sig-prename descclassname">ocs_ci.ocs.scale_noobaa_lib.</code><code class="sig-name descname">get_noobaa_pods_status</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.scale_noobaa_lib.get_noobaa_pods_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Check Noobaa pod status to ensure it is in Running state.</p>
<p>Args: None</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True, if all Noobaa pods in Running state. False, otherwise</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>Boolean</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.scale_noobaa_lib.hsbench_cleanup">
<code class="sig-prename descclassname">ocs_ci.ocs.scale_noobaa_lib.</code><code class="sig-name descname">hsbench_cleanup</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.scale_noobaa_lib.hsbench_cleanup" title="Permalink to this definition">¶</a></dt>
<dd><p>Clean up deployment config, pvc, pod and test user</p>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.scale_noobaa_lib.hsbench_io">
<code class="sig-prename descclassname">ocs_ci.ocs.scale_noobaa_lib.</code><code class="sig-name descname">hsbench_io</code><span class="sig-paren">(</span><em class="sig-param">namespace=None</em>, <em class="sig-param">num_obj=None</em>, <em class="sig-param">num_bucket=None</em>, <em class="sig-param">object_size=None</em>, <em class="sig-param">run_mode=None</em>, <em class="sig-param">bucket_prefix=None</em>, <em class="sig-param">result=None</em>, <em class="sig-param">validate=None</em>, <em class="sig-param">timeout=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.scale_noobaa_lib.hsbench_io" title="Permalink to this definition">¶</a></dt>
<dd><p>Run hsbench s3 benchmark</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>namespace</strong> (<em>str</em>) – namespace to run workload</p></li>
<li><p><strong>num_obj</strong> (<em>int</em>) – Number of object(s)</p></li>
<li><p><strong>num_bucket</strong> (<em>int</em>) – Number of bucket(s)</p></li>
<li><p><strong>object_size</strong> (<em>str</em>) – Size of objects in bytes with postfix K, M, and G</p></li>
<li><p><strong>run_mode</strong> (<em>str</em>) – run mode</p></li>
<li><p><strong>bucket_prefix</strong> (<em>str</em>) – Prefix for buckets</p></li>
<li><p><strong>result</strong> (<em>str</em>) – Write CSV output to this file</p></li>
<li><p><strong>validate</strong> (<em>bool</em>) – Validates whether running workload is completed.</p></li>
<li><p><strong>timeout</strong> (<em>int</em>) – timeout in second</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.scale_noobaa_lib.hsbench_setup">
<code class="sig-prename descclassname">ocs_ci.ocs.scale_noobaa_lib.</code><code class="sig-name descname">hsbench_setup</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.scale_noobaa_lib.hsbench_setup" title="Permalink to this definition">¶</a></dt>
<dd><p>Setup and install hsbench</p>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.scale_noobaa_lib.measure_obc_creation_time">
<code class="sig-prename descclassname">ocs_ci.ocs.scale_noobaa_lib.</code><code class="sig-name descname">measure_obc_creation_time</code><span class="sig-paren">(</span><em class="sig-param">obc_name_list</em>, <em class="sig-param">timeout=120</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.scale_noobaa_lib.measure_obc_creation_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Measure OBC creation time
:param obc_name_list: List of obc names to measure creation time
:type obc_name_list: list
:param timeout: Wait time in second before collecting log
:type timeout: int</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Dictionary of obcs and creation time in second</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>obc_dict (dict)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.scale_noobaa_lib.measure_obc_deletion_time">
<code class="sig-prename descclassname">ocs_ci.ocs.scale_noobaa_lib.</code><code class="sig-name descname">measure_obc_deletion_time</code><span class="sig-paren">(</span><em class="sig-param">obc_name_list</em>, <em class="sig-param">timeout=60</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.scale_noobaa_lib.measure_obc_deletion_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Measure OBC deletion time
:param obc_name_list: List of obc names to measure deletion time
:type obc_name_list: list
:param timeout: Wait time in second before collecting log
:type timeout: int</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Dictionary of obcs and deletion time in second</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>obc_dict (dict)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.scale_noobaa_lib.noobaa_running_node_restart">
<code class="sig-prename descclassname">ocs_ci.ocs.scale_noobaa_lib.</code><code class="sig-name descname">noobaa_running_node_restart</code><span class="sig-paren">(</span><em class="sig-param">pod_name</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.scale_noobaa_lib.noobaa_running_node_restart" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to restart node which has noobaa pod’s running</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>pod_name</strong> (<em>str</em>) – Name of noobaa pod</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.scale_noobaa_lib.validate_bucket">
<code class="sig-prename descclassname">ocs_ci.ocs.scale_noobaa_lib.</code><code class="sig-name descname">validate_bucket</code><span class="sig-paren">(</span><em class="sig-param">num_objs=None</em>, <em class="sig-param">upgrade=None</em>, <em class="sig-param">result=None</em>, <em class="sig-param">put=None</em>, <em class="sig-param">get=None</em>, <em class="sig-param">list_obj=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.scale_noobaa_lib.validate_bucket" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate S3 objects created by hsbench on bucket(s)</p>
</dd></dl>

</div>
<div class="section" id="module-ocs_ci.ocs.scale_pgsql">
<span id="ocs-ci-ocs-scale-pgsql-module"></span><h2>ocs_ci.ocs.scale_pgsql module<a class="headerlink" href="#module-ocs_ci.ocs.scale_pgsql" title="Permalink to this headline">¶</a></h2>
<p>ScalePodPGSQL workload class for scale</p>
<dl class="class">
<dt id="ocs_ci.ocs.scale_pgsql.ScalePodPGSQL">
<em class="property">class </em><code class="sig-prename descclassname">ocs_ci.ocs.scale_pgsql.</code><code class="sig-name descname">ScalePodPGSQL</code><span class="sig-paren">(</span><em class="sig-param">node_selector={'scale-label': 'app-scale'}</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.scale_pgsql.ScalePodPGSQL" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ocs_ci.ocs.pgsql.Postgresql" title="ocs_ci.ocs.pgsql.Postgresql"><code class="xref py py-class docutils literal notranslate"><span class="pre">ocs_ci.ocs.pgsql.Postgresql</span></code></a></p>
<p>Scale Postgresql workload with scale parameters and functions</p>
<dl class="method">
<dt id="ocs_ci.ocs.scale_pgsql.ScalePodPGSQL.cleanup">
<code class="sig-name descname">cleanup</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.scale_pgsql.ScalePodPGSQL.cleanup" title="Permalink to this definition">¶</a></dt>
<dd><p>Clean up</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.scale_pgsql.ScalePodPGSQL.setup_postgresql">
<code class="sig-name descname">setup_postgresql</code><span class="sig-paren">(</span><em class="sig-param">replicas</em>, <em class="sig-param">node_selector=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.scale_pgsql.ScalePodPGSQL.setup_postgresql" title="Permalink to this definition">¶</a></dt>
<dd><p>Deploy postgres sql server</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>replicas</strong> (<em>int</em>) – Number of postgresql pods to be deployed</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="#ocs_ci.ocs.exceptions.CommandFailed" title="ocs_ci.ocs.exceptions.CommandFailed"><strong>CommandFailed</strong></a> – If PostgreSQL server setup fails</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.scale_pgsql.add_worker_node">
<code class="sig-prename descclassname">ocs_ci.ocs.scale_pgsql.</code><code class="sig-name descname">add_worker_node</code><span class="sig-paren">(</span><em class="sig-param">instance_type=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.scale_pgsql.add_worker_node" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.scale_pgsql.delete_worker_node">
<code class="sig-prename descclassname">ocs_ci.ocs.scale_pgsql.</code><code class="sig-name descname">delete_worker_node</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.scale_pgsql.delete_worker_node" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-ocs_ci.ocs.small_file_workload">
<span id="ocs-ci-ocs-small-file-workload-module"></span><h2>ocs_ci.ocs.small_file_workload module<a class="headerlink" href="#module-ocs_ci.ocs.small_file_workload" title="Permalink to this headline">¶</a></h2>
<p>Class to implement the Small Files benchmark as a subclass of the benchmark operator</p>
<p>This workload is required an elastic-search instance to run.</p>
<dl class="class">
<dt id="ocs_ci.ocs.small_file_workload.SmallFiles">
<em class="property">class </em><code class="sig-prename descclassname">ocs_ci.ocs.small_file_workload.</code><code class="sig-name descname">SmallFiles</code><span class="sig-paren">(</span><em class="sig-param">es</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.small_file_workload.SmallFiles" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ocs_ci.ocs.benchmark_operator.BenchmarkOperator" title="ocs_ci.ocs.benchmark_operator.BenchmarkOperator"><code class="xref py py-class docutils literal notranslate"><span class="pre">ocs_ci.ocs.benchmark_operator.BenchmarkOperator</span></code></a></p>
<p>Small_Files workload benchmark</p>
<dl class="method">
<dt id="ocs_ci.ocs.small_file_workload.SmallFiles.delete">
<code class="sig-name descname">delete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.small_file_workload.SmallFiles.delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete the benchmark</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.small_file_workload.SmallFiles.run">
<code class="sig-name descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.small_file_workload.SmallFiles.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the benchmark and wait until it completed</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.small_file_workload.SmallFiles.setup_operations">
<code class="sig-name descname">setup_operations</code><span class="sig-paren">(</span><em class="sig-param">ops</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.small_file_workload.SmallFiles.setup_operations" title="Permalink to this definition">¶</a></dt>
<dd><p>Setting up the test operations</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>ops</strong> – can be list of operations or a string of one operation</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.small_file_workload.SmallFiles.setup_storageclass">
<code class="sig-name descname">setup_storageclass</code><span class="sig-paren">(</span><em class="sig-param">interface</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.small_file_workload.SmallFiles.setup_storageclass" title="Permalink to this definition">¶</a></dt>
<dd><p>Setting up the storageclass parameter in the CRD object</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>interface</strong> (<em>str</em>) – the storage interface</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.small_file_workload.SmallFiles.setup_test_params">
<code class="sig-name descname">setup_test_params</code><span class="sig-paren">(</span><em class="sig-param">file_size</em>, <em class="sig-param">files</em>, <em class="sig-param">threads</em>, <em class="sig-param">samples</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.small_file_workload.SmallFiles.setup_test_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Setting up the parameters for this test</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_size</strong> (<em>int</em>) – the file size in KB</p></li>
<li><p><strong>files</strong> (<em>int</em>) – number of file to use in the test</p></li>
<li><p><strong>threads</strong> (<em>int</em>) – number of threads to use in the test</p></li>
<li><p><strong>samples</strong> (<em>int</em>) – number of sample to run the test</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.small_file_workload.SmallFiles.setup_vol_size">
<code class="sig-name descname">setup_vol_size</code><span class="sig-paren">(</span><em class="sig-param">file_size</em>, <em class="sig-param">files</em>, <em class="sig-param">threads</em>, <em class="sig-param">total_capacity</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.small_file_workload.SmallFiles.setup_vol_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculating the size of the volume that need to be test, it should
be at least twice in the size then the size of the files, and at
least 100Gi.</p>
<p>Since the file_size is in Kb and the vol_size need to be in Gb, more
calculation is needed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_size</strong> (<em>int</em>) – the file size in KB</p></li>
<li><p><strong>files</strong> (<em>int</em>) – number of file to use in the test</p></li>
<li><p><strong>threads</strong> (<em>int</em>) – number of threads to use in the test</p></li>
<li><p><strong>total_capacity</strong> (<em>int</em>) – The total usable storage capacity in GiB</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-ocs_ci.ocs.uninstall">
<span id="ocs-ci-ocs-uninstall-module"></span><h2>ocs_ci.ocs.uninstall module<a class="headerlink" href="#module-ocs_ci.ocs.uninstall" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="ocs_ci.ocs.uninstall.remove_cluster_logging_operator_from_ocs">
<code class="sig-prename descclassname">ocs_ci.ocs.uninstall.</code><code class="sig-name descname">remove_cluster_logging_operator_from_ocs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.uninstall.remove_cluster_logging_operator_from_ocs" title="Permalink to this definition">¶</a></dt>
<dd><p>Function removes cluster logging operator from OCS</p>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.uninstall.remove_monitoring_stack_from_ocs">
<code class="sig-prename descclassname">ocs_ci.ocs.uninstall.</code><code class="sig-name descname">remove_monitoring_stack_from_ocs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.uninstall.remove_monitoring_stack_from_ocs" title="Permalink to this definition">¶</a></dt>
<dd><p>Function removes monitoring stack from OCS</p>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.uninstall.remove_ocp_registry_from_ocs">
<code class="sig-prename descclassname">ocs_ci.ocs.uninstall.</code><code class="sig-name descname">remove_ocp_registry_from_ocs</code><span class="sig-paren">(</span><em class="sig-param">platform</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.uninstall.remove_ocp_registry_from_ocs" title="Permalink to this definition">¶</a></dt>
<dd><p>Function removes OCS registry from OCP cluster</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>platform</strong> (<em>str</em>) – the platform the cluster deployed on</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.uninstall.uninstall_lso">
<code class="sig-prename descclassname">ocs_ci.ocs.uninstall.</code><code class="sig-name descname">uninstall_lso</code><span class="sig-paren">(</span><em class="sig-param">lso_sc</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.uninstall.uninstall_lso" title="Permalink to this definition">¶</a></dt>
<dd><p>Function uninstalls local-volume objects from OCS cluster</p>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.uninstall.uninstall_ocs">
<code class="sig-prename descclassname">ocs_ci.ocs.uninstall.</code><code class="sig-name descname">uninstall_ocs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.uninstall.uninstall_ocs" title="Permalink to this definition">¶</a></dt>
<dd><p>The function uninstalls the OCS operator from a openshift
cluster and removes all its settings and dependencies</p>
</dd></dl>

</div>
<div class="section" id="module-ocs_ci.ocs.utils">
<span id="ocs-ci-ocs-utils-module"></span><h2>ocs_ci.ocs.utils module<a class="headerlink" href="#module-ocs_ci.ocs.utils" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="ocs_ci.ocs.utils.apply_oc_resource">
<code class="sig-prename descclassname">ocs_ci.ocs.utils.</code><code class="sig-name descname">apply_oc_resource</code><span class="sig-paren">(</span><em class="sig-param">template_name</em>, <em class="sig-param">cluster_path</em>, <em class="sig-param">_templating</em>, <em class="sig-param">template_data=None</em>, <em class="sig-param">template_dir='ocs-deployment'</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.utils.apply_oc_resource" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply an oc resource after rendering the specified template with
the rook data from cluster_conf.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>template_name</strong> (<em>str</em>) – Name of the ocs-deployment config template</p></li>
<li><p><strong>cluster_path</strong> (<em>str</em>) – Path to cluster directory, where files will be
written</p></li>
<li><p><strong>_templating</strong> (<a class="reference internal" href="ocs_ci.utility.html#ocs_ci.utility.templating.Templating" title="ocs_ci.utility.templating.Templating"><em>Templating</em></a>) – Object of Templating class used for
templating</p></li>
<li><p><strong>template_data</strong> (<em>dict</em>) – Data for render template (default: {})</p></li>
<li><p><strong>template_dir</strong> (<em>str</em>) – Directory under templates dir where template
exists (default: ocs-deployment)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.utils.check_ceph_healthly">
<code class="sig-prename descclassname">ocs_ci.ocs.utils.</code><code class="sig-name descname">check_ceph_healthly</code><span class="sig-paren">(</span><em class="sig-param">ceph_mon</em>, <em class="sig-param">num_osds</em>, <em class="sig-param">num_mons</em>, <em class="sig-param">mon_container=None</em>, <em class="sig-param">timeout=300</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.utils.check_ceph_healthly" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to check ceph is in healthy state</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ceph_mon</strong> (<a class="reference internal" href="#ocs_ci.ocs.external_ceph.CephNode" title="ocs_ci.ocs.external_ceph.CephNode"><em>CephNode</em></a>) – monitor node</p></li>
<li><p><strong>num_osds</strong> (<em>int</em>) – number of osds in cluster</p></li>
<li><p><strong>num_mons</strong> (<em>int</em>) – number of mons in cluster</p></li>
<li><p><strong>mon_container</strong> (<em>str</em>) – monitor container name if monitor is placed in
the container</p></li>
<li><p><strong>timeout</strong> – 300 seconds(default) max time to check if cluster is not
healthy within timeout period return 1</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>returns 0 when ceph is in healthy state otherwise returns 1</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.utils.cleanup_ceph_nodes">
<code class="sig-prename descclassname">ocs_ci.ocs.utils.</code><code class="sig-name descname">cleanup_ceph_nodes</code><span class="sig-paren">(</span><em class="sig-param">osp_cred</em>, <em class="sig-param">pattern=None</em>, <em class="sig-param">timeout=300</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.utils.cleanup_ceph_nodes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.utils.collect_noobaa_db_dump">
<code class="sig-prename descclassname">ocs_ci.ocs.utils.</code><code class="sig-name descname">collect_noobaa_db_dump</code><span class="sig-paren">(</span><em class="sig-param">log_dir_path</em>, <em class="sig-param">cluster_config=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.utils.collect_noobaa_db_dump" title="Permalink to this definition">¶</a></dt>
<dd><p>Collect the Noobaa DB dump</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>log_dir_path</strong> (<em>str</em>) – directory for dumped Noobaa DB</p></li>
<li><p><strong>cluster_config</strong> (<a class="reference internal" href="ocs_ci.framework.html#ocs_ci.framework.MultiClusterConfig" title="ocs_ci.framework.MultiClusterConfig"><em>MultiClusterConfig</em></a>) – If multicluster scenario then this object will have
specific cluster config</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.utils.collect_ocs_logs">
<code class="sig-prename descclassname">ocs_ci.ocs.utils.</code><code class="sig-name descname">collect_ocs_logs</code><span class="sig-paren">(</span><em class="sig-param">dir_name</em>, <em class="sig-param">ocp=True</em>, <em class="sig-param">ocs=True</em>, <em class="sig-param">mcg=False</em>, <em class="sig-param">status_failure=True</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.utils.collect_ocs_logs" title="Permalink to this definition">¶</a></dt>
<dd><p>Collects OCS logs</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dir_name</strong> (<em>str</em>) – directory name to store OCS logs. Logs will be stored
in dir_name suffix with _ocs_logs.</p></li>
<li><p><strong>ocp</strong> (<em>bool</em>) – Whether to gather OCP logs</p></li>
<li><p><strong>ocs</strong> (<em>bool</em>) – Whether to gather OCS logs</p></li>
<li><p><strong>mcg</strong> (<em>bool</em>) – True for collecting MCG logs (noobaa db dump)</p></li>
<li><p><strong>status_failure</strong> (<em>bool</em>) – Whether the collection is after success or failure,
allows better naming for folders under logs directory</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.utils.collect_pod_container_rpm_package">
<code class="sig-prename descclassname">ocs_ci.ocs.utils.</code><code class="sig-name descname">collect_pod_container_rpm_package</code><span class="sig-paren">(</span><em class="sig-param">dir_name</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.utils.collect_pod_container_rpm_package" title="Permalink to this definition">¶</a></dt>
<dd><p>Collect information about rpm packages from all containers + go version</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dir_name</strong> (<em>str</em>) – directory to store container rpm package info</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.utils.collect_prometheus_metrics">
<code class="sig-prename descclassname">ocs_ci.ocs.utils.</code><code class="sig-name descname">collect_prometheus_metrics</code><span class="sig-paren">(</span><em class="sig-param">metrics</em>, <em class="sig-param">dir_name</em>, <em class="sig-param">start</em>, <em class="sig-param">stop</em>, <em class="sig-param">step=1.0</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.utils.collect_prometheus_metrics" title="Permalink to this definition">¶</a></dt>
<dd><p>Collects metrics from Prometheus and saves them in file in json format.
Metrics can be found in OCP Console in Monitoring -&gt; Metrics.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>metrics</strong> (<em>list</em>) – list of metrics to get from Prometheus
(E.g. ceph_cluster_total_used_bytes, cluster:cpu_usage_cores:sum,
cluster:memory_usage_bytes:sum)</p></li>
<li><p><strong>dir_name</strong> (<em>str</em>) – directory name to store metrics. Metrics will be stored
in dir_name suffix with _ocs_metrics.</p></li>
<li><p><strong>start</strong> (<em>str</em>) – start timestamp of required datapoints</p></li>
<li><p><strong>stop</strong> (<em>str</em>) – stop timestamp of required datapoints</p></li>
<li><p><strong>step</strong> (<em>float</em>) – step of required datapoints</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.utils.config_ntp">
<code class="sig-prename descclassname">ocs_ci.ocs.utils.</code><code class="sig-name descname">config_ntp</code><span class="sig-paren">(</span><em class="sig-param">ceph_node</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.utils.config_ntp" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.utils.create_ceph_conf">
<code class="sig-prename descclassname">ocs_ci.ocs.utils.</code><code class="sig-name descname">create_ceph_conf</code><span class="sig-paren">(</span><em class="sig-param">fsid</em>, <em class="sig-param">mon_hosts</em>, <em class="sig-param">pg_num='128'</em>, <em class="sig-param">pgp_num='128'</em>, <em class="sig-param">size='2'</em>, <em class="sig-param">auth='cephx'</em>, <em class="sig-param">pnetwork='172.16.0.0/12'</em>, <em class="sig-param">jsize='1024'</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.utils.create_ceph_conf" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.utils.create_ceph_nodes">
<code class="sig-prename descclassname">ocs_ci.ocs.utils.</code><code class="sig-name descname">create_ceph_nodes</code><span class="sig-paren">(</span><em class="sig-param">cluster_conf</em>, <em class="sig-param">inventory</em>, <em class="sig-param">osp_cred</em>, <em class="sig-param">run_id</em>, <em class="sig-param">instances_name=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.utils.create_ceph_nodes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.utils.create_nodes">
<code class="sig-prename descclassname">ocs_ci.ocs.utils.</code><code class="sig-name descname">create_nodes</code><span class="sig-paren">(</span><em class="sig-param">conf</em>, <em class="sig-param">inventory</em>, <em class="sig-param">osp_cred</em>, <em class="sig-param">run_id</em>, <em class="sig-param">instances_name=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.utils.create_nodes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.utils.create_oc_resource">
<code class="sig-prename descclassname">ocs_ci.ocs.utils.</code><code class="sig-name descname">create_oc_resource</code><span class="sig-paren">(</span><em class="sig-param">template_name</em>, <em class="sig-param">cluster_path</em>, <em class="sig-param">_templating</em>, <em class="sig-param">template_data=None</em>, <em class="sig-param">template_dir='ocs-deployment'</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.utils.create_oc_resource" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an oc resource after rendering the specified template with
the rook data from cluster_conf.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>template_name</strong> (<em>str</em>) – Name of the ocs-deployment config template</p></li>
<li><p><strong>cluster_path</strong> (<em>str</em>) – Path to cluster directory, where files will be
written</p></li>
<li><p><strong>_templating</strong> (<a class="reference internal" href="ocs_ci.utility.html#ocs_ci.utility.templating.Templating" title="ocs_ci.utility.templating.Templating"><em>Templating</em></a>) – Object of Templating class used for
templating</p></li>
<li><p><strong>template_data</strong> (<em>dict</em>) – Data for render template (default: {})</p></li>
<li><p><strong>template_dir</strong> (<em>str</em>) – Directory under templates dir where template
exists (default: ocs-deployment)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.utils.enable_console_plugin">
<code class="sig-prename descclassname">ocs_ci.ocs.utils.</code><code class="sig-name descname">enable_console_plugin</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.utils.enable_console_plugin" title="Permalink to this definition">¶</a></dt>
<dd><p>Enables console plugin for ODF</p>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.utils.export_mg_pods_logs">
<code class="sig-prename descclassname">ocs_ci.ocs.utils.</code><code class="sig-name descname">export_mg_pods_logs</code><span class="sig-paren">(</span><em class="sig-param">log_dir_path</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.utils.export_mg_pods_logs" title="Permalink to this definition">¶</a></dt>
<dd><p>Export must gather pods logs</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>log_dir_path</strong> (<em>str</em>) – the path of copying the logs</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.utils.generate_repo_file">
<code class="sig-prename descclassname">ocs_ci.ocs.utils.</code><code class="sig-name descname">generate_repo_file</code><span class="sig-paren">(</span><em class="sig-param">base_url</em>, <em class="sig-param">repos</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.utils.generate_repo_file" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.utils.get_active_acm_index">
<code class="sig-prename descclassname">ocs_ci.ocs.utils.</code><code class="sig-name descname">get_active_acm_index</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.utils.get_active_acm_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Get index of active acm cluster</p>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.utils.get_all_acm_indexes">
<code class="sig-prename descclassname">ocs_ci.ocs.utils.</code><code class="sig-name descname">get_all_acm_indexes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.utils.get_all_acm_indexes" title="Permalink to this definition">¶</a></dt>
<dd><p>Get indexes fro all ACM clusters
This is more relevant in case of MDR scenario</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A list of ACM indexes</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.utils.get_ceph_versions">
<code class="sig-prename descclassname">ocs_ci.ocs.utils.</code><code class="sig-name descname">get_ceph_versions</code><span class="sig-paren">(</span><em class="sig-param">ceph_nodes</em>, <em class="sig-param">containerized=False</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.utils.get_ceph_versions" title="Permalink to this definition">¶</a></dt>
<dd><p>Log and return the ceph or ceph-ansible versions for each node in the cluster.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ceph_nodes</strong> – nodes in the cluster</p></li>
<li><p><strong>containerized</strong> – is the cluster containerized or not</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A dict of the name / version pair for each node or container in the cluster</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.utils.get_cluster_object">
<code class="sig-prename descclassname">ocs_ci.ocs.utils.</code><code class="sig-name descname">get_cluster_object</code><span class="sig-paren">(</span><em class="sig-param">external_rhcs_info</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.utils.get_cluster_object" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a external_ceph.ceph object with all node and role
info</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>external_rhcs_info</strong> (<em>dict</em>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>external_ceph.ceph object</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.utils.get_external_mode_rhcs">
<code class="sig-prename descclassname">ocs_ci.ocs.utils.</code><code class="sig-name descname">get_external_mode_rhcs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.utils.get_external_mode_rhcs" title="Permalink to this definition">¶</a></dt>
<dd><p>Get external cluster info from config and obtain
external cluster object</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>external_ceph.Ceph object</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.utils.get_helper_pods_output">
<code class="sig-prename descclassname">ocs_ci.ocs.utils.</code><code class="sig-name descname">get_helper_pods_output</code><span class="sig-paren">(</span><em class="sig-param">log_dir_path</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.utils.get_helper_pods_output" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the output of “oc describe mg-helper pods”</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>log_dir_path</strong> (<em>str</em>) – the path of copying the logs</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.utils.get_iso_file_url">
<code class="sig-prename descclassname">ocs_ci.ocs.utils.</code><code class="sig-name descname">get_iso_file_url</code><span class="sig-paren">(</span><em class="sig-param">base_url</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.utils.get_iso_file_url" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.utils.get_logs_ocp_mg_pods">
<code class="sig-prename descclassname">ocs_ci.ocs.utils.</code><code class="sig-name descname">get_logs_ocp_mg_pods</code><span class="sig-paren">(</span><em class="sig-param">log_dir_path</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.utils.get_logs_ocp_mg_pods" title="Permalink to this definition">¶</a></dt>
<dd><p>Get logs from OCP Must Gather pods</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>log_dir_path</strong> (<em>str</em>) – the path of copying the logs</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.utils.get_namespce_name_by_pattern">
<code class="sig-prename descclassname">ocs_ci.ocs.utils.</code><code class="sig-name descname">get_namespce_name_by_pattern</code><span class="sig-paren">(</span><em class="sig-param">pattern='client'</em>, <em class="sig-param">filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.utils.get_namespce_name_by_pattern" title="Permalink to this definition">¶</a></dt>
<dd><p>Find namespace names that match the given pattern</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pattern</strong> (<em>str</em>) – name of the namespace with given pattern</p></li>
<li><p><strong>filter</strong> (<em>str</em>) – namespace name to filter from the list</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Namespace names matching the pattern</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.utils.get_non_acm_cluster_config">
<code class="sig-prename descclassname">ocs_ci.ocs.utils.</code><code class="sig-name descname">get_non_acm_cluster_config</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.utils.get_non_acm_cluster_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a list of non-acm cluster’s config objects</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>of cluster config objects</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.utils.get_openstack_driver">
<code class="sig-prename descclassname">ocs_ci.ocs.utils.</code><code class="sig-name descname">get_openstack_driver</code><span class="sig-paren">(</span><em class="sig-param">yaml</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.utils.get_openstack_driver" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.utils.get_pod_name_by_pattern">
<code class="sig-prename descclassname">ocs_ci.ocs.utils.</code><code class="sig-name descname">get_pod_name_by_pattern</code><span class="sig-paren">(</span><em class="sig-param">pattern='client'</em>, <em class="sig-param">namespace=None</em>, <em class="sig-param">filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.utils.get_pod_name_by_pattern" title="Permalink to this definition">¶</a></dt>
<dd><p>In a given namespace find names of the pods that match
the given pattern</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pattern</strong> (<em>str</em>) – name of the pod with given pattern</p></li>
<li><p><strong>namespace</strong> (<em>str</em>) – Namespace value</p></li>
<li><p><strong>filter</strong> (<em>str</em>) – pod name to filter from the list</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of pod names matching the pattern</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pod_list (list)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.utils.get_primary_cluster_config">
<code class="sig-prename descclassname">ocs_ci.ocs.utils.</code><code class="sig-name descname">get_primary_cluster_config</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.utils.get_primary_cluster_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the primary cluster config object in a DR scenario</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>primary cluster config obhect from config.clusters</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>framework.config</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.utils.get_public_network">
<code class="sig-prename descclassname">ocs_ci.ocs.utils.</code><code class="sig-name descname">get_public_network</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.utils.get_public_network" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the configured public network subnet for nodes in the cluster.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>(str) public network subnet</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.utils.get_rook_version">
<code class="sig-prename descclassname">ocs_ci.ocs.utils.</code><code class="sig-name descname">get_rook_version</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.utils.get_rook_version" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the rook image information from rook-ceph-operator pod</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>rook version</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.utils.get_root_permissions">
<code class="sig-prename descclassname">ocs_ci.ocs.utils.</code><code class="sig-name descname">get_root_permissions</code><span class="sig-paren">(</span><em class="sig-param">node</em>, <em class="sig-param">path</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.utils.get_root_permissions" title="Permalink to this definition">¶</a></dt>
<dd><p>Transfer ownership of root to current user for the path given. Recursive.
:param node:
:type node: ceph.ceph.CephNode
:param path: file path</p>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.utils.hard_reboot">
<code class="sig-prename descclassname">ocs_ci.ocs.utils.</code><code class="sig-name descname">hard_reboot</code><span class="sig-paren">(</span><em class="sig-param">gyaml</em>, <em class="sig-param">name=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.utils.hard_reboot" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.utils.keep_alive">
<code class="sig-prename descclassname">ocs_ci.ocs.utils.</code><code class="sig-name descname">keep_alive</code><span class="sig-paren">(</span><em class="sig-param">ceph_nodes</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.utils.keep_alive" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.utils.kill_osd_external">
<code class="sig-prename descclassname">ocs_ci.ocs.utils.</code><code class="sig-name descname">kill_osd_external</code><span class="sig-paren">(</span><em class="sig-param">ceph_cluster</em>, <em class="sig-param">osd_id</em>, <em class="sig-param">sig_type='SIGTERM'</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.utils.kill_osd_external" title="Permalink to this definition">¶</a></dt>
<dd><p>Kill an osd with given signal</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ceph_cluster</strong> (<em>external_cluster.Ceph</em>) – Cluster object</p></li>
<li><p><strong>osd_id</strong> (<em>int</em>) – id of osd</p></li>
<li><p><strong>sig_type</strong> (<em>str</em>) – type of signal to be sent</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>CommandFailed exception</strong> – </p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.utils.label_pod_security_admission">
<code class="sig-prename descclassname">ocs_ci.ocs.utils.</code><code class="sig-name descname">label_pod_security_admission</code><span class="sig-paren">(</span><em class="sig-param">namespace=None</em>, <em class="sig-param">upgrade_version=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.utils.label_pod_security_admission" title="Permalink to this definition">¶</a></dt>
<dd><p>Label PodSecurity admission</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>namespace</strong> (<em>str</em>) – Namespace name</p></li>
<li><p><strong>upgrade_version</strong> (<em>semantic_version.Version</em>) – ODF semantic version for upgrade
if it’s an upgrade run, otherwise None.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.utils.node_power_failure">
<code class="sig-prename descclassname">ocs_ci.ocs.utils.</code><code class="sig-name descname">node_power_failure</code><span class="sig-paren">(</span><em class="sig-param">gyaml</em>, <em class="sig-param">sleep_time=300</em>, <em class="sig-param">name=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.utils.node_power_failure" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.utils.oc_get_all_obc_names">
<code class="sig-prename descclassname">ocs_ci.ocs.utils.</code><code class="sig-name descname">oc_get_all_obc_names</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.utils.oc_get_all_obc_names" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A set of all OBC names</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>set</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.utils.open_firewall_port">
<code class="sig-prename descclassname">ocs_ci.ocs.utils.</code><code class="sig-name descname">open_firewall_port</code><span class="sig-paren">(</span><em class="sig-param">ceph_node</em>, <em class="sig-param">port</em>, <em class="sig-param">protocol</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.utils.open_firewall_port" title="Permalink to this definition">¶</a></dt>
<dd><p>Opens firewall ports for given node
:param ceph_node: ceph node
:type ceph_node: ceph.ceph.CephNode
:param port: port
:type port: str
:param protocol: protocol
:type protocol: str</p>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.utils.reboot_node">
<code class="sig-prename descclassname">ocs_ci.ocs.utils.</code><code class="sig-name descname">reboot_node</code><span class="sig-paren">(</span><em class="sig-param">ceph_node</em>, <em class="sig-param">timeout=300</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.utils.reboot_node" title="Permalink to this definition">¶</a></dt>
<dd><p>Reboot a node with given ceph_node object</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ceph_node</strong> (<a class="reference internal" href="#ocs_ci.ocs.external_ceph.CephNode" title="ocs_ci.ocs.external_ceph.CephNode"><em>CephNode</em></a>) – Ceph node object representing the node.</p></li>
<li><p><strong>timeout</strong> (<em>int</em>) – Wait time in seconds for the node to comeback.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>SSHException</strong> – if not able to connect through ssh</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.utils.revive_osd_external">
<code class="sig-prename descclassname">ocs_ci.ocs.utils.</code><code class="sig-name descname">revive_osd_external</code><span class="sig-paren">(</span><em class="sig-param">ceph_cluster</em>, <em class="sig-param">osd_id</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.utils.revive_osd_external" title="Permalink to this definition">¶</a></dt>
<dd><p>Start an already stopped osd</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ceph_cluster</strong> (<em>external_cluster.Ceph</em>) – cluster object</p></li>
<li><p><strong>osd_id</strong> (<em>int</em>) – id of osd</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>CommandFailed exception in case of failure</strong> – </p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.utils.run_must_gather">
<code class="sig-prename descclassname">ocs_ci.ocs.utils.</code><code class="sig-name descname">run_must_gather</code><span class="sig-paren">(</span><em class="sig-param">log_dir_path</em>, <em class="sig-param">image</em>, <em class="sig-param">command=None</em>, <em class="sig-param">cluster_config=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.utils.run_must_gather" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs the must-gather tool against the cluster</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>log_dir_path</strong> (<em>str</em>) – directory for dumped must-gather logs</p></li>
<li><p><strong>image</strong> (<em>str</em>) – must-gather image registry path</p></li>
<li><p><strong>command</strong> (<em>str</em>) – optional command to execute within the must-gather image</p></li>
<li><p><strong>cluster_config</strong> (<a class="reference internal" href="ocs_ci.framework.html#ocs_ci.framework.MultiClusterConfig" title="ocs_ci.framework.MultiClusterConfig"><em>MultiClusterConfig</em></a>) – Holds specifc cluster config object in case of multicluster</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>must-gather cli output</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>mg_output (str)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.utils.search_ethernet_interface">
<code class="sig-prename descclassname">ocs_ci.ocs.utils.</code><code class="sig-name descname">search_ethernet_interface</code><span class="sig-paren">(</span><em class="sig-param">ceph_node</em>, <em class="sig-param">ceph_node_list</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.utils.search_ethernet_interface" title="Permalink to this definition">¶</a></dt>
<dd><p>Search interface on the given node node which allows every node in the cluster accesible by it’s shortname.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ceph_node</strong> (<em>ceph.ceph.CephNode</em>) – node where check is performed</p></li>
<li><p><strong>ceph_node_list</strong> (<em>list</em>) – node list to check</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.utils.set_cdn_repo">
<code class="sig-prename descclassname">ocs_ci.ocs.utils.</code><code class="sig-name descname">set_cdn_repo</code><span class="sig-paren">(</span><em class="sig-param">node</em>, <em class="sig-param">repos</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.utils.set_cdn_repo" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.utils.setup_cdn_repos">
<code class="sig-prename descclassname">ocs_ci.ocs.utils.</code><code class="sig-name descname">setup_cdn_repos</code><span class="sig-paren">(</span><em class="sig-param">ceph_nodes</em>, <em class="sig-param">build=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.utils.setup_cdn_repos" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.utils.setup_ceph_toolbox">
<code class="sig-prename descclassname">ocs_ci.ocs.utils.</code><code class="sig-name descname">setup_ceph_toolbox</code><span class="sig-paren">(</span><em class="sig-param">force_setup=False</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.utils.setup_ceph_toolbox" title="Permalink to this definition">¶</a></dt>
<dd><p>Setup ceph-toolbox - also checks if toolbox exists, if it exists it
behaves as noop.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>force_setup</strong> (<em>bool</em>) – force setup toolbox pod</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.utils.setup_deb_cdn_repo">
<code class="sig-prename descclassname">ocs_ci.ocs.utils.</code><code class="sig-name descname">setup_deb_cdn_repo</code><span class="sig-paren">(</span><em class="sig-param">node</em>, <em class="sig-param">build=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.utils.setup_deb_cdn_repo" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.utils.setup_deb_repos">
<code class="sig-prename descclassname">ocs_ci.ocs.utils.</code><code class="sig-name descname">setup_deb_repos</code><span class="sig-paren">(</span><em class="sig-param">node</em>, <em class="sig-param">ubuntu_repo</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.utils.setup_deb_repos" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.utils.setup_repos">
<code class="sig-prename descclassname">ocs_ci.ocs.utils.</code><code class="sig-name descname">setup_repos</code><span class="sig-paren">(</span><em class="sig-param">ceph</em>, <em class="sig-param">base_url</em>, <em class="sig-param">installer_url=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.utils.setup_repos" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.utils.setup_vm_node">
<code class="sig-prename descclassname">ocs_ci.ocs.utils.</code><code class="sig-name descname">setup_vm_node</code><span class="sig-paren">(</span><em class="sig-param">node</em>, <em class="sig-param">ceph_nodes</em>, <em class="sig-param">**params</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.utils.setup_vm_node" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.utils.store_cluster_state">
<code class="sig-prename descclassname">ocs_ci.ocs.utils.</code><code class="sig-name descname">store_cluster_state</code><span class="sig-paren">(</span><em class="sig-param">ceph_cluster_object</em>, <em class="sig-param">ceph_clusters_file_name</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.utils.store_cluster_state" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.utils.thread_init_class">
<code class="sig-prename descclassname">ocs_ci.ocs.utils.</code><code class="sig-name descname">thread_init_class</code><span class="sig-paren">(</span><em class="sig-param">class_init_operations</em>, <em class="sig-param">shutdown</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.utils.thread_init_class" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.utils.update_ca_cert">
<code class="sig-prename descclassname">ocs_ci.ocs.utils.</code><code class="sig-name descname">update_ca_cert</code><span class="sig-paren">(</span><em class="sig-param">node</em>, <em class="sig-param">cert_url</em>, <em class="sig-param">timeout=120</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.utils.update_ca_cert" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.utils.write_docker_daemon_json">
<code class="sig-prename descclassname">ocs_ci.ocs.utils.</code><code class="sig-name descname">write_docker_daemon_json</code><span class="sig-paren">(</span><em class="sig-param">json_text</em>, <em class="sig-param">node</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.utils.write_docker_daemon_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Write given string to /etc/docker/daemon/daemon
:param json_text: json string
:param node: Ceph node object
:type node: ceph.ceph.CephNode</p>
</dd></dl>

</div>
<div class="section" id="module-ocs_ci.ocs.version">
<span id="ocs-ci-ocs-version-module"></span><h2>ocs_ci.ocs.version module<a class="headerlink" href="#module-ocs_ci.ocs.version" title="Permalink to this headline">¶</a></h2>
<p>Version reporting module for OCS QE purposes:</p>
<blockquote>
<div><ul class="simple">
<li><p>logging version of OCS/OCP stack for every test run</p></li>
<li><p>generating version report directly usable in bug reports</p></li>
</ul>
</div></blockquote>
<p>It asks openshift for:</p>
<blockquote>
<div><ul class="simple">
<li><p>ClusterVersion resource</p></li>
<li><p>image identifiers of all containers running in openshift storage related
namespaces</p></li>
<li><p>rpm package versions of few selected components (such as rook or ceph, if
given pod is running)</p></li>
</ul>
</div></blockquote>
<dl class="function">
<dt id="ocs_ci.ocs.version.get_environment_info">
<code class="sig-prename descclassname">ocs_ci.ocs.version.</code><code class="sig-name descname">get_environment_info</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.version.get_environment_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Getting the environment information, Information that will be collected</p>
<dl class="simple">
<dt>Versions:</dt><dd><p>OCP - version / build / channel
OCS - version / build
Ceph - version
Rook - version</p>
</dd>
<dt>Platform:</dt><dd><p>BM / VmWare / Cloud provider etc.
Instance type / architecture
Cluster name
User name that run the test</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>dictionary that contain the environment information</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.version.get_ocp_version">
<code class="sig-prename descclassname">ocs_ci.ocs.version.</code><code class="sig-name descname">get_ocp_version</code><span class="sig-paren">(</span><em class="sig-param">version_dict=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.version.get_ocp_version" title="Permalink to this definition">¶</a></dt>
<dd><p>Query OCP to get sheer OCP version string. If optional <code class="docutils literal notranslate"><span class="pre">version_dict</span></code> is
specified, the version is extracted from the dict and OCP query is not
performed.</p>
<p>See an example of OCP version string:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;4.10.0-0.nightly-2022-02-09-111355&#39;</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>version_dict</strong> (<em>dict</em>) – k8s ClusterVersion dict dump (optional)</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>full version string of OCP cluster</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.version.get_ocp_version_dict">
<code class="sig-prename descclassname">ocs_ci.ocs.version.</code><code class="sig-name descname">get_ocp_version_dict</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.version.get_ocp_version_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Query OCP to get all information about OCP version.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>ClusterVersion k8s object</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.version.get_ocs_version">
<code class="sig-prename descclassname">ocs_ci.ocs.version.</code><code class="sig-name descname">get_ocs_version</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.version.get_ocs_version" title="Permalink to this definition">¶</a></dt>
<dd><p>Query OCP to get all information about OCS version.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>image_dict with information about images IDs</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.version.main">
<code class="sig-prename descclassname">ocs_ci.ocs.version.</code><code class="sig-name descname">main</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.version.main" title="Permalink to this definition">¶</a></dt>
<dd><p>Main fuction of version reporting command line tool.
used by entry point report-version from setup.py
to invoke this function.</p>
</dd></dl>

<dl class="function">
<dt id="ocs_ci.ocs.version.report_ocs_version">
<code class="sig-prename descclassname">ocs_ci.ocs.version.</code><code class="sig-name descname">report_ocs_version</code><span class="sig-paren">(</span><em class="sig-param">cluster_version</em>, <em class="sig-param">image_dict</em>, <em class="sig-param">file_obj</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.version.report_ocs_version" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Report OCS version via:</dt><dd><ul class="simple">
<li><p>python logging</p></li>
<li><p>printing human readable version into file_obj (stdout by default)</p></li>
</ul>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cluster_version</strong> (<em>dict</em>) – cluster version dict</p></li>
<li><p><strong>image_dict</strong> (<em>dict</em>) – dict of image objects</p></li>
<li><p><strong>file_obj</strong> (<em>object</em>) – file object to log information</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-ocs_ci.ocs.warp">
<span id="ocs-ci-ocs-warp-module"></span><h2>ocs_ci.ocs.warp module<a class="headerlink" href="#module-ocs_ci.ocs.warp" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ocs_ci.ocs.warp.Warp">
<em class="property">class </em><code class="sig-prename descclassname">ocs_ci.ocs.warp.</code><code class="sig-name descname">Warp</code><a class="headerlink" href="#ocs_ci.ocs.warp.Warp" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Warp - S3 benchmarking tool: <a class="reference external" href="https://github.com/minio/warp">https://github.com/minio/warp</a>
WARP is an open-source full-featured S3 performance assessment software
built to conduct tests between WARP clients and object storage hosts.
WARP measures GET and PUT performance from multiple clients against a MinIO cluster.</p>
<dl class="method">
<dt id="ocs_ci.ocs.warp.Warp.cleanup">
<code class="sig-name descname">cleanup</code><span class="sig-paren">(</span><em class="sig-param">multi_client=False</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.warp.Warp.cleanup" title="Permalink to this definition">¶</a></dt>
<dd><p>Clear all objects in the associated bucket
Clean up deployment config, pvc, pod and test user</p>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.warp.Warp.create_resource_warp">
<code class="sig-name descname">create_resource_warp</code><span class="sig-paren">(</span><em class="sig-param">multi_client=False</em>, <em class="sig-param">replicas=1</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.warp.Warp.create_resource_warp" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Create resource for Warp S3 benchmark:</dt><dd><ul class="simple">
<li><p>Create service account</p></li>
<li><p>Create PVC</p></li>
<li><p>Create warp pod for running workload</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.warp.Warp.run_benchmark">
<code class="sig-name descname">run_benchmark</code><span class="sig-paren">(</span><em class="sig-param">bucket_name=None</em>, <em class="sig-param">access_key=None</em>, <em class="sig-param">secret_key=None</em>, <em class="sig-param">duration=None</em>, <em class="sig-param">concurrent=None</em>, <em class="sig-param">objects=None</em>, <em class="sig-param">obj_size=None</em>, <em class="sig-param">timeout=None</em>, <em class="sig-param">validate=True</em>, <em class="sig-param">multi_client=True</em>, <em class="sig-param">tls=False</em>, <em class="sig-param">insecure=False</em>, <em class="sig-param">debug=False</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.warp.Warp.run_benchmark" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Running Warp S3 benchmark
Usage detail can be found at: <a class="reference external" href="https://github.com/minio/warp">https://github.com/minio/warp</a></p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bucket_name</strong> (<em>string</em>) – Name of bucket</p></li>
<li><p><strong>access_key</strong> (<em>string</em>) – Access Key credential</p></li>
<li><p><strong>secret_key</strong> (<em>string</em>) – Secret Key credential</p></li>
<li><p><strong>duration</strong> (<em>string</em>) – Duration of the test</p></li>
<li><p><strong>concurrent</strong> (<em>int</em>) – number of concurrent</p></li>
<li><p><strong>objects</strong> (<em>int</em>) – number of objects</p></li>
<li><p><strong>obj_size</strong> (<em>int</em>) – size of object</p></li>
<li><p><strong>timeout</strong> (<em>int</em>) – timeout in seconds</p></li>
<li><p><strong>validate</strong> (<em>Boolean</em>) – Validates whether running workload is completed.</p></li>
<li><p><strong>multi_client</strong> (<em>Boolean</em>) – If True, then run multi client benchmarking</p></li>
<li><p><strong>tls</strong> (<em>Boolean</em>) – Use TLS (HTTPS) for transport</p></li>
<li><p><strong>insecure</strong> (<em>Boolean</em>) – disable TLS certification verification</p></li>
<li><p><strong>debug</strong> (<em>Boolean</em>) – Enable debug output</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.warp.Warp.validate_warp_workload">
<code class="sig-name descname">validate_warp_workload</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.warp.Warp.validate_warp_workload" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate if workload was running on the app-pod</p>
<dl class="simple">
<dt>Raise:</dt><dd><p>UnexpectedBehaviour: if output.csv file doesn’t contain output data.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-ocs_ci.ocs.workload">
<span id="ocs-ci-ocs-workload-module"></span><h2>ocs_ci.ocs.workload module<a class="headerlink" href="#module-ocs_ci.ocs.workload" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ocs_ci.ocs.workload.WorkLoad">
<em class="property">class </em><code class="sig-prename descclassname">ocs_ci.ocs.workload.</code><code class="sig-name descname">WorkLoad</code><span class="sig-paren">(</span><em class="sig-param">name=None</em>, <em class="sig-param">path=None</em>, <em class="sig-param">work_load=None</em>, <em class="sig-param">storage_type='fs'</em>, <em class="sig-param">pod=None</em>, <em class="sig-param">jobs=1</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.workload.WorkLoad" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="ocs_ci.ocs.workload.WorkLoad.run">
<code class="sig-name descname">run</code><span class="sig-paren">(</span><em class="sig-param">**conf</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.workload.WorkLoad.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform work_load_mod.run in order to run actual io.
Every workload module should implement run() function so that we can
invoke &lt;workload_module&gt;.run() to run IOs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>**conf</strong> (<em>dict</em>) – Run configuration a.k.a parameters for workload
io runs</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Returns a concurrent.future object</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>result (Future)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ocs_ci.ocs.workload.WorkLoad.setup">
<code class="sig-name descname">setup</code><span class="sig-paren">(</span><em class="sig-param">**setup_conf</em><span class="sig-paren">)</span><a class="headerlink" href="#ocs_ci.ocs.workload.WorkLoad.setup" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform work_load_mod.setup() to setup the workload.
Every workload module should implement setup() method so that
respective &lt;workload_module&gt;.setup() function can be called from here</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>setup_conf</strong> (<em>dict</em>) – Work load setup configuration, varies from
workload to workload. Refer constants.TEMPLATE_WORKLOAD_DIR
for various available workloads</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if setup is success else False</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-ocs_ci.ocs">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-ocs_ci.ocs" title="Permalink to this headline">¶</a></h2>
<p>Avoid already-imported warning cause of we are importing this package from
run wrapper for loading config.</p>
<p>You can see documentation here:
<a class="reference external" href="https://docs.pytest.org/en/latest/reference.html">https://docs.pytest.org/en/latest/reference.html</a>
under section PYTEST_DONT_REWRITE</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="ocs_ci.ocs.acm.html" class="btn btn-neutral float-right" title="ocs_ci.ocs.acm package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="ocs_ci.helpers.html" class="btn btn-neutral float-left" title="ocs_ci.helpers package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2019, OCS-QE

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>