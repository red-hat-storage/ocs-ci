# Usage

**Work in progress**

`run.py` is the main script for ocs-ci. You can view the full usage details by passing in the `--help` argument.

```bash
python run.py --help
```

## Required configuration

* **AWS credentials** - if you have AWS already configured by `aws configure`,
    see:
    [AWS doc](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-configure.html)
    there shouldn't be need of any additional configuration for AWS. If not,
    please make sure you configure your AWS credentials via `aws configure`
    command, or you have proper configuration done in `~/.aws` folder which is
    usually generated by mentioned command.

## Required Arguments

There are a few arguments that are required ocs test execution:

* `--suite <suite_file>`

## Useful Arguments

Some non-required arguments that we end up using a lot:

* `--log-level <level>` - set the log level that is output to stdout.
* `--cluster-name <name>` - name of cluster.
* `--cluster-path <path>` - path where to create the directory which will
    contains all the installation/authentication information about cluster.
    `Use this parameter when running on already deployed cluster!` You can
    pass the cluster path from previous execution if was created automatically.
* `--conf` - with this configuration you can overwrite the default parameters
    for cluster and deployment. See the example of such file
    [here](../conf/ocs_basic_install.yml).
* `--no-destroy` - this will prevent you to destroy your cluster at the end of
    the execution. (Recommended if you want to re-run on the same cluster)

## Examples

* Run OCS install suite:

```bash
python run.py --suite suites/ocs_basic_install.yml --log-level info
```

* Run with specific name of cluster and cluster directory without sending email:

```bash
python run.py --cluster-name=my-testing-cluster \
    --suite=suites/custom-test.yml --cluster-path=/home/your_login/my-testing-cluster \
    --no-email
```
